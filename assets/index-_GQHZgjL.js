(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=t(a);fetch(a.href,c)}})();function Ey(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Bh={exports:{}},Ta={},$h={exports:{}},Ie={};var Lm;function XE(){if(Lm)return Ie;Lm=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,Q={};function G(O,$,Ee){this.props=O,this.context=$,this.refs=Q,this.updater=Ee||j}G.prototype.isReactComponent={},G.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},G.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function pe(){}pe.prototype=G.prototype;function de(O,$,Ee){this.props=O,this.context=$,this.refs=Q,this.updater=Ee||j}var Te=de.prototype=new pe;Te.constructor=de,J(Te,G.prototype),Te.isPureReactComponent=!0;var Se=Array.isArray,Ye=Object.prototype.hasOwnProperty,Ae={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(O,$,Ee){var we,Re={},Ce=null,Fe=null;if($!=null)for(we in $.ref!==void 0&&(Fe=$.ref),$.key!==void 0&&(Ce=""+$.key),$)Ye.call($,we)&&!k.hasOwnProperty(we)&&(Re[we]=$[we]);var Oe=arguments.length-2;if(Oe===1)Re.children=Ee;else if(1<Oe){for(var Be=Array(Oe),Ut=0;Ut<Oe;Ut++)Be[Ut]=arguments[Ut+2];Re.children=Be}if(O&&O.defaultProps)for(we in Oe=O.defaultProps,Oe)Re[we]===void 0&&(Re[we]=Oe[we]);return{$$typeof:i,type:O,key:Ce,ref:Fe,props:Re,_owner:Ae.current}}function R(O,$){return{$$typeof:i,type:O.type,key:$,ref:O.ref,props:O.props,_owner:O._owner}}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function A(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Ee){return $[Ee]})}var N=/\/+/g;function T(O,$){return typeof O=="object"&&O!==null&&O.key!=null?A(""+O.key):$.toString(36)}function xe(O,$,Ee,we,Re){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var Fe=!1;if(O===null)Fe=!0;else switch(Ce){case"string":case"number":Fe=!0;break;case"object":switch(O.$$typeof){case i:case e:Fe=!0}}if(Fe)return Fe=O,Re=Re(Fe),O=we===""?"."+T(Fe,0):we,Se(Re)?(Ee="",O!=null&&(Ee=O.replace(N,"$&/")+"/"),xe(Re,$,Ee,"",function(Ut){return Ut})):Re!=null&&(V(Re)&&(Re=R(Re,Ee+(!Re.key||Fe&&Fe.key===Re.key?"":(""+Re.key).replace(N,"$&/")+"/")+O)),$.push(Re)),1;if(Fe=0,we=we===""?".":we+":",Se(O))for(var Oe=0;Oe<O.length;Oe++){Ce=O[Oe];var Be=we+T(Ce,Oe);Fe+=xe(Ce,$,Ee,Be,Re)}else if(Be=x(O),typeof Be=="function")for(O=Be.call(O),Oe=0;!(Ce=O.next()).done;)Ce=Ce.value,Be=we+T(Ce,Oe++),Fe+=xe(Ce,$,Ee,Be,Re);else if(Ce==="object")throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Fe}function ze(O,$,Ee){if(O==null)return O;var we=[],Re=0;return xe(O,we,"","",function(Ce){return $.call(Ee,Ce,Re++)}),we}function nt(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(Ee){(O._status===0||O._status===-1)&&(O._status=1,O._result=Ee)},function(Ee){(O._status===0||O._status===-1)&&(O._status=2,O._result=Ee)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var Je={current:null},X={transition:null},ue={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:X,ReactCurrentOwner:Ae};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:ze,forEach:function(O,$,Ee){ze(O,function(){$.apply(this,arguments)},Ee)},count:function(O){var $=0;return ze(O,function(){$++}),$},toArray:function(O){return ze(O,function($){return $})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ie.Component=G,Ie.Fragment=t,Ie.Profiler=a,Ie.PureComponent=de,Ie.StrictMode=s,Ie.Suspense=y,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Ie.act=re,Ie.cloneElement=function(O,$,Ee){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var we=J({},O.props),Re=O.key,Ce=O.ref,Fe=O._owner;if($!=null){if($.ref!==void 0&&(Ce=$.ref,Fe=Ae.current),$.key!==void 0&&(Re=""+$.key),O.type&&O.type.defaultProps)var Oe=O.type.defaultProps;for(Be in $)Ye.call($,Be)&&!k.hasOwnProperty(Be)&&(we[Be]=$[Be]===void 0&&Oe!==void 0?Oe[Be]:$[Be])}var Be=arguments.length-2;if(Be===1)we.children=Ee;else if(1<Be){Oe=Array(Be);for(var Ut=0;Ut<Be;Ut++)Oe[Ut]=arguments[Ut+2];we.children=Oe}return{$$typeof:i,type:O.type,key:Re,ref:Ce,props:we,_owner:Fe}},Ie.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:c,_context:O},O.Consumer=O},Ie.createElement=S,Ie.createFactory=function(O){var $=S.bind(null,O);return $.type=O,$},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(O){return{$$typeof:m,render:O}},Ie.isValidElement=V,Ie.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:nt}},Ie.memo=function(O,$){return{$$typeof:v,type:O,compare:$===void 0?null:$}},Ie.startTransition=function(O){var $=X.transition;X.transition={};try{O()}finally{X.transition=$}},Ie.unstable_act=re,Ie.useCallback=function(O,$){return Je.current.useCallback(O,$)},Ie.useContext=function(O){return Je.current.useContext(O)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(O){return Je.current.useDeferredValue(O)},Ie.useEffect=function(O,$){return Je.current.useEffect(O,$)},Ie.useId=function(){return Je.current.useId()},Ie.useImperativeHandle=function(O,$,Ee){return Je.current.useImperativeHandle(O,$,Ee)},Ie.useInsertionEffect=function(O,$){return Je.current.useInsertionEffect(O,$)},Ie.useLayoutEffect=function(O,$){return Je.current.useLayoutEffect(O,$)},Ie.useMemo=function(O,$){return Je.current.useMemo(O,$)},Ie.useReducer=function(O,$,Ee){return Je.current.useReducer(O,$,Ee)},Ie.useRef=function(O){return Je.current.useRef(O)},Ie.useState=function(O){return Je.current.useState(O)},Ie.useSyncExternalStore=function(O,$,Ee){return Je.current.useSyncExternalStore(O,$,Ee)},Ie.useTransition=function(){return Je.current.useTransition()},Ie.version="18.3.1",Ie}var Mm;function Od(){return Mm||(Mm=1,$h.exports=XE()),$h.exports}var bm;function ZE(){if(bm)return Ta;bm=1;var i=Od(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(m,y,v){var w,C={},x=null,j=null;v!==void 0&&(x=""+v),y.key!==void 0&&(x=""+y.key),y.ref!==void 0&&(j=y.ref);for(w in y)s.call(y,w)&&!c.hasOwnProperty(w)&&(C[w]=y[w]);if(m&&m.defaultProps)for(w in y=m.defaultProps,y)C[w]===void 0&&(C[w]=y[w]);return{$$typeof:e,type:m,key:x,ref:j,props:C,_owner:a.current}}return Ta.Fragment=t,Ta.jsx=h,Ta.jsxs=h,Ta}var Fm;function ew(){return Fm||(Fm=1,Bh.exports=ZE()),Bh.exports}var te=ew(),Bt=Od();const tw=Ey(Bt);var gu={},Wh={exports:{}},Qt={},Hh={exports:{}},qh={};var Um;function nw(){return Um||(Um=1,(function(i){function e(X,ue){var re=X.length;X.push(ue);e:for(;0<re;){var O=re-1>>>1,$=X[O];if(0<a($,ue))X[O]=ue,X[re]=$,re=O;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ue=X[0],re=X.pop();if(re!==ue){X[0]=re;e:for(var O=0,$=X.length,Ee=$>>>1;O<Ee;){var we=2*(O+1)-1,Re=X[we],Ce=we+1,Fe=X[Ce];if(0>a(Re,re))Ce<$&&0>a(Fe,Re)?(X[O]=Fe,X[Ce]=re,O=Ce):(X[O]=Re,X[we]=re,O=we);else if(Ce<$&&0>a(Fe,re))X[O]=Fe,X[Ce]=re,O=Ce;else break e}}return ue}function a(X,ue){var re=X.sortIndex-ue.sortIndex;return re!==0?re:X.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var y=[],v=[],w=1,C=null,x=3,j=!1,J=!1,Q=!1,G=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Te(X){for(var ue=t(v);ue!==null;){if(ue.callback===null)s(v);else if(ue.startTime<=X)s(v),ue.sortIndex=ue.expirationTime,e(y,ue);else break;ue=t(v)}}function Se(X){if(Q=!1,Te(X),!J)if(t(y)!==null)J=!0,nt(Ye);else{var ue=t(v);ue!==null&&Je(Se,ue.startTime-X)}}function Ye(X,ue){J=!1,Q&&(Q=!1,pe(S),S=-1),j=!0;var re=x;try{for(Te(ue),C=t(y);C!==null&&(!(C.expirationTime>ue)||X&&!A());){var O=C.callback;if(typeof O=="function"){C.callback=null,x=C.priorityLevel;var $=O(C.expirationTime<=ue);ue=i.unstable_now(),typeof $=="function"?C.callback=$:C===t(y)&&s(y),Te(ue)}else s(y);C=t(y)}if(C!==null)var Ee=!0;else{var we=t(v);we!==null&&Je(Se,we.startTime-ue),Ee=!1}return Ee}finally{C=null,x=re,j=!1}}var Ae=!1,k=null,S=-1,R=5,V=-1;function A(){return!(i.unstable_now()-V<R)}function N(){if(k!==null){var X=i.unstable_now();V=X;var ue=!0;try{ue=k(!0,X)}finally{ue?T():(Ae=!1,k=null)}}else Ae=!1}var T;if(typeof de=="function")T=function(){de(N)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,ze=xe.port2;xe.port1.onmessage=N,T=function(){ze.postMessage(null)}}else T=function(){G(N,0)};function nt(X){k=X,Ae||(Ae=!0,T())}function Je(X,ue){S=G(function(){X(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_continueExecution=function(){J||j||(J=!0,nt(Ye))},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_getFirstCallbackNode=function(){return t(y)},i.unstable_next=function(X){switch(x){case 1:case 2:case 3:var ue=3;break;default:ue=x}var re=x;x=ue;try{return X()}finally{x=re}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var re=x;x=X;try{return ue()}finally{x=re}},i.unstable_scheduleCallback=function(X,ue,re){var O=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?O+re:O):re=O,X){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=re+$,X={id:w++,callback:ue,priorityLevel:X,startTime:re,expirationTime:$,sortIndex:-1},re>O?(X.sortIndex=re,e(v,X),t(y)===null&&X===t(v)&&(Q?(pe(S),S=-1):Q=!0,Je(Se,re-O))):(X.sortIndex=$,e(y,X),J||j||(J=!0,nt(Ye))),X},i.unstable_shouldYield=A,i.unstable_wrapCallback=function(X){var ue=x;return function(){var re=x;x=ue;try{return X.apply(this,arguments)}finally{x=re}}}})(qh)),qh}var jm;function rw(){return jm||(jm=1,Hh.exports=nw()),Hh.exports}var zm;function iw(){if(zm)return Qt;zm=1;var i=Od(),e=rw();function t(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(n,r){h(n,r),h(n+"Capture",r)}function h(n,r){for(a[n]=r,n=0;n<r.length;n++)s.add(r[n])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},C={};function x(n){return y.call(C,n)?!0:y.call(w,n)?!1:v.test(n)?C[n]=!0:(w[n]=!0,!1)}function j(n,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function J(n,r,o,u){if(r===null||typeof r>"u"||j(n,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Q(n,r,o,u,d,f,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=n,this.type=r,this.sanitizeURL=f,this.removeEmptyString=_}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){G[n]=new Q(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];G[r]=new Q(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){G[n]=new Q(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){G[n]=new Q(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){G[n]=new Q(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){G[n]=new Q(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){G[n]=new Q(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){G[n]=new Q(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){G[n]=new Q(n,5,!1,n.toLowerCase(),null,!1,!1)});var pe=/[\-:]([a-z])/g;function de(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(pe,de);G[r]=new Q(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(pe,de);G[r]=new Q(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(pe,de);G[r]=new Q(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){G[n]=new Q(n,1,!1,n.toLowerCase(),null,!1,!1)}),G.xlinkHref=new Q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){G[n]=new Q(n,1,!1,n.toLowerCase(),null,!0,!0)});function Te(n,r,o,u){var d=G.hasOwnProperty(r)?G[r]:null;(d!==null?d.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(J(r,o,d,u)&&(o=null),u||d===null?x(r)&&(o===null?n.removeAttribute(r):n.setAttribute(r,""+o)):d.mustUseProperty?n[d.propertyName]=o===null?d.type===3?!1:"":o:(r=d.attributeName,u=d.attributeNamespace,o===null?n.removeAttribute(r):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,u?n.setAttributeNS(u,r,o):n.setAttribute(r,o))))}var Se=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ye=Symbol.for("react.element"),Ae=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),A=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),ze=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),Je=Symbol.for("react.offscreen"),X=Symbol.iterator;function ue(n){return n===null||typeof n!="object"?null:(n=X&&n[X]||n["@@iterator"],typeof n=="function"?n:null)}var re=Object.assign,O;function $(n){if(O===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);O=r&&r[1]||""}return`
`+O+n}var Ee=!1;function we(n,r){if(!n||Ee)return"";Ee=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(F){var u=F}Reflect.construct(n,[],r)}else{try{r.call()}catch(F){u=F}n.call(r.prototype)}else{try{throw Error()}catch(F){u=F}n()}}catch(F){if(F&&u&&typeof F.stack=="string"){for(var d=F.stack.split(`
`),f=u.stack.split(`
`),_=d.length-1,I=f.length-1;1<=_&&0<=I&&d[_]!==f[I];)I--;for(;1<=_&&0<=I;_--,I--)if(d[_]!==f[I]){if(_!==1||I!==1)do if(_--,I--,0>I||d[_]!==f[I]){var P=`
`+d[_].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=_&&0<=I);break}}}finally{Ee=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?$(n):""}function Re(n){switch(n.tag){case 5:return $(n.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return n=we(n.type,!1),n;case 11:return n=we(n.type.render,!1),n;case 1:return n=we(n.type,!0),n;default:return""}}function Ce(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case Ae:return"Portal";case R:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case xe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case A:return(n.displayName||"Context")+".Consumer";case V:return(n._context.displayName||"Context")+".Provider";case N:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ze:return r=n.displayName||null,r!==null?r:Ce(n.type)||"Memo";case nt:r=n._payload,n=n._init;try{return Ce(n(r))}catch{}}return null}function Fe(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(r);case 8:return r===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Oe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Be(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ut(n){var r=Be(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){u=""+_,f.call(this,_)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function fs(n){n._valueTracker||(n._valueTracker=Ut(n))}function Po(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return n&&(u=Be(n)?n.checked?"true":"false":n.value),n=u,n!==o?(r.setValue(n),!0):!1}function Vr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ps(n,r){var o=r.checked;return re({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??n._wrapperState.initialChecked})}function tl(n,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Oe(r.value!=null?r.value:o),n._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function ms(n,r){r=r.checked,r!=null&&Te(n,"checked",r,!1)}function Ai(n,r){ms(n,r);var o=Oe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(u==="submit"||u==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?ct(n,r.type,o):r.hasOwnProperty("defaultValue")&&ct(n,r.type,Oe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function ko(n,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,o||r===n.value||(n.value=r),n.defaultValue=r}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function ct(n,r,o){(r!=="number"||Vr(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var st=Array.isArray;function yn(n,r,o,u){if(n=n.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<n.length;o++)d=r.hasOwnProperty("$"+n[o].value),n[o].selected!==d&&(n[o].selected=d),d&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Oe(o),r=null,d=0;d<n.length;d++){if(n[d].value===o){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function No(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Do(n,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(t(92));if(st(o)){if(1<o.length)throw Error(t(93));o=o[0]}r=o}r==null&&(r=""),o=r}n._wrapperState={initialValue:Oe(o)}}function nl(n,r){var o=Oe(r.value),u=Oe(r.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),r.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),u!=null&&(n.defaultValue=""+u)}function xr(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function Vo(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gs(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?Vo(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Or,rl=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,d){MSApp.execUnsafeLocalFunction(function(){return n(r,o,u,d)})}:n})(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(Or=Or||document.createElement("div"),Or.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Or.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function Ri(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var Lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},il=["Webkit","ms","Moz","O"];Object.keys(Lr).forEach(function(n){il.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),Lr[r]=Lr[n]})});function Mr(n,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Lr.hasOwnProperty(n)&&Lr[n]?(""+r).trim():r+"px"}function ys(n,r){n=n.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,d=Mr(o,r[o],u);o==="float"&&(o="cssFloat"),u?n.setProperty(o,d):n[o]=d}}var xo=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _n(n,r){if(r){if(xo[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(t(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(t(61))}if(r.style!=null&&typeof r.style!="object")throw Error(t(62))}}function _s(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var br=null;function vs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var sr=null,or=null,rt=null;function Oo(n){if(n=aa(n)){if(typeof sr!="function")throw Error(t(280));var r=n.stateNode;r&&(r=Dl(r),sr(n.stateNode,n.type,r))}}function Fr(n){or?rt?rt.push(n):rt=[n]:or=n}function Ur(){if(or){var n=or,r=rt;if(rt=or=null,Oo(n),r)for(n=0;n<r.length;n++)Oo(r[n])}}function sl(n,r){return n(r)}function ol(){}var xn=!1;function al(n,r,o){if(xn)return n(r,o);xn=!0;try{return sl(n,r,o)}finally{xn=!1,(or!==null||rt!==null)&&(ol(),Ur())}}function Ci(n,r){var o=n.stateNode;if(o===null)return null;var u=Dl(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(t(231,r,typeof o));return o}var jr=!1;if(m)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){jr=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{jr=!1}function ll(n,r,o,u,d,f,_,I,P){var F=Array.prototype.slice.call(arguments,3);try{r.apply(o,F)}catch(H){this.onError(H)}}var ar=!1,On=null,Es=!1,an=null,ul={onError:function(n){ar=!0,On=n}};function cl(n,r,o,u,d,f,_,I,P){ar=!1,On=null,ll.apply(ul,arguments)}function Lo(n,r,o,u,d,f,_,I,P){if(cl.apply(this,arguments),ar){if(ar){var F=On;ar=!1,On=null}else throw Error(t(198));Es||(Es=!0,an=F)}}function vn(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function Mo(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function hl(n){if(vn(n)!==n)throw Error(t(188))}function dl(n){var r=n.alternate;if(!r){if(r=vn(n),r===null)throw Error(t(188));return r!==n?null:n}for(var o=n,u=r;;){var d=o.return;if(d===null)break;var f=d.alternate;if(f===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===o)return hl(d),n;if(f===u)return hl(d),r;f=f.sibling}throw Error(t(188))}if(o.return!==u.return)o=d,u=f;else{for(var _=!1,I=d.child;I;){if(I===o){_=!0,o=d,u=f;break}if(I===u){_=!0,u=d,o=f;break}I=I.sibling}if(!_){for(I=f.child;I;){if(I===o){_=!0,o=f,u=d;break}if(I===u){_=!0,u=f,o=d;break}I=I.sibling}if(!_)throw Error(t(189))}}if(o.alternate!==u)throw Error(t(190))}if(o.tag!==3)throw Error(t(188));return o.stateNode.current===o?n:r}function fl(n){return n=dl(n),n!==null?Pi(n):null}function Pi(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=Pi(n);if(r!==null)return r;n=n.sibling}return null}var bo=e.unstable_scheduleCallback,ws=e.unstable_cancelCallback,ki=e.unstable_shouldYield,lr=e.unstable_requestPaint,qe=e.unstable_now,vc=e.unstable_getCurrentPriorityLevel,Ts=e.unstable_ImmediatePriority,Fo=e.unstable_UserBlockingPriority,Ni=e.unstable_NormalPriority,Uo=e.unstable_LowPriority,Is=e.unstable_IdlePriority,Di=null,Jt=null;function pl(n){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Di,n,void 0,(n.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Vi,Ln=Math.log,ln=Math.LN2;function Vi(n){return n>>>=0,n===0?32:31-(Ln(n)/ln|0)|0}var Mn=64,Br=4194304;function be(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ur(n,r){var o=n.pendingLanes;if(o===0)return 0;var u=0,d=n.suspendedLanes,f=n.pingedLanes,_=o&268435455;if(_!==0){var I=_&~d;I!==0?u=be(I):(f&=_,f!==0&&(u=be(f)))}else _=o&~d,_!==0?u=be(_):f!==0&&(u=be(f));if(u===0)return 0;if(r!==0&&r!==u&&(r&d)===0&&(d=u&-u,f=r&-r,d>=f||d===16&&(f&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=u;0<r;)o=31-Xt(r),d=1<<o,u|=n[o],r&=~d;return u}function xi(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oi(n,r){for(var o=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,f=n.pendingLanes;0<f;){var _=31-Xt(f),I=1<<_,P=d[_];P===-1?((I&o)===0||(I&u)!==0)&&(d[_]=xi(I,r)):P<=r&&(n.expiredLanes|=I),f&=~I}}function jo(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function zo(){var n=Mn;return Mn<<=1,(Mn&4194240)===0&&(Mn=64),n}function Bo(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Li(n,r,o){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-Xt(r),n[r]=o}function Ec(n,r){var o=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var u=n.eventTimes;for(n=n.expirationTimes;0<o;){var d=31-Xt(o),f=1<<d;r[d]=0,u[d]=-1,n[d]=-1,o&=~f}}function $o(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var u=31-Xt(o),d=1<<u;d&r|n[u]&r&&(n[u]|=r),o&=~d}}var De=0;function bn(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Wo,Ss,Ho,qo,Go,Fn=!1,As=[],Un=null,jn=null,It=null,Mi=new Map,cr=new Map,Zt=[],ml="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $r(n,r){switch(n){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Mi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cr.delete(r.pointerId)}}function En(n,r,o,u,d,f){return n===null||n.nativeEvent!==f?(n={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:f,targetContainers:[d]},r!==null&&(r=aa(r),r!==null&&Ss(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function gl(n,r,o,u,d){switch(r){case"focusin":return Un=En(Un,n,r,o,u,d),!0;case"dragenter":return jn=En(jn,n,r,o,u,d),!0;case"mouseover":return It=En(It,n,r,o,u,d),!0;case"pointerover":var f=d.pointerId;return Mi.set(f,En(Mi.get(f)||null,n,r,o,u,d)),!0;case"gotpointercapture":return f=d.pointerId,cr.set(f,En(cr.get(f)||null,n,r,o,u,d)),!0}return!1}function Rs(n){var r=ji(n.target);if(r!==null){var o=vn(r);if(o!==null){if(r=o.tag,r===13){if(r=Mo(o),r!==null){n.blockedOn=r,Go(n.priority,function(){Ho(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function $e(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Cs(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);br=u,o.target.dispatchEvent(u),br=null}else return r=aa(o),r!==null&&Ss(r),n.blockedOn=o,!1;r.shift()}return!0}function yl(n,r,o){$e(n)&&o.delete(r)}function wc(){Fn=!1,Un!==null&&$e(Un)&&(Un=null),jn!==null&&$e(jn)&&(jn=null),It!==null&&$e(It)&&(It=null),Mi.forEach(yl),cr.forEach(yl)}function Wr(n,r){n.blockedOn===r&&(n.blockedOn=null,Fn||(Fn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wc)))}function Hr(n){function r(d){return Wr(d,n)}if(0<As.length){Wr(As[0],n);for(var o=1;o<As.length;o++){var u=As[o];u.blockedOn===n&&(u.blockedOn=null)}}for(Un!==null&&Wr(Un,n),jn!==null&&Wr(jn,n),It!==null&&Wr(It,n),Mi.forEach(r),cr.forEach(r),o=0;o<Zt.length;o++)u=Zt[o],u.blockedOn===n&&(u.blockedOn=null);for(;0<Zt.length&&(o=Zt[0],o.blockedOn===null);)Rs(o),o.blockedOn===null&&Zt.shift()}var hr=Se.ReactCurrentBatchConfig,dr=!0;function zn(n,r,o,u){var d=De,f=hr.transition;hr.transition=null;try{De=1,Ko(n,r,o,u)}finally{De=d,hr.transition=f}}function _l(n,r,o,u){var d=De,f=hr.transition;hr.transition=null;try{De=4,Ko(n,r,o,u)}finally{De=d,hr.transition=f}}function Ko(n,r,o,u){if(dr){var d=Cs(n,r,o,u);if(d===null)Vc(n,r,u,Bn,o),$r(n,u);else if(gl(d,n,r,o,u))u.stopPropagation();else if($r(n,u),r&4&&-1<ml.indexOf(n)){for(;d!==null;){var f=aa(d);if(f!==null&&Wo(f),f=Cs(n,r,o,u),f===null&&Vc(n,r,u,Bn,o),f===d)break;d=f}d!==null&&u.stopPropagation()}else Vc(n,r,u,null,o)}}var Bn=null;function Cs(n,r,o,u){if(Bn=null,n=vs(u),n=ji(n),n!==null)if(r=vn(n),r===null)n=null;else if(o=r.tag,o===13){if(n=Mo(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Bn=n,null}function Ps(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vc()){case Ts:return 1;case Fo:return 4;case Ni:case Uo:return 16;case Is:return 536870912;default:return 16}default:return 16}}var en=null,ks=null,fr=null;function vl(){if(fr)return fr;var n,r=ks,o=r.length,u,d="value"in en?en.value:en.textContent,f=d.length;for(n=0;n<o&&r[n]===d[n];n++);var _=o-n;for(u=1;u<=_&&r[o-u]===d[f-u];u++);return fr=d.slice(n,1<u?1-u:void 0)}function bi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function $n(){return!0}function Qo(){return!1}function Nt(n){function r(o,u,d,f,_){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(o=n[I],this[I]=o?o(f):f[I]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$n:Qo,this.isPropagationStopped=Qo,this}return re(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),r}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=Nt(Wn),qr=re({},Wn,{view:0,detail:0}),Ns=Nt(qr),Ds,Vs,tn,Ui=re({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_e,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==tn&&(tn&&n.type==="mousemove"?(Ds=n.screenX-tn.screenX,Vs=n.screenY-tn.screenY):Vs=Ds=0,tn=n),Ds)},movementY:function(n){return"movementY"in n?n.movementY:Vs}}),Yo=Nt(Ui),El=re({},Ui,{dataTransfer:0}),wl=Nt(El),xs=re({},qr,{relatedTarget:0}),St=Nt(xs),Tl=re({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Il=Nt(Tl),Gr=re({},Wn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),l=Nt(Gr),p=re({},Wn,{data:0}),g=Nt(p),E={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=U[n])?!!r[n]:!1}function _e(){return Y}var ot=re({},qr,{key:function(n){if(n.key){var r=E[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=bi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?M[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_e,charCode:function(n){return n.type==="keypress"?bi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?bi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),je=Nt(ot),ht=re({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nn=Nt(ht),pr=re({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_e}),Hn=Nt(pr),qn=re({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Os=Nt(qn),Jo=re({},Ui,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qv=Nt(Jo),Gv=[9,13,27,32],Tc=m&&"CompositionEvent"in window,Xo=null;m&&"documentMode"in document&&(Xo=document.documentMode);var Kv=m&&"TextEvent"in window&&!Xo,Cf=m&&(!Tc||Xo&&8<Xo&&11>=Xo),Pf=" ",kf=!1;function Nf(n,r){switch(n){case"keyup":return Gv.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Df(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ls=!1;function Qv(n,r){switch(n){case"compositionend":return Df(r);case"keypress":return r.which!==32?null:(kf=!0,Pf);case"textInput":return n=r.data,n===Pf&&kf?null:n;default:return null}}function Yv(n,r){if(Ls)return n==="compositionend"||!Tc&&Nf(n,r)?(n=vl(),fr=ks=en=null,Ls=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Cf&&r.locale!=="ko"?null:r.data;default:return null}}var Jv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Jv[n.type]:r==="textarea"}function xf(n,r,o,u){Fr(u),r=Pl(r,"onChange"),0<r.length&&(o=new Fi("onChange","change",null,o,u),n.push({event:o,listeners:r}))}var Zo=null,ea=null;function Xv(n){Jf(n,0)}function Sl(n){var r=js(n);if(Po(r))return n}function Zv(n,r){if(n==="change")return r}var Of=!1;if(m){var Ic;if(m){var Sc="oninput"in document;if(!Sc){var Lf=document.createElement("div");Lf.setAttribute("oninput","return;"),Sc=typeof Lf.oninput=="function"}Ic=Sc}else Ic=!1;Of=Ic&&(!document.documentMode||9<document.documentMode)}function Mf(){Zo&&(Zo.detachEvent("onpropertychange",bf),ea=Zo=null)}function bf(n){if(n.propertyName==="value"&&Sl(ea)){var r=[];xf(r,ea,n,vs(n)),al(Xv,r)}}function eE(n,r,o){n==="focusin"?(Mf(),Zo=r,ea=o,Zo.attachEvent("onpropertychange",bf)):n==="focusout"&&Mf()}function tE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Sl(ea)}function nE(n,r){if(n==="click")return Sl(r)}function rE(n,r){if(n==="input"||n==="change")return Sl(r)}function iE(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var wn=typeof Object.is=="function"?Object.is:iE;function ta(n,r){if(wn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!y.call(r,d)||!wn(n[d],r[d]))return!1}return!0}function Ff(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Uf(n,r){var o=Ff(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=r&&u>=r)return{node:o,offset:r-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ff(o)}}function jf(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?jf(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function zf(){for(var n=window,r=Vr();r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=Vr(n.document)}return r}function Ac(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function sE(n){var r=zf(),o=n.focusedElem,u=n.selectionRange;if(r!==o&&o&&o.ownerDocument&&jf(o.ownerDocument.documentElement,o)){if(u!==null&&Ac(o)){if(r=u.start,n=u.end,n===void 0&&(n=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(n,o.value.length);else if(n=(r=o.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var d=o.textContent.length,f=Math.min(u.start,d);u=u.end===void 0?f:Math.min(u.end,d),!n.extend&&f>u&&(d=u,u=f,f=d),d=Uf(o,f);var _=Uf(o,u);d&&_&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),n.removeAllRanges(),f>u?(n.addRange(r),n.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),n.addRange(r)))}}for(r=[],n=o;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)n=r[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var oE=m&&"documentMode"in document&&11>=document.documentMode,Ms=null,Rc=null,na=null,Cc=!1;function Bf(n,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Cc||Ms==null||Ms!==Vr(u)||(u=Ms,"selectionStart"in u&&Ac(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),na&&ta(na,u)||(na=u,u=Pl(Rc,"onSelect"),0<u.length&&(r=new Fi("onSelect","select",null,r,o),n.push({event:r,listeners:u}),r.target=Ms)))}function Al(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var bs={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionend:Al("Transition","TransitionEnd")},Pc={},$f={};m&&($f=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function Rl(n){if(Pc[n])return Pc[n];if(!bs[n])return n;var r=bs[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in $f)return Pc[n]=r[o];return n}var Wf=Rl("animationend"),Hf=Rl("animationiteration"),qf=Rl("animationstart"),Gf=Rl("transitionend"),Kf=new Map,Qf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(n,r){Kf.set(n,r),c(r,[n])}for(var kc=0;kc<Qf.length;kc++){var Nc=Qf[kc],aE=Nc.toLowerCase(),lE=Nc[0].toUpperCase()+Nc.slice(1);Kr(aE,"on"+lE)}Kr(Wf,"onAnimationEnd"),Kr(Hf,"onAnimationIteration"),Kr(qf,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(Gf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ra));function Yf(n,r,o){var u=n.type||"unknown-event";n.currentTarget=o,Lo(u,r,void 0,n),n.currentTarget=null}function Jf(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],d=u.event;u=u.listeners;e:{var f=void 0;if(r)for(var _=u.length-1;0<=_;_--){var I=u[_],P=I.instance,F=I.currentTarget;if(I=I.listener,P!==f&&d.isPropagationStopped())break e;Yf(d,I,F),f=P}else for(_=0;_<u.length;_++){if(I=u[_],P=I.instance,F=I.currentTarget,I=I.listener,P!==f&&d.isPropagationStopped())break e;Yf(d,I,F),f=P}}}if(Es)throw n=an,Es=!1,an=null,n}function Ge(n,r){var o=r[Fc];o===void 0&&(o=r[Fc]=new Set);var u=n+"__bubble";o.has(u)||(Xf(r,n,2,!1),o.add(u))}function Dc(n,r,o){var u=0;r&&(u|=4),Xf(o,n,u,r)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function ia(n){if(!n[Cl]){n[Cl]=!0,s.forEach(function(o){o!=="selectionchange"&&(uE.has(o)||Dc(o,!1,n),Dc(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Cl]||(r[Cl]=!0,Dc("selectionchange",!1,r))}}function Xf(n,r,o,u){switch(Ps(r)){case 1:var d=zn;break;case 4:d=_l;break;default:d=Ko}o=d.bind(null,r,o,n),d=void 0,!jr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(r,o,{capture:!0,passive:d}):n.addEventListener(r,o,!0):d!==void 0?n.addEventListener(r,o,{passive:d}):n.addEventListener(r,o,!1)}function Vc(n,r,o,u,d){var f=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var I=u.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(_===4)for(_=u.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;_=_.return}for(;I!==null;){if(_=ji(I),_===null)return;if(P=_.tag,P===5||P===6){u=f=_;continue e}I=I.parentNode}}u=u.return}al(function(){var F=f,H=vs(o),q=[];e:{var W=Kf.get(n);if(W!==void 0){var Z=Fi,se=n;switch(n){case"keypress":if(bi(o)===0)break e;case"keydown":case"keyup":Z=je;break;case"focusin":se="focus",Z=St;break;case"focusout":se="blur",Z=St;break;case"beforeblur":case"afterblur":Z=St;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Hn;break;case Wf:case Hf:case qf:Z=Il;break;case Gf:Z=Os;break;case"scroll":Z=Ns;break;case"wheel":Z=qv;break;case"copy":case"cut":case"paste":Z=l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=nn}var oe=(r&4)!==0,at=!oe&&n==="scroll",L=oe?W!==null?W+"Capture":null:W;oe=[];for(var D=F,b;D!==null;){b=D;var K=b.stateNode;if(b.tag===5&&K!==null&&(b=K,L!==null&&(K=Ci(D,L),K!=null&&oe.push(sa(D,K,b)))),at)break;D=D.return}0<oe.length&&(W=new Z(W,se,null,o,H),q.push({event:W,listeners:oe}))}}if((r&7)===0){e:{if(W=n==="mouseover"||n==="pointerover",Z=n==="mouseout"||n==="pointerout",W&&o!==br&&(se=o.relatedTarget||o.fromElement)&&(ji(se)||se[mr]))break e;if((Z||W)&&(W=H.window===H?H:(W=H.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(se=o.relatedTarget||o.toElement,Z=F,se=se?ji(se):null,se!==null&&(at=vn(se),se!==at||se.tag!==5&&se.tag!==6)&&(se=null)):(Z=null,se=F),Z!==se)){if(oe=Yo,K="onMouseLeave",L="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(oe=nn,K="onPointerLeave",L="onPointerEnter",D="pointer"),at=Z==null?W:js(Z),b=se==null?W:js(se),W=new oe(K,D+"leave",Z,o,H),W.target=at,W.relatedTarget=b,K=null,ji(H)===F&&(oe=new oe(L,D+"enter",se,o,H),oe.target=b,oe.relatedTarget=at,K=oe),at=K,Z&&se)t:{for(oe=Z,L=se,D=0,b=oe;b;b=Fs(b))D++;for(b=0,K=L;K;K=Fs(K))b++;for(;0<D-b;)oe=Fs(oe),D--;for(;0<b-D;)L=Fs(L),b--;for(;D--;){if(oe===L||L!==null&&oe===L.alternate)break t;oe=Fs(oe),L=Fs(L)}oe=null}else oe=null;Z!==null&&Zf(q,W,Z,oe,!1),se!==null&&at!==null&&Zf(q,at,se,oe,!0)}}e:{if(W=F?js(F):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var ae=Zv;else if(Vf(W))if(Of)ae=rE;else{ae=tE;var ce=eE}else(Z=W.nodeName)&&Z.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(ae=nE);if(ae&&(ae=ae(n,F))){xf(q,ae,o,H);break e}ce&&ce(n,W,F),n==="focusout"&&(ce=W._wrapperState)&&ce.controlled&&W.type==="number"&&ct(W,"number",W.value)}switch(ce=F?js(F):window,n){case"focusin":(Vf(ce)||ce.contentEditable==="true")&&(Ms=ce,Rc=F,na=null);break;case"focusout":na=Rc=Ms=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,Bf(q,o,H);break;case"selectionchange":if(oE)break;case"keydown":case"keyup":Bf(q,o,H)}var he;if(Tc)e:{switch(n){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Ls?Nf(n,o)&&(me="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(me="onCompositionStart");me&&(Cf&&o.locale!=="ko"&&(Ls||me!=="onCompositionStart"?me==="onCompositionEnd"&&Ls&&(he=vl()):(en=H,ks="value"in en?en.value:en.textContent,Ls=!0)),ce=Pl(F,me),0<ce.length&&(me=new g(me,n,null,o,H),q.push({event:me,listeners:ce}),he?me.data=he:(he=Df(o),he!==null&&(me.data=he)))),(he=Kv?Qv(n,o):Yv(n,o))&&(F=Pl(F,"onBeforeInput"),0<F.length&&(H=new g("onBeforeInput","beforeinput",null,o,H),q.push({event:H,listeners:F}),H.data=he))}Jf(q,r)})}function sa(n,r,o){return{instance:n,listener:r,currentTarget:o}}function Pl(n,r){for(var o=r+"Capture",u=[];n!==null;){var d=n,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Ci(n,o),f!=null&&u.unshift(sa(n,f,d)),f=Ci(n,r),f!=null&&u.push(sa(n,f,d))),n=n.return}return u}function Fs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Zf(n,r,o,u,d){for(var f=r._reactName,_=[];o!==null&&o!==u;){var I=o,P=I.alternate,F=I.stateNode;if(P!==null&&P===u)break;I.tag===5&&F!==null&&(I=F,d?(P=Ci(o,f),P!=null&&_.unshift(sa(o,P,I))):d||(P=Ci(o,f),P!=null&&_.push(sa(o,P,I)))),o=o.return}_.length!==0&&n.push({event:r,listeners:_})}var cE=/\r\n?/g,hE=/\u0000|\uFFFD/g;function ep(n){return(typeof n=="string"?n:""+n).replace(cE,`
`).replace(hE,"")}function kl(n,r,o){if(r=ep(r),ep(n)!==r&&o)throw Error(t(425))}function Nl(){}var xc=null,Oc=null;function Lc(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Mc=typeof setTimeout=="function"?setTimeout:void 0,dE=typeof clearTimeout=="function"?clearTimeout:void 0,tp=typeof Promise=="function"?Promise:void 0,fE=typeof queueMicrotask=="function"?queueMicrotask:typeof tp<"u"?function(n){return tp.resolve(null).then(n).catch(pE)}:Mc;function pE(n){setTimeout(function(){throw n})}function bc(n,r){var o=r,u=0;do{var d=o.nextSibling;if(n.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){n.removeChild(d),Hr(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);Hr(r)}function Qr(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function np(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}var Us=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Us,oa="__reactProps$"+Us,mr="__reactContainer$"+Us,Fc="__reactEvents$"+Us,mE="__reactListeners$"+Us,gE="__reactHandles$"+Us;function ji(n){var r=n[Gn];if(r)return r;for(var o=n.parentNode;o;){if(r=o[mr]||o[Gn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=np(n);n!==null;){if(o=n[Gn])return o;n=np(n)}return r}n=o,o=n.parentNode}return null}function aa(n){return n=n[Gn]||n[mr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function js(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Dl(n){return n[oa]||null}var Uc=[],zs=-1;function Yr(n){return{current:n}}function Ke(n){0>zs||(n.current=Uc[zs],Uc[zs]=null,zs--)}function We(n,r){zs++,Uc[zs]=n.current,n.current=r}var Jr={},Dt=Yr(Jr),Wt=Yr(!1),zi=Jr;function Bs(n,r){var o=n.type.contextTypes;if(!o)return Jr;var u=n.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in o)d[f]=r[f];return u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=d),d}function Ht(n){return n=n.childContextTypes,n!=null}function Vl(){Ke(Wt),Ke(Dt)}function rp(n,r,o){if(Dt.current!==Jr)throw Error(t(168));We(Dt,r),We(Wt,o)}function ip(n,r,o){var u=n.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var d in u)if(!(d in r))throw Error(t(108,Fe(n)||"Unknown",d));return re({},o,u)}function xl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Jr,zi=Dt.current,We(Dt,n),We(Wt,Wt.current),!0}function sp(n,r,o){var u=n.stateNode;if(!u)throw Error(t(169));o?(n=ip(n,r,zi),u.__reactInternalMemoizedMergedChildContext=n,Ke(Wt),Ke(Dt),We(Dt,n)):Ke(Wt),We(Wt,o)}var gr=null,Ol=!1,jc=!1;function op(n){gr===null?gr=[n]:gr.push(n)}function yE(n){Ol=!0,op(n)}function Xr(){if(!jc&&gr!==null){jc=!0;var n=0,r=De;try{var o=gr;for(De=1;n<o.length;n++){var u=o[n];do u=u(!0);while(u!==null)}gr=null,Ol=!1}catch(d){throw gr!==null&&(gr=gr.slice(n+1)),bo(Ts,Xr),d}finally{De=r,jc=!1}}return null}var $s=[],Ws=0,Ll=null,Ml=0,un=[],cn=0,Bi=null,yr=1,_r="";function $i(n,r){$s[Ws++]=Ml,$s[Ws++]=Ll,Ll=n,Ml=r}function ap(n,r,o){un[cn++]=yr,un[cn++]=_r,un[cn++]=Bi,Bi=n;var u=yr;n=_r;var d=32-Xt(u)-1;u&=~(1<<d),o+=1;var f=32-Xt(r)+d;if(30<f){var _=d-d%5;f=(u&(1<<_)-1).toString(32),u>>=_,d-=_,yr=1<<32-Xt(r)+d|o<<d|u,_r=f+n}else yr=1<<f|o<<d|u,_r=n}function zc(n){n.return!==null&&($i(n,1),ap(n,1,0))}function Bc(n){for(;n===Ll;)Ll=$s[--Ws],$s[Ws]=null,Ml=$s[--Ws],$s[Ws]=null;for(;n===Bi;)Bi=un[--cn],un[cn]=null,_r=un[--cn],un[cn]=null,yr=un[--cn],un[cn]=null}var rn=null,sn=null,Xe=!1,Tn=null;function lp(n,r){var o=pn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=n,r=n.deletions,r===null?(n.deletions=[o],n.flags|=16):r.push(o)}function up(n,r){switch(n.tag){case 5:var o=n.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,rn=n,sn=Qr(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,rn=n,sn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Bi!==null?{id:yr,overflow:_r}:null,n.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=pn(18,null,null,0),o.stateNode=r,o.return=n,n.child=o,rn=n,sn=null,!0):!1;default:return!1}}function $c(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Wc(n){if(Xe){var r=sn;if(r){var o=r;if(!up(n,r)){if($c(n))throw Error(t(418));r=Qr(o.nextSibling);var u=rn;r&&up(n,r)?lp(u,o):(n.flags=n.flags&-4097|2,Xe=!1,rn=n)}}else{if($c(n))throw Error(t(418));n.flags=n.flags&-4097|2,Xe=!1,rn=n}}}function cp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;rn=n}function bl(n){if(n!==rn)return!1;if(!Xe)return cp(n),Xe=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!Lc(n.type,n.memoizedProps)),r&&(r=sn)){if($c(n))throw hp(),Error(t(418));for(;r;)lp(n,r),r=Qr(r.nextSibling)}if(cp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(r===0){sn=Qr(n.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}n=n.nextSibling}sn=null}}else sn=rn?Qr(n.stateNode.nextSibling):null;return!0}function hp(){for(var n=sn;n;)n=Qr(n.nextSibling)}function Hs(){sn=rn=null,Xe=!1}function Hc(n){Tn===null?Tn=[n]:Tn.push(n)}var _E=Se.ReactCurrentBatchConfig;function la(n,r,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(t(309));var u=o.stateNode}if(!u)throw Error(t(147,n));var d=u,f=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===f?r.ref:(r=function(_){var I=d.refs;_===null?delete I[f]:I[f]=_},r._stringRef=f,r)}if(typeof n!="string")throw Error(t(284));if(!o._owner)throw Error(t(290,n))}return n}function Fl(n,r){throw n=Object.prototype.toString.call(r),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function dp(n){var r=n._init;return r(n._payload)}function fp(n){function r(L,D){if(n){var b=L.deletions;b===null?(L.deletions=[D],L.flags|=16):b.push(D)}}function o(L,D){if(!n)return null;for(;D!==null;)r(L,D),D=D.sibling;return null}function u(L,D){for(L=new Map;D!==null;)D.key!==null?L.set(D.key,D):L.set(D.index,D),D=D.sibling;return L}function d(L,D){return L=oi(L,D),L.index=0,L.sibling=null,L}function f(L,D,b){return L.index=b,n?(b=L.alternate,b!==null?(b=b.index,b<D?(L.flags|=2,D):b):(L.flags|=2,D)):(L.flags|=1048576,D)}function _(L){return n&&L.alternate===null&&(L.flags|=2),L}function I(L,D,b,K){return D===null||D.tag!==6?(D=Mh(b,L.mode,K),D.return=L,D):(D=d(D,b),D.return=L,D)}function P(L,D,b,K){var ae=b.type;return ae===k?H(L,D,b.props.children,K,b.key):D!==null&&(D.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===nt&&dp(ae)===D.type)?(K=d(D,b.props),K.ref=la(L,D,b),K.return=L,K):(K=lu(b.type,b.key,b.props,null,L.mode,K),K.ref=la(L,D,b),K.return=L,K)}function F(L,D,b,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==b.containerInfo||D.stateNode.implementation!==b.implementation?(D=bh(b,L.mode,K),D.return=L,D):(D=d(D,b.children||[]),D.return=L,D)}function H(L,D,b,K,ae){return D===null||D.tag!==7?(D=Ji(b,L.mode,K,ae),D.return=L,D):(D=d(D,b),D.return=L,D)}function q(L,D,b){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Mh(""+D,L.mode,b),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ye:return b=lu(D.type,D.key,D.props,null,L.mode,b),b.ref=la(L,null,D),b.return=L,b;case Ae:return D=bh(D,L.mode,b),D.return=L,D;case nt:var K=D._init;return q(L,K(D._payload),b)}if(st(D)||ue(D))return D=Ji(D,L.mode,b,null),D.return=L,D;Fl(L,D)}return null}function W(L,D,b,K){var ae=D!==null?D.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return ae!==null?null:I(L,D,""+b,K);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ye:return b.key===ae?P(L,D,b,K):null;case Ae:return b.key===ae?F(L,D,b,K):null;case nt:return ae=b._init,W(L,D,ae(b._payload),K)}if(st(b)||ue(b))return ae!==null?null:H(L,D,b,K,null);Fl(L,b)}return null}function Z(L,D,b,K,ae){if(typeof K=="string"&&K!==""||typeof K=="number")return L=L.get(b)||null,I(D,L,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Ye:return L=L.get(K.key===null?b:K.key)||null,P(D,L,K,ae);case Ae:return L=L.get(K.key===null?b:K.key)||null,F(D,L,K,ae);case nt:var ce=K._init;return Z(L,D,b,ce(K._payload),ae)}if(st(K)||ue(K))return L=L.get(b)||null,H(D,L,K,ae,null);Fl(D,K)}return null}function se(L,D,b,K){for(var ae=null,ce=null,he=D,me=D=0,wt=null;he!==null&&me<b.length;me++){he.index>me?(wt=he,he=null):wt=he.sibling;var Me=W(L,he,b[me],K);if(Me===null){he===null&&(he=wt);break}n&&he&&Me.alternate===null&&r(L,he),D=f(Me,D,me),ce===null?ae=Me:ce.sibling=Me,ce=Me,he=wt}if(me===b.length)return o(L,he),Xe&&$i(L,me),ae;if(he===null){for(;me<b.length;me++)he=q(L,b[me],K),he!==null&&(D=f(he,D,me),ce===null?ae=he:ce.sibling=he,ce=he);return Xe&&$i(L,me),ae}for(he=u(L,he);me<b.length;me++)wt=Z(he,L,me,b[me],K),wt!==null&&(n&&wt.alternate!==null&&he.delete(wt.key===null?me:wt.key),D=f(wt,D,me),ce===null?ae=wt:ce.sibling=wt,ce=wt);return n&&he.forEach(function(ai){return r(L,ai)}),Xe&&$i(L,me),ae}function oe(L,D,b,K){var ae=ue(b);if(typeof ae!="function")throw Error(t(150));if(b=ae.call(b),b==null)throw Error(t(151));for(var ce=ae=null,he=D,me=D=0,wt=null,Me=b.next();he!==null&&!Me.done;me++,Me=b.next()){he.index>me?(wt=he,he=null):wt=he.sibling;var ai=W(L,he,Me.value,K);if(ai===null){he===null&&(he=wt);break}n&&he&&ai.alternate===null&&r(L,he),D=f(ai,D,me),ce===null?ae=ai:ce.sibling=ai,ce=ai,he=wt}if(Me.done)return o(L,he),Xe&&$i(L,me),ae;if(he===null){for(;!Me.done;me++,Me=b.next())Me=q(L,Me.value,K),Me!==null&&(D=f(Me,D,me),ce===null?ae=Me:ce.sibling=Me,ce=Me);return Xe&&$i(L,me),ae}for(he=u(L,he);!Me.done;me++,Me=b.next())Me=Z(he,L,me,Me.value,K),Me!==null&&(n&&Me.alternate!==null&&he.delete(Me.key===null?me:Me.key),D=f(Me,D,me),ce===null?ae=Me:ce.sibling=Me,ce=Me);return n&&he.forEach(function(JE){return r(L,JE)}),Xe&&$i(L,me),ae}function at(L,D,b,K){if(typeof b=="object"&&b!==null&&b.type===k&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ye:e:{for(var ae=b.key,ce=D;ce!==null;){if(ce.key===ae){if(ae=b.type,ae===k){if(ce.tag===7){o(L,ce.sibling),D=d(ce,b.props.children),D.return=L,L=D;break e}}else if(ce.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===nt&&dp(ae)===ce.type){o(L,ce.sibling),D=d(ce,b.props),D.ref=la(L,ce,b),D.return=L,L=D;break e}o(L,ce);break}else r(L,ce);ce=ce.sibling}b.type===k?(D=Ji(b.props.children,L.mode,K,b.key),D.return=L,L=D):(K=lu(b.type,b.key,b.props,null,L.mode,K),K.ref=la(L,D,b),K.return=L,L=K)}return _(L);case Ae:e:{for(ce=b.key;D!==null;){if(D.key===ce)if(D.tag===4&&D.stateNode.containerInfo===b.containerInfo&&D.stateNode.implementation===b.implementation){o(L,D.sibling),D=d(D,b.children||[]),D.return=L,L=D;break e}else{o(L,D);break}else r(L,D);D=D.sibling}D=bh(b,L.mode,K),D.return=L,L=D}return _(L);case nt:return ce=b._init,at(L,D,ce(b._payload),K)}if(st(b))return se(L,D,b,K);if(ue(b))return oe(L,D,b,K);Fl(L,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,D!==null&&D.tag===6?(o(L,D.sibling),D=d(D,b),D.return=L,L=D):(o(L,D),D=Mh(b,L.mode,K),D.return=L,L=D),_(L)):o(L,D)}return at}var qs=fp(!0),pp=fp(!1),Ul=Yr(null),jl=null,Gs=null,qc=null;function Gc(){qc=Gs=jl=null}function Kc(n){var r=Ul.current;Ke(Ul),n._currentValue=r}function Qc(n,r,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===o)break;n=n.return}}function Ks(n,r){jl=n,qc=Gs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(qt=!0),n.firstContext=null)}function hn(n){var r=n._currentValue;if(qc!==n)if(n={context:n,memoizedValue:r,next:null},Gs===null){if(jl===null)throw Error(t(308));Gs=n,jl.dependencies={lanes:0,firstContext:n}}else Gs=Gs.next=n;return r}var Wi=null;function Yc(n){Wi===null?Wi=[n]:Wi.push(n)}function mp(n,r,o,u){var d=r.interleaved;return d===null?(o.next=o,Yc(r)):(o.next=d.next,d.next=o),r.interleaved=o,vr(n,u)}function vr(n,r){n.lanes|=r;var o=n.alternate;for(o!==null&&(o.lanes|=r),o=n,n=n.return;n!==null;)n.childLanes|=r,o=n.alternate,o!==null&&(o.childLanes|=r),o=n,n=n.return;return o.tag===3?o.stateNode:null}var Zr=!1;function Jc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gp(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Er(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function ei(n,r,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Le&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,vr(n,o)}return d=u.interleaved,d===null?(r.next=r,Yc(u)):(r.next=d.next,d.next=r),u.interleaved=r,vr(n,o)}function zl(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,$o(n,o)}}function yp(n,r){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?d=f=_:f=f.next=_,o=o.next}while(o!==null);f===null?d=f=r:f=f.next=r}else d=f=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:u.shared,effects:u.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}function Bl(n,r,o,u){var d=n.updateQueue;Zr=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var P=I,F=P.next;P.next=null,_===null?f=F:_.next=F,_=P;var H=n.alternate;H!==null&&(H=H.updateQueue,I=H.lastBaseUpdate,I!==_&&(I===null?H.firstBaseUpdate=F:I.next=F,H.lastBaseUpdate=P))}if(f!==null){var q=d.baseState;_=0,H=F=P=null,I=f;do{var W=I.lane,Z=I.eventTime;if((u&W)===W){H!==null&&(H=H.next={eventTime:Z,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var se=n,oe=I;switch(W=r,Z=o,oe.tag){case 1:if(se=oe.payload,typeof se=="function"){q=se.call(Z,q,W);break e}q=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=oe.payload,W=typeof se=="function"?se.call(Z,q,W):se,W==null)break e;q=re({},q,W);break e;case 2:Zr=!0}}I.callback!==null&&I.lane!==0&&(n.flags|=64,W=d.effects,W===null?d.effects=[I]:W.push(I))}else Z={eventTime:Z,lane:W,tag:I.tag,payload:I.payload,callback:I.callback,next:null},H===null?(F=H=Z,P=q):H=H.next=Z,_|=W;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;W=I,I=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);if(H===null&&(P=q),d.baseState=P,d.firstBaseUpdate=F,d.lastBaseUpdate=H,r=d.shared.interleaved,r!==null){d=r;do _|=d.lane,d=d.next;while(d!==r)}else f===null&&(d.shared.lanes=0);Gi|=_,n.lanes=_,n.memoizedState=q}}function _p(n,r,o){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var u=n[r],d=u.callback;if(d!==null){if(u.callback=null,u=o,typeof d!="function")throw Error(t(191,d));d.call(u)}}}var ua={},Kn=Yr(ua),ca=Yr(ua),ha=Yr(ua);function Hi(n){if(n===ua)throw Error(t(174));return n}function Xc(n,r){switch(We(ha,r),We(ca,n),We(Kn,ua),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:gs(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=gs(r,n)}Ke(Kn),We(Kn,r)}function Qs(){Ke(Kn),Ke(ca),Ke(ha)}function vp(n){Hi(ha.current);var r=Hi(Kn.current),o=gs(r,n.type);r!==o&&(We(ca,n),We(Kn,o))}function Zc(n){ca.current===n&&(Ke(Kn),Ke(ca))}var Ze=Yr(0);function $l(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var eh=[];function th(){for(var n=0;n<eh.length;n++)eh[n]._workInProgressVersionPrimary=null;eh.length=0}var Wl=Se.ReactCurrentDispatcher,nh=Se.ReactCurrentBatchConfig,qi=0,et=null,gt=null,vt=null,Hl=!1,da=!1,fa=0,vE=0;function Vt(){throw Error(t(321))}function rh(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!wn(n[o],r[o]))return!1;return!0}function ih(n,r,o,u,d,f){if(qi=f,et=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Wl.current=n===null||n.memoizedState===null?IE:SE,n=o(u,d),da){f=0;do{if(da=!1,fa=0,25<=f)throw Error(t(301));f+=1,vt=gt=null,r.updateQueue=null,Wl.current=AE,n=o(u,d)}while(da)}if(Wl.current=Kl,r=gt!==null&&gt.next!==null,qi=0,vt=gt=et=null,Hl=!1,r)throw Error(t(300));return n}function sh(){var n=fa!==0;return fa=0,n}function Qn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?et.memoizedState=vt=n:vt=vt.next=n,vt}function dn(){if(gt===null){var n=et.alternate;n=n!==null?n.memoizedState:null}else n=gt.next;var r=vt===null?et.memoizedState:vt.next;if(r!==null)vt=r,gt=n;else{if(n===null)throw Error(t(310));gt=n,n={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},vt===null?et.memoizedState=vt=n:vt=vt.next=n}return vt}function pa(n,r){return typeof r=="function"?r(n):r}function oh(n){var r=dn(),o=r.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=n;var u=gt,d=u.baseQueue,f=o.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}u.baseQueue=d=f,o.pending=null}if(d!==null){f=d.next,u=u.baseState;var I=_=null,P=null,F=f;do{var H=F.lane;if((qi&H)===H)P!==null&&(P=P.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),u=F.hasEagerState?F.eagerState:n(u,F.action);else{var q={lane:H,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};P===null?(I=P=q,_=u):P=P.next=q,et.lanes|=H,Gi|=H}F=F.next}while(F!==null&&F!==f);P===null?_=u:P.next=I,wn(u,r.memoizedState)||(qt=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=P,o.lastRenderedState=u}if(n=o.interleaved,n!==null){d=n;do f=d.lane,et.lanes|=f,Gi|=f,d=d.next;while(d!==n)}else d===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function ah(n){var r=dn(),o=r.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=n;var u=o.dispatch,d=o.pending,f=r.memoizedState;if(d!==null){o.pending=null;var _=d=d.next;do f=n(f,_.action),_=_.next;while(_!==d);wn(f,r.memoizedState)||(qt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),o.lastRenderedState=f}return[f,u]}function Ep(){}function wp(n,r){var o=et,u=dn(),d=r(),f=!wn(u.memoizedState,d);if(f&&(u.memoizedState=d,qt=!0),u=u.queue,lh(Sp.bind(null,o,u,n),[n]),u.getSnapshot!==r||f||vt!==null&&vt.memoizedState.tag&1){if(o.flags|=2048,ma(9,Ip.bind(null,o,u,d,r),void 0,null),Et===null)throw Error(t(349));(qi&30)!==0||Tp(o,r,d)}return d}function Tp(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=et.updateQueue,r===null?(r={lastEffect:null,stores:null},et.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function Ip(n,r,o,u){r.value=o,r.getSnapshot=u,Ap(r)&&Rp(n)}function Sp(n,r,o){return o(function(){Ap(r)&&Rp(n)})}function Ap(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!wn(n,o)}catch{return!0}}function Rp(n){var r=vr(n,1);r!==null&&Rn(r,n,1,-1)}function Cp(n){var r=Qn();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:n},r.queue=n,n=n.dispatch=TE.bind(null,et,n),[r.memoizedState,n]}function ma(n,r,o,u){return n={tag:n,create:r,destroy:o,deps:u,next:null},r=et.updateQueue,r===null?(r={lastEffect:null,stores:null},et.updateQueue=r,r.lastEffect=n.next=n):(o=r.lastEffect,o===null?r.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,r.lastEffect=n)),n}function Pp(){return dn().memoizedState}function ql(n,r,o,u){var d=Qn();et.flags|=n,d.memoizedState=ma(1|r,o,void 0,u===void 0?null:u)}function Gl(n,r,o,u){var d=dn();u=u===void 0?null:u;var f=void 0;if(gt!==null){var _=gt.memoizedState;if(f=_.destroy,u!==null&&rh(u,_.deps)){d.memoizedState=ma(r,o,f,u);return}}et.flags|=n,d.memoizedState=ma(1|r,o,f,u)}function kp(n,r){return ql(8390656,8,n,r)}function lh(n,r){return Gl(2048,8,n,r)}function Np(n,r){return Gl(4,2,n,r)}function Dp(n,r){return Gl(4,4,n,r)}function Vp(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function xp(n,r,o){return o=o!=null?o.concat([n]):null,Gl(4,4,Vp.bind(null,r,n),o)}function uh(){}function Op(n,r){var o=dn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&rh(r,u[1])?u[0]:(o.memoizedState=[n,r],n)}function Lp(n,r){var o=dn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&rh(r,u[1])?u[0]:(n=n(),o.memoizedState=[n,r],n)}function Mp(n,r,o){return(qi&21)===0?(n.baseState&&(n.baseState=!1,qt=!0),n.memoizedState=o):(wn(o,r)||(o=zo(),et.lanes|=o,Gi|=o,n.baseState=!0),r)}function EE(n,r){var o=De;De=o!==0&&4>o?o:4,n(!0);var u=nh.transition;nh.transition={};try{n(!1),r()}finally{De=o,nh.transition=u}}function bp(){return dn().memoizedState}function wE(n,r,o){var u=ii(n);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Fp(n))Up(r,o);else if(o=mp(n,r,o,u),o!==null){var d=zt();Rn(o,n,u,d),jp(o,r,u)}}function TE(n,r,o){var u=ii(n),d={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Fp(n))Up(r,d);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var _=r.lastRenderedState,I=f(_,o);if(d.hasEagerState=!0,d.eagerState=I,wn(I,_)){var P=r.interleaved;P===null?(d.next=d,Yc(r)):(d.next=P.next,P.next=d),r.interleaved=d;return}}catch{}o=mp(n,r,d,u),o!==null&&(d=zt(),Rn(o,n,u,d),jp(o,r,u))}}function Fp(n){var r=n.alternate;return n===et||r!==null&&r===et}function Up(n,r){da=Hl=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function jp(n,r,o){if((o&4194240)!==0){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,$o(n,o)}}var Kl={readContext:hn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},IE={readContext:hn,useCallback:function(n,r){return Qn().memoizedState=[n,r===void 0?null:r],n},useContext:hn,useEffect:kp,useImperativeHandle:function(n,r,o){return o=o!=null?o.concat([n]):null,ql(4194308,4,Vp.bind(null,r,n),o)},useLayoutEffect:function(n,r){return ql(4194308,4,n,r)},useInsertionEffect:function(n,r){return ql(4,2,n,r)},useMemo:function(n,r){var o=Qn();return r=r===void 0?null:r,n=n(),o.memoizedState=[n,r],n},useReducer:function(n,r,o){var u=Qn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},u.queue=n,n=n.dispatch=wE.bind(null,et,n),[u.memoizedState,n]},useRef:function(n){var r=Qn();return n={current:n},r.memoizedState=n},useState:Cp,useDebugValue:uh,useDeferredValue:function(n){return Qn().memoizedState=n},useTransition:function(){var n=Cp(!1),r=n[0];return n=EE.bind(null,n[1]),Qn().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,o){var u=et,d=Qn();if(Xe){if(o===void 0)throw Error(t(407));o=o()}else{if(o=r(),Et===null)throw Error(t(349));(qi&30)!==0||Tp(u,r,o)}d.memoizedState=o;var f={value:o,getSnapshot:r};return d.queue=f,kp(Sp.bind(null,u,f,n),[n]),u.flags|=2048,ma(9,Ip.bind(null,u,f,o,r),void 0,null),o},useId:function(){var n=Qn(),r=Et.identifierPrefix;if(Xe){var o=_r,u=yr;o=(u&~(1<<32-Xt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=fa++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=vE++,r=":"+r+"r"+o.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},SE={readContext:hn,useCallback:Op,useContext:hn,useEffect:lh,useImperativeHandle:xp,useInsertionEffect:Np,useLayoutEffect:Dp,useMemo:Lp,useReducer:oh,useRef:Pp,useState:function(){return oh(pa)},useDebugValue:uh,useDeferredValue:function(n){var r=dn();return Mp(r,gt.memoizedState,n)},useTransition:function(){var n=oh(pa)[0],r=dn().memoizedState;return[n,r]},useMutableSource:Ep,useSyncExternalStore:wp,useId:bp,unstable_isNewReconciler:!1},AE={readContext:hn,useCallback:Op,useContext:hn,useEffect:lh,useImperativeHandle:xp,useInsertionEffect:Np,useLayoutEffect:Dp,useMemo:Lp,useReducer:ah,useRef:Pp,useState:function(){return ah(pa)},useDebugValue:uh,useDeferredValue:function(n){var r=dn();return gt===null?r.memoizedState=n:Mp(r,gt.memoizedState,n)},useTransition:function(){var n=ah(pa)[0],r=dn().memoizedState;return[n,r]},useMutableSource:Ep,useSyncExternalStore:wp,useId:bp,unstable_isNewReconciler:!1};function In(n,r){if(n&&n.defaultProps){r=re({},r),n=n.defaultProps;for(var o in n)r[o]===void 0&&(r[o]=n[o]);return r}return r}function ch(n,r,o,u){r=n.memoizedState,o=o(u,r),o=o==null?r:re({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Ql={isMounted:function(n){return(n=n._reactInternals)?vn(n)===n:!1},enqueueSetState:function(n,r,o){n=n._reactInternals;var u=zt(),d=ii(n),f=Er(u,d);f.payload=r,o!=null&&(f.callback=o),r=ei(n,f,d),r!==null&&(Rn(r,n,d,u),zl(r,n,d))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var u=zt(),d=ii(n),f=Er(u,d);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=ei(n,f,d),r!==null&&(Rn(r,n,d,u),zl(r,n,d))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=zt(),u=ii(n),d=Er(o,u);d.tag=2,r!=null&&(d.callback=r),r=ei(n,d,u),r!==null&&(Rn(r,n,u,o),zl(r,n,u))}};function zp(n,r,o,u,d,f,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,f,_):r.prototype&&r.prototype.isPureReactComponent?!ta(o,u)||!ta(d,f):!0}function Bp(n,r,o){var u=!1,d=Jr,f=r.contextType;return typeof f=="object"&&f!==null?f=hn(f):(d=Ht(r)?zi:Dt.current,u=r.contextTypes,f=(u=u!=null)?Bs(n,d):Jr),r=new r(o,f),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Ql,n.stateNode=r,r._reactInternals=n,u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=f),r}function $p(n,r,o,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==n&&Ql.enqueueReplaceState(r,r.state,null)}function hh(n,r,o,u){var d=n.stateNode;d.props=o,d.state=n.memoizedState,d.refs={},Jc(n);var f=r.contextType;typeof f=="object"&&f!==null?d.context=hn(f):(f=Ht(r)?zi:Dt.current,d.context=Bs(n,f)),d.state=n.memoizedState,f=r.getDerivedStateFromProps,typeof f=="function"&&(ch(n,r,f,o),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Ql.enqueueReplaceState(d,d.state,null),Bl(n,o,d,u),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function Ys(n,r){try{var o="",u=r;do o+=Re(u),u=u.return;while(u);var d=o}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:n,source:r,stack:d,digest:null}}function dh(n,r,o){return{value:n,source:null,stack:o??null,digest:r??null}}function fh(n,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var RE=typeof WeakMap=="function"?WeakMap:Map;function Wp(n,r,o){o=Er(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){nu||(nu=!0,Ph=u),fh(n,r)},o}function Hp(n,r,o){o=Er(-1,o),o.tag=3;var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var d=r.value;o.payload=function(){return u(d)},o.callback=function(){fh(n,r)}}var f=n.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){fh(n,r),typeof u!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function qp(n,r,o){var u=n.pingCache;if(u===null){u=n.pingCache=new RE;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(d.add(o),n=jE.bind(null,n,r,o),r.then(n,n))}function Gp(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function Kp(n,r,o,u,d){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Er(-1,1),r.tag=2,ei(o,r,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var CE=Se.ReactCurrentOwner,qt=!1;function jt(n,r,o,u){r.child=n===null?pp(r,null,o,u):qs(r,n.child,o,u)}function Qp(n,r,o,u,d){o=o.render;var f=r.ref;return Ks(r,d),u=ih(n,r,o,u,f,d),o=sh(),n!==null&&!qt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,wr(n,r,d)):(Xe&&o&&zc(r),r.flags|=1,jt(n,r,u,d),r.child)}function Yp(n,r,o,u,d){if(n===null){var f=o.type;return typeof f=="function"&&!Lh(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=f,Jp(n,r,f,u,d)):(n=lu(o.type,null,u,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(f=n.child,(n.lanes&d)===0){var _=f.memoizedProps;if(o=o.compare,o=o!==null?o:ta,o(_,u)&&n.ref===r.ref)return wr(n,r,d)}return r.flags|=1,n=oi(f,u),n.ref=r.ref,n.return=r,r.child=n}function Jp(n,r,o,u,d){if(n!==null){var f=n.memoizedProps;if(ta(f,u)&&n.ref===r.ref)if(qt=!1,r.pendingProps=u=f,(n.lanes&d)!==0)(n.flags&131072)!==0&&(qt=!0);else return r.lanes=n.lanes,wr(n,r,d)}return ph(n,r,o,u,d)}function Xp(n,r,o){var u=r.pendingProps,d=u.children,f=n!==null?n.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Xs,on),on|=o;else{if((o&1073741824)===0)return n=f!==null?f.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,We(Xs,on),on|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:o,We(Xs,on),on|=u}else f!==null?(u=f.baseLanes|o,r.memoizedState=null):u=o,We(Xs,on),on|=u;return jt(n,r,d,o),r.child}function Zp(n,r){var o=r.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function ph(n,r,o,u,d){var f=Ht(o)?zi:Dt.current;return f=Bs(r,f),Ks(r,d),o=ih(n,r,o,u,f,d),u=sh(),n!==null&&!qt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,wr(n,r,d)):(Xe&&u&&zc(r),r.flags|=1,jt(n,r,o,d),r.child)}function em(n,r,o,u,d){if(Ht(o)){var f=!0;xl(r)}else f=!1;if(Ks(r,d),r.stateNode===null)Jl(n,r),Bp(r,o,u),hh(r,o,u,d),u=!0;else if(n===null){var _=r.stateNode,I=r.memoizedProps;_.props=I;var P=_.context,F=o.contextType;typeof F=="object"&&F!==null?F=hn(F):(F=Ht(o)?zi:Dt.current,F=Bs(r,F));var H=o.getDerivedStateFromProps,q=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function";q||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==u||P!==F)&&$p(r,_,u,F),Zr=!1;var W=r.memoizedState;_.state=W,Bl(r,u,_,d),P=r.memoizedState,I!==u||W!==P||Wt.current||Zr?(typeof H=="function"&&(ch(r,o,H,u),P=r.memoizedState),(I=Zr||zp(r,o,I,u,W,P,F))?(q||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=P),_.props=u,_.state=P,_.context=F,u=I):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,gp(n,r),I=r.memoizedProps,F=r.type===r.elementType?I:In(r.type,I),_.props=F,q=r.pendingProps,W=_.context,P=o.contextType,typeof P=="object"&&P!==null?P=hn(P):(P=Ht(o)?zi:Dt.current,P=Bs(r,P));var Z=o.getDerivedStateFromProps;(H=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==q||W!==P)&&$p(r,_,u,P),Zr=!1,W=r.memoizedState,_.state=W,Bl(r,u,_,d);var se=r.memoizedState;I!==q||W!==se||Wt.current||Zr?(typeof Z=="function"&&(ch(r,o,Z,u),se=r.memoizedState),(F=Zr||zp(r,o,F,u,W,se,P)||!1)?(H||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,se,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,se,P)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===n.memoizedProps&&W===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&W===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=se),_.props=u,_.state=se,_.context=P,u=F):(typeof _.componentDidUpdate!="function"||I===n.memoizedProps&&W===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&W===n.memoizedState||(r.flags|=1024),u=!1)}return mh(n,r,o,u,f,d)}function mh(n,r,o,u,d,f){Zp(n,r);var _=(r.flags&128)!==0;if(!u&&!_)return d&&sp(r,o,!1),wr(n,r,f);u=r.stateNode,CE.current=r;var I=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,n!==null&&_?(r.child=qs(r,n.child,null,f),r.child=qs(r,null,I,f)):jt(n,r,I,f),r.memoizedState=u.state,d&&sp(r,o,!0),r.child}function tm(n){var r=n.stateNode;r.pendingContext?rp(n,r.pendingContext,r.pendingContext!==r.context):r.context&&rp(n,r.context,!1),Xc(n,r.containerInfo)}function nm(n,r,o,u,d){return Hs(),Hc(d),r.flags|=256,jt(n,r,o,u),r.child}var gh={dehydrated:null,treeContext:null,retryLane:0};function yh(n){return{baseLanes:n,cachePool:null,transitions:null}}function rm(n,r,o){var u=r.pendingProps,d=Ze.current,f=!1,_=(r.flags&128)!==0,I;if((I=_)||(I=n!==null&&n.memoizedState===null?!1:(d&2)!==0),I?(f=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),We(Ze,d&1),n===null)return Wc(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=u.children,n=u.fallback,f?(u=r.mode,f=r.child,_={mode:"hidden",children:_},(u&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=_):f=uu(_,u,0,null),n=Ji(n,u,o,null),f.return=r,n.return=r,f.sibling=n,r.child=f,r.child.memoizedState=yh(o),r.memoizedState=gh,n):_h(r,_));if(d=n.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return PE(n,r,_,u,I,d,o);if(f){f=u.fallback,_=r.mode,d=n.child,I=d.sibling;var P={mode:"hidden",children:u.children};return(_&1)===0&&r.child!==d?(u=r.child,u.childLanes=0,u.pendingProps=P,r.deletions=null):(u=oi(d,P),u.subtreeFlags=d.subtreeFlags&14680064),I!==null?f=oi(I,f):(f=Ji(f,_,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,_=n.child.memoizedState,_=_===null?yh(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},f.memoizedState=_,f.childLanes=n.childLanes&~o,r.memoizedState=gh,u}return f=n.child,n=f.sibling,u=oi(f,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,n!==null&&(o=r.deletions,o===null?(r.deletions=[n],r.flags|=16):o.push(n)),r.child=u,r.memoizedState=null,u}function _h(n,r){return r=uu({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Yl(n,r,o,u){return u!==null&&Hc(u),qs(r,n.child,null,o),n=_h(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function PE(n,r,o,u,d,f,_){if(o)return r.flags&256?(r.flags&=-257,u=dh(Error(t(422))),Yl(n,r,_,u)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(f=u.fallback,d=r.mode,u=uu({mode:"visible",children:u.children},d,0,null),f=Ji(f,d,_,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,(r.mode&1)!==0&&qs(r,n.child,null,_),r.child.memoizedState=yh(_),r.memoizedState=gh,f);if((r.mode&1)===0)return Yl(n,r,_,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var I=u.dgst;return u=I,f=Error(t(419)),u=dh(f,u,void 0),Yl(n,r,_,u)}if(I=(_&n.childLanes)!==0,qt||I){if(u=Et,u!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|_))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,vr(n,d),Rn(u,n,d,-1))}return Oh(),u=dh(Error(t(421))),Yl(n,r,_,u)}return d.data==="$?"?(r.flags|=128,r.child=n.child,r=zE.bind(null,n),d._reactRetry=r,null):(n=f.treeContext,sn=Qr(d.nextSibling),rn=r,Xe=!0,Tn=null,n!==null&&(un[cn++]=yr,un[cn++]=_r,un[cn++]=Bi,yr=n.id,_r=n.overflow,Bi=r),r=_h(r,u.children),r.flags|=4096,r)}function im(n,r,o){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Qc(n.return,r,o)}function vh(n,r,o,u,d){var f=n.memoizedState;f===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=o,f.tailMode=d)}function sm(n,r,o){var u=r.pendingProps,d=u.revealOrder,f=u.tail;if(jt(n,r,u.children,o),u=Ze.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&im(n,o,r);else if(n.tag===19)im(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}if(We(Ze,u),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(o=r.child,d=null;o!==null;)n=o.alternate,n!==null&&$l(n)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),vh(r,!1,d,o,f);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&$l(n)===null){r.child=d;break}n=d.sibling,d.sibling=o,o=d,d=n}vh(r,!0,o,null,f);break;case"together":vh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Jl(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function wr(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Gi|=r.lanes,(o&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(t(153));if(r.child!==null){for(n=r.child,o=oi(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=oi(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function kE(n,r,o){switch(r.tag){case 3:tm(r),Hs();break;case 5:vp(r);break;case 1:Ht(r.type)&&xl(r);break;case 4:Xc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,d=r.memoizedProps.value;We(Ul,u._currentValue),u._currentValue=d;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(We(Ze,Ze.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?rm(n,r,o):(We(Ze,Ze.current&1),n=wr(n,r,o),n!==null?n.sibling:null);We(Ze,Ze.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(n.flags&128)!==0){if(u)return sm(n,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),We(Ze,Ze.current),u)break;return null;case 22:case 23:return r.lanes=0,Xp(n,r,o)}return wr(n,r,o)}var om,Eh,am,lm;om=function(n,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Eh=function(){},am=function(n,r,o,u){var d=n.memoizedProps;if(d!==u){n=r.stateNode,Hi(Kn.current);var f=null;switch(o){case"input":d=ps(n,d),u=ps(n,u),f=[];break;case"select":d=re({},d,{value:void 0}),u=re({},u,{value:void 0}),f=[];break;case"textarea":d=No(n,d),u=No(n,u),f=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(n.onclick=Nl)}_n(o,u);var _;o=null;for(F in d)if(!u.hasOwnProperty(F)&&d.hasOwnProperty(F)&&d[F]!=null)if(F==="style"){var I=d[F];for(_ in I)I.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?f||(f=[]):(f=f||[]).push(F,null));for(F in u){var P=u[F];if(I=d?.[F],u.hasOwnProperty(F)&&P!==I&&(P!=null||I!=null))if(F==="style")if(I){for(_ in I)!I.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in P)P.hasOwnProperty(_)&&I[_]!==P[_]&&(o||(o={}),o[_]=P[_])}else o||(f||(f=[]),f.push(F,o)),o=P;else F==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,I=I?I.__html:void 0,P!=null&&I!==P&&(f=f||[]).push(F,P)):F==="children"?typeof P!="string"&&typeof P!="number"||(f=f||[]).push(F,""+P):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(P!=null&&F==="onScroll"&&Ge("scroll",n),f||I===P||(f=[])):(f=f||[]).push(F,P))}o&&(f=f||[]).push("style",o);var F=f;(r.updateQueue=F)&&(r.flags|=4)}},lm=function(n,r,o,u){o!==u&&(r.flags|=4)};function ga(n,r){if(!Xe)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function xt(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(r)for(var d=n.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=o,r}function NE(n,r,o){var u=r.pendingProps;switch(Bc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(r),null;case 1:return Ht(r.type)&&Vl(),xt(r),null;case 3:return u=r.stateNode,Qs(),Ke(Wt),Ke(Dt),th(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(n===null||n.child===null)&&(bl(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Tn!==null&&(Dh(Tn),Tn=null))),Eh(n,r),xt(r),null;case 5:Zc(r);var d=Hi(ha.current);if(o=r.type,n!==null&&r.stateNode!=null)am(n,r,o,u,d),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(t(166));return xt(r),null}if(n=Hi(Kn.current),bl(r)){u=r.stateNode,o=r.type;var f=r.memoizedProps;switch(u[Gn]=r,u[oa]=f,n=(r.mode&1)!==0,o){case"dialog":Ge("cancel",u),Ge("close",u);break;case"iframe":case"object":case"embed":Ge("load",u);break;case"video":case"audio":for(d=0;d<ra.length;d++)Ge(ra[d],u);break;case"source":Ge("error",u);break;case"img":case"image":case"link":Ge("error",u),Ge("load",u);break;case"details":Ge("toggle",u);break;case"input":tl(u,f),Ge("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},Ge("invalid",u);break;case"textarea":Do(u,f),Ge("invalid",u)}_n(o,f),d=null;for(var _ in f)if(f.hasOwnProperty(_)){var I=f[_];_==="children"?typeof I=="string"?u.textContent!==I&&(f.suppressHydrationWarning!==!0&&kl(u.textContent,I,n),d=["children",I]):typeof I=="number"&&u.textContent!==""+I&&(f.suppressHydrationWarning!==!0&&kl(u.textContent,I,n),d=["children",""+I]):a.hasOwnProperty(_)&&I!=null&&_==="onScroll"&&Ge("scroll",u)}switch(o){case"input":fs(u),ko(u,f,!0);break;case"textarea":fs(u),xr(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=Nl)}u=d,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Vo(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof u.is=="string"?n=_.createElement(o,{is:u.is}):(n=_.createElement(o),o==="select"&&(_=n,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):n=_.createElementNS(n,o),n[Gn]=r,n[oa]=u,om(n,r,!1,!1),r.stateNode=n;e:{switch(_=_s(o,u),o){case"dialog":Ge("cancel",n),Ge("close",n),d=u;break;case"iframe":case"object":case"embed":Ge("load",n),d=u;break;case"video":case"audio":for(d=0;d<ra.length;d++)Ge(ra[d],n);d=u;break;case"source":Ge("error",n),d=u;break;case"img":case"image":case"link":Ge("error",n),Ge("load",n),d=u;break;case"details":Ge("toggle",n),d=u;break;case"input":tl(n,u),d=ps(n,u),Ge("invalid",n);break;case"option":d=u;break;case"select":n._wrapperState={wasMultiple:!!u.multiple},d=re({},u,{value:void 0}),Ge("invalid",n);break;case"textarea":Do(n,u),d=No(n,u),Ge("invalid",n);break;default:d=u}_n(o,d),I=d;for(f in I)if(I.hasOwnProperty(f)){var P=I[f];f==="style"?ys(n,P):f==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&rl(n,P)):f==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&Ri(n,P):typeof P=="number"&&Ri(n,""+P):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?P!=null&&f==="onScroll"&&Ge("scroll",n):P!=null&&Te(n,f,P,_))}switch(o){case"input":fs(n),ko(n,u,!1);break;case"textarea":fs(n),xr(n);break;case"option":u.value!=null&&n.setAttribute("value",""+Oe(u.value));break;case"select":n.multiple=!!u.multiple,f=u.value,f!=null?yn(n,!!u.multiple,f,!1):u.defaultValue!=null&&yn(n,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Nl)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return xt(r),null;case 6:if(n&&r.stateNode!=null)lm(n,r,n.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(t(166));if(o=Hi(ha.current),Hi(Kn.current),bl(r)){if(u=r.stateNode,o=r.memoizedProps,u[Gn]=r,(f=u.nodeValue!==o)&&(n=rn,n!==null))switch(n.tag){case 3:kl(u.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&kl(u.nodeValue,o,(n.mode&1)!==0)}f&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Gn]=r,r.stateNode=u}return xt(r),null;case 13:if(Ke(Ze),u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Xe&&sn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)hp(),Hs(),r.flags|=98560,f=!1;else if(f=bl(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(t(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));f[Gn]=r}else Hs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;xt(r),f=!1}else Tn!==null&&(Dh(Tn),Tn=null),f=!0;if(!f)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(n!==null&&n.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(Ze.current&1)!==0?yt===0&&(yt=3):Oh())),r.updateQueue!==null&&(r.flags|=4),xt(r),null);case 4:return Qs(),Eh(n,r),n===null&&ia(r.stateNode.containerInfo),xt(r),null;case 10:return Kc(r.type._context),xt(r),null;case 17:return Ht(r.type)&&Vl(),xt(r),null;case 19:if(Ke(Ze),f=r.memoizedState,f===null)return xt(r),null;if(u=(r.flags&128)!==0,_=f.rendering,_===null)if(u)ga(f,!1);else{if(yt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(_=$l(n),_!==null){for(r.flags|=128,ga(f,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)f=o,n=u,f.flags&=14680066,_=f.alternate,_===null?(f.childLanes=0,f.lanes=n,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=_.childLanes,f.lanes=_.lanes,f.child=_.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=_.memoizedProps,f.memoizedState=_.memoizedState,f.updateQueue=_.updateQueue,f.type=_.type,n=_.dependencies,f.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return We(Ze,Ze.current&1|2),r.child}n=n.sibling}f.tail!==null&&qe()>Zs&&(r.flags|=128,u=!0,ga(f,!1),r.lanes=4194304)}else{if(!u)if(n=$l(_),n!==null){if(r.flags|=128,u=!0,o=n.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),ga(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!Xe)return xt(r),null}else 2*qe()-f.renderingStartTime>Zs&&o!==1073741824&&(r.flags|=128,u=!0,ga(f,!1),r.lanes=4194304);f.isBackwards?(_.sibling=r.child,r.child=_):(o=f.last,o!==null?o.sibling=_:r.child=_,f.last=_)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=qe(),r.sibling=null,o=Ze.current,We(Ze,u?o&1|2:o&1),r):(xt(r),null);case 22:case 23:return xh(),u=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(on&1073741824)!==0&&(xt(r),r.subtreeFlags&6&&(r.flags|=8192)):xt(r),null;case 24:return null;case 25:return null}throw Error(t(156,r.tag))}function DE(n,r){switch(Bc(r),r.tag){case 1:return Ht(r.type)&&Vl(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Qs(),Ke(Wt),Ke(Dt),th(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Zc(r),null;case 13:if(Ke(Ze),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(t(340));Hs()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Ke(Ze),null;case 4:return Qs(),null;case 10:return Kc(r.type._context),null;case 22:case 23:return xh(),null;case 24:return null;default:return null}}var Xl=!1,Ot=!1,VE=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Js(n,r){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){it(n,r,u)}else o.current=null}function wh(n,r,o){try{o()}catch(u){it(n,r,u)}}var um=!1;function xE(n,r){if(xc=dr,n=zf(),Ac(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var _=0,I=-1,P=-1,F=0,H=0,q=n,W=null;t:for(;;){for(var Z;q!==o||d!==0&&q.nodeType!==3||(I=_+d),q!==f||u!==0&&q.nodeType!==3||(P=_+u),q.nodeType===3&&(_+=q.nodeValue.length),(Z=q.firstChild)!==null;)W=q,q=Z;for(;;){if(q===n)break t;if(W===o&&++F===d&&(I=_),W===f&&++H===u&&(P=_),(Z=q.nextSibling)!==null)break;q=W,W=q.parentNode}q=Z}o=I===-1||P===-1?null:{start:I,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(Oc={focusedElem:n,selectionRange:o},dr=!1,ie=r;ie!==null;)if(r=ie,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,ie=n;else for(;ie!==null;){r=ie;try{var se=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var oe=se.memoizedProps,at=se.memoizedState,L=r.stateNode,D=L.getSnapshotBeforeUpdate(r.elementType===r.type?oe:In(r.type,oe),at);L.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var b=r.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(K){it(r,r.return,K)}if(n=r.sibling,n!==null){n.return=r.return,ie=n;break}ie=r.return}return se=um,um=!1,se}function ya(n,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&n)===n){var f=d.destroy;d.destroy=void 0,f!==void 0&&wh(r,o,f)}d=d.next}while(d!==u)}}function Zl(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Th(n){var r=n.ref;if(r!==null){var o=n.stateNode;n.tag,n=o,typeof r=="function"?r(n):r.current=n}}function cm(n){var r=n.alternate;r!==null&&(n.alternate=null,cm(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[Gn],delete r[oa],delete r[Fc],delete r[mE],delete r[gE])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function hm(n){return n.tag===5||n.tag===3||n.tag===4}function dm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||hm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ih(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(n,r):o.insertBefore(n,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(n,o)):(r=o,r.appendChild(n)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Nl));else if(u!==4&&(n=n.child,n!==null))for(Ih(n,r,o),n=n.sibling;n!==null;)Ih(n,r,o),n=n.sibling}function Sh(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(u!==4&&(n=n.child,n!==null))for(Sh(n,r,o),n=n.sibling;n!==null;)Sh(n,r,o),n=n.sibling}var At=null,Sn=!1;function ti(n,r,o){for(o=o.child;o!==null;)fm(n,r,o),o=o.sibling}function fm(n,r,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Di,o)}catch{}switch(o.tag){case 5:Ot||Js(o,r);case 6:var u=At,d=Sn;At=null,ti(n,r,o),At=u,Sn=d,At!==null&&(Sn?(n=At,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):At.removeChild(o.stateNode));break;case 18:At!==null&&(Sn?(n=At,o=o.stateNode,n.nodeType===8?bc(n.parentNode,o):n.nodeType===1&&bc(n,o),Hr(n)):bc(At,o.stateNode));break;case 4:u=At,d=Sn,At=o.stateNode.containerInfo,Sn=!0,ti(n,r,o),At=u,Sn=d;break;case 0:case 11:case 14:case 15:if(!Ot&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var f=d,_=f.destroy;f=f.tag,_!==void 0&&((f&2)!==0||(f&4)!==0)&&wh(o,r,_),d=d.next}while(d!==u)}ti(n,r,o);break;case 1:if(!Ot&&(Js(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(I){it(o,r,I)}ti(n,r,o);break;case 21:ti(n,r,o);break;case 22:o.mode&1?(Ot=(u=Ot)||o.memoizedState!==null,ti(n,r,o),Ot=u):ti(n,r,o);break;default:ti(n,r,o)}}function pm(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new VE),r.forEach(function(u){var d=BE.bind(null,n,u);o.has(u)||(o.add(u),u.then(d,d))})}}function An(n,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];try{var f=n,_=r,I=_;e:for(;I!==null;){switch(I.tag){case 5:At=I.stateNode,Sn=!1;break e;case 3:At=I.stateNode.containerInfo,Sn=!0;break e;case 4:At=I.stateNode.containerInfo,Sn=!0;break e}I=I.return}if(At===null)throw Error(t(160));fm(f,_,d),At=null,Sn=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(F){it(d,r,F)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)mm(r,n),r=r.sibling}function mm(n,r){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(An(r,n),Yn(n),u&4){try{ya(3,n,n.return),Zl(3,n)}catch(oe){it(n,n.return,oe)}try{ya(5,n,n.return)}catch(oe){it(n,n.return,oe)}}break;case 1:An(r,n),Yn(n),u&512&&o!==null&&Js(o,o.return);break;case 5:if(An(r,n),Yn(n),u&512&&o!==null&&Js(o,o.return),n.flags&32){var d=n.stateNode;try{Ri(d,"")}catch(oe){it(n,n.return,oe)}}if(u&4&&(d=n.stateNode,d!=null)){var f=n.memoizedProps,_=o!==null?o.memoizedProps:f,I=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{I==="input"&&f.type==="radio"&&f.name!=null&&ms(d,f),_s(I,_);var F=_s(I,f);for(_=0;_<P.length;_+=2){var H=P[_],q=P[_+1];H==="style"?ys(d,q):H==="dangerouslySetInnerHTML"?rl(d,q):H==="children"?Ri(d,q):Te(d,H,q,F)}switch(I){case"input":Ai(d,f);break;case"textarea":nl(d,f);break;case"select":var W=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var Z=f.value;Z!=null?yn(d,!!f.multiple,Z,!1):W!==!!f.multiple&&(f.defaultValue!=null?yn(d,!!f.multiple,f.defaultValue,!0):yn(d,!!f.multiple,f.multiple?[]:"",!1))}d[oa]=f}catch(oe){it(n,n.return,oe)}}break;case 6:if(An(r,n),Yn(n),u&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,f=n.memoizedProps;try{d.nodeValue=f}catch(oe){it(n,n.return,oe)}}break;case 3:if(An(r,n),Yn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Hr(r.containerInfo)}catch(oe){it(n,n.return,oe)}break;case 4:An(r,n),Yn(n);break;case 13:An(r,n),Yn(n),d=n.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Ch=qe())),u&4&&pm(n);break;case 22:if(H=o!==null&&o.memoizedState!==null,n.mode&1?(Ot=(F=Ot)||H,An(r,n),Ot=F):An(r,n),Yn(n),u&8192){if(F=n.memoizedState!==null,(n.stateNode.isHidden=F)&&!H&&(n.mode&1)!==0)for(ie=n,H=n.child;H!==null;){for(q=ie=H;ie!==null;){switch(W=ie,Z=W.child,W.tag){case 0:case 11:case 14:case 15:ya(4,W,W.return);break;case 1:Js(W,W.return);var se=W.stateNode;if(typeof se.componentWillUnmount=="function"){u=W,o=W.return;try{r=u,se.props=r.memoizedProps,se.state=r.memoizedState,se.componentWillUnmount()}catch(oe){it(u,o,oe)}}break;case 5:Js(W,W.return);break;case 22:if(W.memoizedState!==null){_m(q);continue}}Z!==null?(Z.return=W,ie=Z):_m(q)}H=H.sibling}e:for(H=null,q=n;;){if(q.tag===5){if(H===null){H=q;try{d=q.stateNode,F?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(I=q.stateNode,P=q.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,I.style.display=Mr("display",_))}catch(oe){it(n,n.return,oe)}}}else if(q.tag===6){if(H===null)try{q.stateNode.nodeValue=F?"":q.memoizedProps}catch(oe){it(n,n.return,oe)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===n)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===n)break e;for(;q.sibling===null;){if(q.return===null||q.return===n)break e;H===q&&(H=null),q=q.return}H===q&&(H=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:An(r,n),Yn(n),u&4&&pm(n);break;case 21:break;default:An(r,n),Yn(n)}}function Yn(n){var r=n.flags;if(r&2){try{e:{for(var o=n.return;o!==null;){if(hm(o)){var u=o;break e}o=o.return}throw Error(t(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(Ri(d,""),u.flags&=-33);var f=dm(n);Sh(n,f,d);break;case 3:case 4:var _=u.stateNode.containerInfo,I=dm(n);Ih(n,I,_);break;default:throw Error(t(161))}}catch(P){it(n,n.return,P)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function OE(n,r,o){ie=n,gm(n)}function gm(n,r,o){for(var u=(n.mode&1)!==0;ie!==null;){var d=ie,f=d.child;if(d.tag===22&&u){var _=d.memoizedState!==null||Xl;if(!_){var I=d.alternate,P=I!==null&&I.memoizedState!==null||Ot;I=Xl;var F=Ot;if(Xl=_,(Ot=P)&&!F)for(ie=d;ie!==null;)_=ie,P=_.child,_.tag===22&&_.memoizedState!==null?vm(d):P!==null?(P.return=_,ie=P):vm(d);for(;f!==null;)ie=f,gm(f),f=f.sibling;ie=d,Xl=I,Ot=F}ym(n)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,ie=f):ym(n)}}function ym(n){for(;ie!==null;){var r=ie;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Ot||Zl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Ot)if(o===null)u.componentDidMount();else{var d=r.elementType===r.type?o.memoizedProps:In(r.type,o.memoizedProps);u.componentDidUpdate(d,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=r.updateQueue;f!==null&&_p(r,f,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}_p(r,_,o)}break;case 5:var I=r.stateNode;if(o===null&&r.flags&4){o=I;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var F=r.alternate;if(F!==null){var H=F.memoizedState;if(H!==null){var q=H.dehydrated;q!==null&&Hr(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ot||r.flags&512&&Th(r)}catch(W){it(r,r.return,W)}}if(r===n){ie=null;break}if(o=r.sibling,o!==null){o.return=r.return,ie=o;break}ie=r.return}}function _m(n){for(;ie!==null;){var r=ie;if(r===n){ie=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ie=o;break}ie=r.return}}function vm(n){for(;ie!==null;){var r=ie;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Zl(4,r)}catch(P){it(r,o,P)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var d=r.return;try{u.componentDidMount()}catch(P){it(r,d,P)}}var f=r.return;try{Th(r)}catch(P){it(r,f,P)}break;case 5:var _=r.return;try{Th(r)}catch(P){it(r,_,P)}}}catch(P){it(r,r.return,P)}if(r===n){ie=null;break}var I=r.sibling;if(I!==null){I.return=r.return,ie=I;break}ie=r.return}}var LE=Math.ceil,eu=Se.ReactCurrentDispatcher,Ah=Se.ReactCurrentOwner,fn=Se.ReactCurrentBatchConfig,Le=0,Et=null,dt=null,Rt=0,on=0,Xs=Yr(0),yt=0,_a=null,Gi=0,tu=0,Rh=0,va=null,Gt=null,Ch=0,Zs=1/0,Tr=null,nu=!1,Ph=null,ni=null,ru=!1,ri=null,iu=0,Ea=0,kh=null,su=-1,ou=0;function zt(){return(Le&6)!==0?qe():su!==-1?su:su=qe()}function ii(n){return(n.mode&1)===0?1:(Le&2)!==0&&Rt!==0?Rt&-Rt:_E.transition!==null?(ou===0&&(ou=zo()),ou):(n=De,n!==0||(n=window.event,n=n===void 0?16:Ps(n.type)),n)}function Rn(n,r,o,u){if(50<Ea)throw Ea=0,kh=null,Error(t(185));Li(n,o,u),((Le&2)===0||n!==Et)&&(n===Et&&((Le&2)===0&&(tu|=o),yt===4&&si(n,Rt)),Kt(n,u),o===1&&Le===0&&(r.mode&1)===0&&(Zs=qe()+500,Ol&&Xr()))}function Kt(n,r){var o=n.callbackNode;Oi(n,r);var u=ur(n,n===Et?Rt:0);if(u===0)o!==null&&ws(o),n.callbackNode=null,n.callbackPriority=0;else if(r=u&-u,n.callbackPriority!==r){if(o!=null&&ws(o),r===1)n.tag===0?yE(wm.bind(null,n)):op(wm.bind(null,n)),fE(function(){(Le&6)===0&&Xr()}),o=null;else{switch(bn(u)){case 1:o=Ts;break;case 4:o=Fo;break;case 16:o=Ni;break;case 536870912:o=Is;break;default:o=Ni}o=km(o,Em.bind(null,n))}n.callbackPriority=r,n.callbackNode=o}}function Em(n,r){if(su=-1,ou=0,(Le&6)!==0)throw Error(t(327));var o=n.callbackNode;if(eo()&&n.callbackNode!==o)return null;var u=ur(n,n===Et?Rt:0);if(u===0)return null;if((u&30)!==0||(u&n.expiredLanes)!==0||r)r=au(n,u);else{r=u;var d=Le;Le|=2;var f=Im();(Et!==n||Rt!==r)&&(Tr=null,Zs=qe()+500,Qi(n,r));do try{FE();break}catch(I){Tm(n,I)}while(!0);Gc(),eu.current=f,Le=d,dt!==null?r=0:(Et=null,Rt=0,r=yt)}if(r!==0){if(r===2&&(d=jo(n),d!==0&&(u=d,r=Nh(n,d))),r===1)throw o=_a,Qi(n,0),si(n,u),Kt(n,qe()),o;if(r===6)si(n,u);else{if(d=n.current.alternate,(u&30)===0&&!ME(d)&&(r=au(n,u),r===2&&(f=jo(n),f!==0&&(u=f,r=Nh(n,f))),r===1))throw o=_a,Qi(n,0),si(n,u),Kt(n,qe()),o;switch(n.finishedWork=d,n.finishedLanes=u,r){case 0:case 1:throw Error(t(345));case 2:Yi(n,Gt,Tr);break;case 3:if(si(n,u),(u&130023424)===u&&(r=Ch+500-qe(),10<r)){if(ur(n,0)!==0)break;if(d=n.suspendedLanes,(d&u)!==u){zt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Mc(Yi.bind(null,n,Gt,Tr),r);break}Yi(n,Gt,Tr);break;case 4:if(si(n,u),(u&4194240)===u)break;for(r=n.eventTimes,d=-1;0<u;){var _=31-Xt(u);f=1<<_,_=r[_],_>d&&(d=_),u&=~f}if(u=d,u=qe()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*LE(u/1960))-u,10<u){n.timeoutHandle=Mc(Yi.bind(null,n,Gt,Tr),u);break}Yi(n,Gt,Tr);break;case 5:Yi(n,Gt,Tr);break;default:throw Error(t(329))}}}return Kt(n,qe()),n.callbackNode===o?Em.bind(null,n):null}function Nh(n,r){var o=va;return n.current.memoizedState.isDehydrated&&(Qi(n,r).flags|=256),n=au(n,r),n!==2&&(r=Gt,Gt=o,r!==null&&Dh(r)),n}function Dh(n){Gt===null?Gt=n:Gt.push.apply(Gt,n)}function ME(n){for(var r=n;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var d=o[u],f=d.getSnapshot;d=d.value;try{if(!wn(f(),d))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function si(n,r){for(r&=~Rh,r&=~tu,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var o=31-Xt(r),u=1<<o;n[o]=-1,r&=~u}}function wm(n){if((Le&6)!==0)throw Error(t(327));eo();var r=ur(n,0);if((r&1)===0)return Kt(n,qe()),null;var o=au(n,r);if(n.tag!==0&&o===2){var u=jo(n);u!==0&&(r=u,o=Nh(n,u))}if(o===1)throw o=_a,Qi(n,0),si(n,r),Kt(n,qe()),o;if(o===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,Yi(n,Gt,Tr),Kt(n,qe()),null}function Vh(n,r){var o=Le;Le|=1;try{return n(r)}finally{Le=o,Le===0&&(Zs=qe()+500,Ol&&Xr())}}function Ki(n){ri!==null&&ri.tag===0&&(Le&6)===0&&eo();var r=Le;Le|=1;var o=fn.transition,u=De;try{if(fn.transition=null,De=1,n)return n()}finally{De=u,fn.transition=o,Le=r,(Le&6)===0&&Xr()}}function xh(){on=Xs.current,Ke(Xs)}function Qi(n,r){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,dE(o)),dt!==null)for(o=dt.return;o!==null;){var u=o;switch(Bc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Vl();break;case 3:Qs(),Ke(Wt),Ke(Dt),th();break;case 5:Zc(u);break;case 4:Qs();break;case 13:Ke(Ze);break;case 19:Ke(Ze);break;case 10:Kc(u.type._context);break;case 22:case 23:xh()}o=o.return}if(Et=n,dt=n=oi(n.current,null),Rt=on=r,yt=0,_a=null,Rh=tu=Gi=0,Gt=va=null,Wi!==null){for(r=0;r<Wi.length;r++)if(o=Wi[r],u=o.interleaved,u!==null){o.interleaved=null;var d=u.next,f=o.pending;if(f!==null){var _=f.next;f.next=d,u.next=_}o.pending=u}Wi=null}return n}function Tm(n,r){do{var o=dt;try{if(Gc(),Wl.current=Kl,Hl){for(var u=et.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}Hl=!1}if(qi=0,vt=gt=et=null,da=!1,fa=0,Ah.current=null,o===null||o.return===null){yt=1,_a=r,dt=null;break}e:{var f=n,_=o.return,I=o,P=r;if(r=Rt,I.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var F=P,H=I,q=H.tag;if((H.mode&1)===0&&(q===0||q===11||q===15)){var W=H.alternate;W?(H.updateQueue=W.updateQueue,H.memoizedState=W.memoizedState,H.lanes=W.lanes):(H.updateQueue=null,H.memoizedState=null)}var Z=Gp(_);if(Z!==null){Z.flags&=-257,Kp(Z,_,I,f,r),Z.mode&1&&qp(f,F,r),r=Z,P=F;var se=r.updateQueue;if(se===null){var oe=new Set;oe.add(P),r.updateQueue=oe}else se.add(P);break e}else{if((r&1)===0){qp(f,F,r),Oh();break e}P=Error(t(426))}}else if(Xe&&I.mode&1){var at=Gp(_);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),Kp(at,_,I,f,r),Hc(Ys(P,I));break e}}f=P=Ys(P,I),yt!==4&&(yt=2),va===null?va=[f]:va.push(f),f=_;do{switch(f.tag){case 3:f.flags|=65536,r&=-r,f.lanes|=r;var L=Wp(f,P,r);yp(f,L);break e;case 1:I=P;var D=f.type,b=f.stateNode;if((f.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ni===null||!ni.has(b)))){f.flags|=65536,r&=-r,f.lanes|=r;var K=Hp(f,I,r);yp(f,K);break e}}f=f.return}while(f!==null)}Am(o)}catch(ae){r=ae,dt===o&&o!==null&&(dt=o=o.return);continue}break}while(!0)}function Im(){var n=eu.current;return eu.current=Kl,n===null?Kl:n}function Oh(){(yt===0||yt===3||yt===2)&&(yt=4),Et===null||(Gi&268435455)===0&&(tu&268435455)===0||si(Et,Rt)}function au(n,r){var o=Le;Le|=2;var u=Im();(Et!==n||Rt!==r)&&(Tr=null,Qi(n,r));do try{bE();break}catch(d){Tm(n,d)}while(!0);if(Gc(),Le=o,eu.current=u,dt!==null)throw Error(t(261));return Et=null,Rt=0,yt}function bE(){for(;dt!==null;)Sm(dt)}function FE(){for(;dt!==null&&!ki();)Sm(dt)}function Sm(n){var r=Pm(n.alternate,n,on);n.memoizedProps=n.pendingProps,r===null?Am(n):dt=r,Ah.current=null}function Am(n){var r=n;do{var o=r.alternate;if(n=r.return,(r.flags&32768)===0){if(o=NE(o,r,on),o!==null){dt=o;return}}else{if(o=DE(o,r),o!==null){o.flags&=32767,dt=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{yt=6,dt=null;return}}if(r=r.sibling,r!==null){dt=r;return}dt=r=n}while(r!==null);yt===0&&(yt=5)}function Yi(n,r,o){var u=De,d=fn.transition;try{fn.transition=null,De=1,UE(n,r,o,u)}finally{fn.transition=d,De=u}return null}function UE(n,r,o,u){do eo();while(ri!==null);if((Le&6)!==0)throw Error(t(327));o=n.finishedWork;var d=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var f=o.lanes|o.childLanes;if(Ec(n,f),n===Et&&(dt=Et=null,Rt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||ru||(ru=!0,km(Ni,function(){return eo(),null})),f=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||f){f=fn.transition,fn.transition=null;var _=De;De=1;var I=Le;Le|=4,Ah.current=null,xE(n,o),mm(o,n),sE(Oc),dr=!!xc,Oc=xc=null,n.current=o,OE(o),lr(),Le=I,De=_,fn.transition=f}else n.current=o;if(ru&&(ru=!1,ri=n,iu=d),f=n.pendingLanes,f===0&&(ni=null),pl(o.stateNode),Kt(n,qe()),r!==null)for(u=n.onRecoverableError,o=0;o<r.length;o++)d=r[o],u(d.value,{componentStack:d.stack,digest:d.digest});if(nu)throw nu=!1,n=Ph,Ph=null,n;return(iu&1)!==0&&n.tag!==0&&eo(),f=n.pendingLanes,(f&1)!==0?n===kh?Ea++:(Ea=0,kh=n):Ea=0,Xr(),null}function eo(){if(ri!==null){var n=bn(iu),r=fn.transition,o=De;try{if(fn.transition=null,De=16>n?16:n,ri===null)var u=!1;else{if(n=ri,ri=null,iu=0,(Le&6)!==0)throw Error(t(331));var d=Le;for(Le|=4,ie=n.current;ie!==null;){var f=ie,_=f.child;if((ie.flags&16)!==0){var I=f.deletions;if(I!==null){for(var P=0;P<I.length;P++){var F=I[P];for(ie=F;ie!==null;){var H=ie;switch(H.tag){case 0:case 11:case 15:ya(8,H,f)}var q=H.child;if(q!==null)q.return=H,ie=q;else for(;ie!==null;){H=ie;var W=H.sibling,Z=H.return;if(cm(H),H===F){ie=null;break}if(W!==null){W.return=Z,ie=W;break}ie=Z}}}var se=f.alternate;if(se!==null){var oe=se.child;if(oe!==null){se.child=null;do{var at=oe.sibling;oe.sibling=null,oe=at}while(oe!==null)}}ie=f}}if((f.subtreeFlags&2064)!==0&&_!==null)_.return=f,ie=_;else e:for(;ie!==null;){if(f=ie,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:ya(9,f,f.return)}var L=f.sibling;if(L!==null){L.return=f.return,ie=L;break e}ie=f.return}}var D=n.current;for(ie=D;ie!==null;){_=ie;var b=_.child;if((_.subtreeFlags&2064)!==0&&b!==null)b.return=_,ie=b;else e:for(_=D;ie!==null;){if(I=ie,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Zl(9,I)}}catch(ae){it(I,I.return,ae)}if(I===_){ie=null;break e}var K=I.sibling;if(K!==null){K.return=I.return,ie=K;break e}ie=I.return}}if(Le=d,Xr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Di,n)}catch{}u=!0}return u}finally{De=o,fn.transition=r}}return!1}function Rm(n,r,o){r=Ys(o,r),r=Wp(n,r,1),n=ei(n,r,1),r=zt(),n!==null&&(Li(n,1,r),Kt(n,r))}function it(n,r,o){if(n.tag===3)Rm(n,n,o);else for(;r!==null;){if(r.tag===3){Rm(r,n,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ni===null||!ni.has(u))){n=Ys(o,n),n=Hp(r,n,1),r=ei(r,n,1),n=zt(),r!==null&&(Li(r,1,n),Kt(r,n));break}}r=r.return}}function jE(n,r,o){var u=n.pingCache;u!==null&&u.delete(r),r=zt(),n.pingedLanes|=n.suspendedLanes&o,Et===n&&(Rt&o)===o&&(yt===4||yt===3&&(Rt&130023424)===Rt&&500>qe()-Ch?Qi(n,0):Rh|=o),Kt(n,r)}function Cm(n,r){r===0&&((n.mode&1)===0?r=1:(r=Br,Br<<=1,(Br&130023424)===0&&(Br=4194304)));var o=zt();n=vr(n,r),n!==null&&(Li(n,r,o),Kt(n,o))}function zE(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),Cm(n,o)}function BE(n,r){var o=0;switch(n.tag){case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=n.stateNode;break;default:throw Error(t(314))}u!==null&&u.delete(r),Cm(n,o)}var Pm;Pm=function(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps||Wt.current)qt=!0;else{if((n.lanes&o)===0&&(r.flags&128)===0)return qt=!1,kE(n,r,o);qt=(n.flags&131072)!==0}else qt=!1,Xe&&(r.flags&1048576)!==0&&ap(r,Ml,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;Jl(n,r),n=r.pendingProps;var d=Bs(r,Dt.current);Ks(r,o),d=ih(null,r,u,n,d,o);var f=sh();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ht(u)?(f=!0,xl(r)):f=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Jc(r),d.updater=Ql,r.stateNode=d,d._reactInternals=r,hh(r,u,n,o),r=mh(null,r,u,!0,f,o)):(r.tag=0,Xe&&f&&zc(r),jt(null,r,d,o),r=r.child),r;case 16:u=r.elementType;e:{switch(Jl(n,r),n=r.pendingProps,d=u._init,u=d(u._payload),r.type=u,d=r.tag=WE(u),n=In(u,n),d){case 0:r=ph(null,r,u,n,o);break e;case 1:r=em(null,r,u,n,o);break e;case 11:r=Qp(null,r,u,n,o);break e;case 14:r=Yp(null,r,u,In(u.type,n),o);break e}throw Error(t(306,u,""))}return r;case 0:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:In(u,d),ph(n,r,u,d,o);case 1:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:In(u,d),em(n,r,u,d,o);case 3:e:{if(tm(r),n===null)throw Error(t(387));u=r.pendingProps,f=r.memoizedState,d=f.element,gp(n,r),Bl(r,u,null,o);var _=r.memoizedState;if(u=_.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){d=Ys(Error(t(423)),r),r=nm(n,r,u,o,d);break e}else if(u!==d){d=Ys(Error(t(424)),r),r=nm(n,r,u,o,d);break e}else for(sn=Qr(r.stateNode.containerInfo.firstChild),rn=r,Xe=!0,Tn=null,o=pp(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Hs(),u===d){r=wr(n,r,o);break e}jt(n,r,u,o)}r=r.child}return r;case 5:return vp(r),n===null&&Wc(r),u=r.type,d=r.pendingProps,f=n!==null?n.memoizedProps:null,_=d.children,Lc(u,d)?_=null:f!==null&&Lc(u,f)&&(r.flags|=32),Zp(n,r),jt(n,r,_,o),r.child;case 6:return n===null&&Wc(r),null;case 13:return rm(n,r,o);case 4:return Xc(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=qs(r,null,u,o):jt(n,r,u,o),r.child;case 11:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:In(u,d),Qp(n,r,u,d,o);case 7:return jt(n,r,r.pendingProps,o),r.child;case 8:return jt(n,r,r.pendingProps.children,o),r.child;case 12:return jt(n,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,d=r.pendingProps,f=r.memoizedProps,_=d.value,We(Ul,u._currentValue),u._currentValue=_,f!==null)if(wn(f.value,_)){if(f.children===d.children&&!Wt.current){r=wr(n,r,o);break e}}else for(f=r.child,f!==null&&(f.return=r);f!==null;){var I=f.dependencies;if(I!==null){_=f.child;for(var P=I.firstContext;P!==null;){if(P.context===u){if(f.tag===1){P=Er(-1,o&-o),P.tag=2;var F=f.updateQueue;if(F!==null){F=F.shared;var H=F.pending;H===null?P.next=P:(P.next=H.next,H.next=P),F.pending=P}}f.lanes|=o,P=f.alternate,P!==null&&(P.lanes|=o),Qc(f.return,o,r),I.lanes|=o;break}P=P.next}}else if(f.tag===10)_=f.type===r.type?null:f.child;else if(f.tag===18){if(_=f.return,_===null)throw Error(t(341));_.lanes|=o,I=_.alternate,I!==null&&(I.lanes|=o),Qc(_,o,r),_=f.sibling}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===r){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}jt(n,r,d.children,o),r=r.child}return r;case 9:return d=r.type,u=r.pendingProps.children,Ks(r,o),d=hn(d),u=u(d),r.flags|=1,jt(n,r,u,o),r.child;case 14:return u=r.type,d=In(u,r.pendingProps),d=In(u.type,d),Yp(n,r,u,d,o);case 15:return Jp(n,r,r.type,r.pendingProps,o);case 17:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:In(u,d),Jl(n,r),r.tag=1,Ht(u)?(n=!0,xl(r)):n=!1,Ks(r,o),Bp(r,u,d),hh(r,u,d,o),mh(null,r,u,!0,n,o);case 19:return sm(n,r,o);case 22:return Xp(n,r,o)}throw Error(t(156,r.tag))};function km(n,r){return bo(n,r)}function $E(n,r,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(n,r,o,u){return new $E(n,r,o,u)}function Lh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function WE(n){if(typeof n=="function")return Lh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===N)return 11;if(n===ze)return 14}return 2}function oi(n,r){var o=n.alternate;return o===null?(o=pn(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function lu(n,r,o,u,d,f){var _=2;if(u=n,typeof n=="function")Lh(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case k:return Ji(o.children,d,f,r);case S:_=8,d|=8;break;case R:return n=pn(12,o,r,d|2),n.elementType=R,n.lanes=f,n;case T:return n=pn(13,o,r,d),n.elementType=T,n.lanes=f,n;case xe:return n=pn(19,o,r,d),n.elementType=xe,n.lanes=f,n;case Je:return uu(o,d,f,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case V:_=10;break e;case A:_=9;break e;case N:_=11;break e;case ze:_=14;break e;case nt:_=16,u=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return r=pn(_,o,r,d),r.elementType=n,r.type=u,r.lanes=f,r}function Ji(n,r,o,u){return n=pn(7,n,u,r),n.lanes=o,n}function uu(n,r,o,u){return n=pn(22,n,u,r),n.elementType=Je,n.lanes=o,n.stateNode={isHidden:!1},n}function Mh(n,r,o){return n=pn(6,n,null,r),n.lanes=o,n}function bh(n,r,o){return r=pn(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function HE(n,r,o,u,d){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bo(0),this.expirationTimes=Bo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bo(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Fh(n,r,o,u,d,f,_,I,P){return n=new HE(n,r,o,I,P),r===1?(r=1,f===!0&&(r|=8)):r=0,f=pn(3,null,null,r),n.current=f,f.stateNode=n,f.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jc(f),n}function qE(n,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ae,key:u==null?null:""+u,children:n,containerInfo:r,implementation:o}}function Nm(n){if(!n)return Jr;n=n._reactInternals;e:{if(vn(n)!==n||n.tag!==1)throw Error(t(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ht(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(t(171))}if(n.tag===1){var o=n.type;if(Ht(o))return ip(n,o,r)}return r}function Dm(n,r,o,u,d,f,_,I,P){return n=Fh(o,u,!0,n,d,f,_,I,P),n.context=Nm(null),o=n.current,u=zt(),d=ii(o),f=Er(u,d),f.callback=r??null,ei(o,f,d),n.current.lanes=d,Li(n,d,u),Kt(n,u),n}function cu(n,r,o,u){var d=r.current,f=zt(),_=ii(d);return o=Nm(o),r.context===null?r.context=o:r.pendingContext=o,r=Er(f,_),r.payload={element:n},u=u===void 0?null:u,u!==null&&(r.callback=u),n=ei(d,r,_),n!==null&&(Rn(n,d,_,f),zl(n,d,_)),_}function hu(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function Vm(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Uh(n,r){Vm(n,r),(n=n.alternate)&&Vm(n,r)}function GE(){return null}var xm=typeof reportError=="function"?reportError:function(n){console.error(n)};function jh(n){this._internalRoot=n}du.prototype.render=jh.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(t(409));cu(n,r,null,null)},du.prototype.unmount=jh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Ki(function(){cu(null,n,null,null)}),r[mr]=null}};function du(n){this._internalRoot=n}du.prototype.unstable_scheduleHydration=function(n){if(n){var r=qo();n={blockedOn:null,target:n,priority:r};for(var o=0;o<Zt.length&&r!==0&&r<Zt[o].priority;o++);Zt.splice(o,0,n),o===0&&Rs(n)}};function zh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function fu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Om(){}function KE(n,r,o,u,d){if(d){if(typeof u=="function"){var f=u;u=function(){var F=hu(_);f.call(F)}}var _=Dm(r,u,n,0,null,!1,!1,"",Om);return n._reactRootContainer=_,n[mr]=_.current,ia(n.nodeType===8?n.parentNode:n),Ki(),_}for(;d=n.lastChild;)n.removeChild(d);if(typeof u=="function"){var I=u;u=function(){var F=hu(P);I.call(F)}}var P=Fh(n,0,!1,null,null,!1,!1,"",Om);return n._reactRootContainer=P,n[mr]=P.current,ia(n.nodeType===8?n.parentNode:n),Ki(function(){cu(r,P,o,u)}),P}function pu(n,r,o,u,d){var f=o._reactRootContainer;if(f){var _=f;if(typeof d=="function"){var I=d;d=function(){var P=hu(_);I.call(P)}}cu(r,_,n,d)}else _=KE(o,r,n,d,u);return hu(_)}Wo=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var o=be(r.pendingLanes);o!==0&&($o(r,o|1),Kt(r,qe()),(Le&6)===0&&(Zs=qe()+500,Xr()))}break;case 13:Ki(function(){var u=vr(n,1);if(u!==null){var d=zt();Rn(u,n,1,d)}}),Uh(n,1)}},Ss=function(n){if(n.tag===13){var r=vr(n,134217728);if(r!==null){var o=zt();Rn(r,n,134217728,o)}Uh(n,134217728)}},Ho=function(n){if(n.tag===13){var r=ii(n),o=vr(n,r);if(o!==null){var u=zt();Rn(o,n,r,u)}Uh(n,r)}},qo=function(){return De},Go=function(n,r){var o=De;try{return De=n,r()}finally{De=o}},sr=function(n,r,o){switch(r){case"input":if(Ai(n,o),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==n&&u.form===n.form){var d=Dl(u);if(!d)throw Error(t(90));Po(u),Ai(u,d)}}}break;case"textarea":nl(n,o);break;case"select":r=o.value,r!=null&&yn(n,!!o.multiple,r,!1)}},sl=Vh,ol=Ki;var QE={usingClientEntryPoint:!1,Events:[aa,js,Dl,Fr,Ur,Vh]},wa={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YE={bundleType:wa.bundleType,version:wa.version,rendererPackageName:wa.rendererPackageName,rendererConfig:wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Se.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=fl(n),n===null?null:n.stateNode},findFiberByHostInstance:wa.findFiberByHostInstance||GE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{Di=mu.inject(YE),Jt=mu}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QE,Qt.createPortal=function(n,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zh(r))throw Error(t(200));return qE(n,r,null,o)},Qt.createRoot=function(n,r){if(!zh(n))throw Error(t(299));var o=!1,u="",d=xm;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=Fh(n,1,!1,null,null,o,!1,u,d),n[mr]=r.current,ia(n.nodeType===8?n.parentNode:n),new jh(r)},Qt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=fl(r),n=n===null?null:n.stateNode,n},Qt.flushSync=function(n){return Ki(n)},Qt.hydrate=function(n,r,o){if(!fu(r))throw Error(t(200));return pu(null,n,r,!0,o)},Qt.hydrateRoot=function(n,r,o){if(!zh(n))throw Error(t(405));var u=o!=null&&o.hydratedSources||null,d=!1,f="",_=xm;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Dm(r,null,n,1,o??null,d,!1,f,_),n[mr]=r.current,ia(n),u)for(n=0;n<u.length;n++)o=u[n],d=o._getVersion,d=d(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,d]:r.mutableSourceEagerHydrationData.push(o,d);return new du(r)},Qt.render=function(n,r,o){if(!fu(r))throw Error(t(200));return pu(null,n,r,!1,o)},Qt.unmountComponentAtNode=function(n){if(!fu(n))throw Error(t(40));return n._reactRootContainer?(Ki(function(){pu(null,null,n,!1,function(){n._reactRootContainer=null,n[mr]=null})}),!0):!1},Qt.unstable_batchedUpdates=Vh,Qt.unstable_renderSubtreeIntoContainer=function(n,r,o,u){if(!fu(o))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return pu(n,r,o,!1,u)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var Bm;function sw(){if(Bm)return Wh.exports;Bm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Wh.exports=iw(),Wh.exports}var $m;function ow(){if($m)return gu;$m=1;var i=sw();return gu.createRoot=i.createRoot,gu.hydrateRoot=i.hydrateRoot,gu}var aw=ow();const lw=Ey(aw),uw=()=>{};var Wm={};const wy=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},cw=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const a=i[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[t++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[t++],h=i[t++],m=i[t++],y=((a&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[t++],h=i[t++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|h&63)}}return e.join("")},Ty={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],h=a+1<i.length,m=h?i[a+1]:0,y=a+2<i.length,v=y?i[a+2]:0,w=c>>2,C=(c&3)<<4|m>>4;let x=(m&15)<<2|v>>6,j=v&63;y||(j=64,h||(x=64)),s.push(t[w],t[C],t[x],t[j])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(wy(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):cw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=t[i.charAt(a++)],m=a<i.length?t[i.charAt(a)]:0;++a;const v=a<i.length?t[i.charAt(a)]:64;++a;const C=a<i.length?t[i.charAt(a)]:64;if(++a,c==null||m==null||v==null||C==null)throw new hw;const x=c<<2|m>>4;if(s.push(x),v!==64){const j=m<<4&240|v>>2;if(s.push(j),C!==64){const J=v<<6&192|C;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class hw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dw=function(i){const e=wy(i);return Ty.encodeByteArray(e,!0)},Ou=function(i){return dw(i).replace(/\./g,"")},Iy=function(i){try{return Ty.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pw=()=>fw().__FIREBASE_DEFAULTS__,mw=()=>{if(typeof process>"u"||typeof Wm>"u")return;const i=Wm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},gw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Iy(i[1]);return e&&JSON.parse(e)},Zu=()=>{try{return uw()||pw()||mw()||gw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Sy=i=>Zu()?.emulatorHosts?.[i],yw=i=>{const e=Sy(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Ay=()=>Zu()?.config,Ry=i=>Zu()?.[`_${i}`];class _w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Eo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cy(i){return(await fetch(i,{credentials:"include"})).ok}function vw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ou(JSON.stringify(t)),Ou(JSON.stringify(h)),""].join(".")}const ka={};function Ew(){const i={prod:[],emulator:[]};for(const e of Object.keys(ka))ka[e]?i.emulator.push(e):i.prod.push(e);return i}function ww(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let Hm=!1;function Py(i,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||ka[i]===e||ka[i]||Hm)return;ka[i]=e;function t(x){return`__firebase__banner__${x}`}const s="__firebase__banner",c=Ew().prod.length>0;function h(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,j){x.setAttribute("width","24"),x.setAttribute("id",j),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function v(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Hm=!0,h()},x}function w(x,j){x.setAttribute("id",j),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function C(){const x=ww(s),j=t("text"),J=document.getElementById(j)||document.createElement("span"),Q=t("learnmore"),G=document.getElementById(Q)||document.createElement("a"),pe=t("preprendIcon"),de=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const Te=x.element;m(Te),w(G,Q);const Se=v();y(de,pe),Te.append(de,J,G,Se),document.body.appendChild(Te)}c?(J.innerText="Preview backend disconnected.",de.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(de.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function Iw(){const i=Zu()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Sw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Aw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Rw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Cw(){const i=Ft();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Pw(){return!Iw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kw(){try{return typeof indexedDB=="object"}catch{return!1}}function Nw(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const Dw="FirebaseError";class Dr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Dw,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wa.prototype.create)}}class Wa{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,c=this.errors[e],h=c?Vw(c,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new Dr(a,m,s)}}function Vw(i,e){return i.replace(xw,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const xw=/\{\$([^}]+)}/g;function Ow(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function rs(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const c=i[a],h=e[a];if(qm(c)&&qm(h)){if(!rs(c,h))return!1}else if(c!==h)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function qm(i){return i!==null&&typeof i=="object"}function Ha(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Lw(i,e){const t=new Mw(i,e);return t.subscribe.bind(t)}class Mw{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");bw(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=Gh),a.error===void 0&&(a.error=Gh),a.complete===void 0&&(a.complete=Gh);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bw(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Gh(){}function $t(i){return i&&i._delegate?i._delegate:i}class is{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xi="[DEFAULT]";class Fw{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new _w;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jw(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&h.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const c=this.instances.get(s);return c&&e(c,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Uw(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Uw(i){return i===Xi?void 0:i}function jw(i){return i.instantiationMode==="EAGER"}class zw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Fw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const Bw={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},$w=Pe.INFO,Ww={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Hw=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=Ww[e];if(a)console[a](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ld{constructor(e){this.name=e,this._logLevel=$w,this._logHandler=Hw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Bw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const qw=(i,e)=>e.some(t=>i instanceof t);let Gm,Km;function Gw(){return Gm||(Gm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kw(){return Km||(Km=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ky=new WeakMap,ld=new WeakMap,Ny=new WeakMap,Kh=new WeakMap,Md=new WeakMap;function Qw(i){const e=new Promise((t,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{t(fi(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&ky.set(t,i)}).catch(()=>{}),Md.set(e,i),e}function Yw(i){if(ld.has(i))return;const e=new Promise((t,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{t(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});ld.set(i,e)}let ud={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return ld.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Ny.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fi(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Jw(i){ud=i(ud)}function Xw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Qh(this),e,...t);return Ny.set(s,e.sort?e.sort():[e]),fi(s)}:Kw().includes(i)?function(...e){return i.apply(Qh(this),e),fi(ky.get(this))}:function(...e){return fi(i.apply(Qh(this),e))}}function Zw(i){return typeof i=="function"?Xw(i):(i instanceof IDBTransaction&&Yw(i),qw(i,Gw())?new Proxy(i,ud):i)}function fi(i){if(i instanceof IDBRequest)return Qw(i);if(Kh.has(i))return Kh.get(i);const e=Zw(i);return e!==i&&(Kh.set(i,e),Md.set(e,i)),e}const Qh=i=>Md.get(i);function eT(i,e,{blocked:t,upgrade:s,blocking:a,terminated:c}={}){const h=indexedDB.open(i,e),m=fi(h);return s&&h.addEventListener("upgradeneeded",y=>{s(fi(h.result),y.oldVersion,y.newVersion,fi(h.transaction),y)}),t&&h.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const tT=["get","getKey","getAll","getAllKeys","count"],nT=["put","add","delete","clear"],Yh=new Map;function Qm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Yh.get(e))return Yh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=nT.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||tT.includes(t)))return;const c=async function(h,...m){const y=this.transaction(h,a?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[t](...m),a&&y.done]))[0]};return Yh.set(e,c),c}Jw(i=>({...i,get:(e,t,s)=>Qm(e,t)||i.get(e,t,s),has:(e,t)=>!!Qm(e,t)||i.has(e,t)}));class rT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(iT(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function iT(i){return i.getComponent()?.type==="VERSION"}const cd="@firebase/app",Ym="0.14.8";const Cr=new Ld("@firebase/app"),sT="@firebase/app-compat",oT="@firebase/analytics-compat",aT="@firebase/analytics",lT="@firebase/app-check-compat",uT="@firebase/app-check",cT="@firebase/auth",hT="@firebase/auth-compat",dT="@firebase/database",fT="@firebase/data-connect",pT="@firebase/database-compat",mT="@firebase/functions",gT="@firebase/functions-compat",yT="@firebase/installations",_T="@firebase/installations-compat",vT="@firebase/messaging",ET="@firebase/messaging-compat",wT="@firebase/performance",TT="@firebase/performance-compat",IT="@firebase/remote-config",ST="@firebase/remote-config-compat",AT="@firebase/storage",RT="@firebase/storage-compat",CT="@firebase/firestore",PT="@firebase/ai",kT="@firebase/firestore-compat",NT="firebase",DT="12.9.0";const hd="[DEFAULT]",VT={[cd]:"fire-core",[sT]:"fire-core-compat",[aT]:"fire-analytics",[oT]:"fire-analytics-compat",[uT]:"fire-app-check",[lT]:"fire-app-check-compat",[cT]:"fire-auth",[hT]:"fire-auth-compat",[dT]:"fire-rtdb",[fT]:"fire-data-connect",[pT]:"fire-rtdb-compat",[mT]:"fire-fn",[gT]:"fire-fn-compat",[yT]:"fire-iid",[_T]:"fire-iid-compat",[vT]:"fire-fcm",[ET]:"fire-fcm-compat",[wT]:"fire-perf",[TT]:"fire-perf-compat",[IT]:"fire-rc",[ST]:"fire-rc-compat",[AT]:"fire-gcs",[RT]:"fire-gcs-compat",[CT]:"fire-fst",[kT]:"fire-fst-compat",[PT]:"fire-vertex","fire-js":"fire-js",[NT]:"fire-js-all"};const Lu=new Map,xT=new Map,dd=new Map;function Jm(i,e){try{i.container.addComponent(e)}catch(t){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ho(i){const e=i.name;if(dd.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;dd.set(e,i);for(const t of Lu.values())Jm(t,i);for(const t of xT.values())Jm(t,i);return!0}function bd(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Cn(i){return i==null?!1:i.settings!==void 0}const OT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new Wa("app","Firebase",OT);class LT{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}const wo=DT;function Dy(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:hd,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw pi.create("bad-app-name",{appName:String(a)});if(t||(t=Ay()),!t)throw pi.create("no-options");const c=Lu.get(a);if(c){if(rs(t,c.options)&&rs(s,c.config))return c;throw pi.create("duplicate-app",{appName:a})}const h=new zw(a);for(const y of dd.values())h.addComponent(y);const m=new LT(t,s,h);return Lu.set(a,m),m}function Vy(i=hd){const e=Lu.get(i);if(!e&&i===hd&&Ay())return Dy();if(!e)throw pi.create("no-app",{appName:i});return e}function mi(i,e,t){let s=VT[i]??i;t&&(s+=`-${t}`);const a=s.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(h.join(" "));return}ho(new is(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const MT="firebase-heartbeat-database",bT=1,La="firebase-heartbeat-store";let Jh=null;function xy(){return Jh||(Jh=eT(MT,bT,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(La)}catch(t){console.warn(t)}}}}).catch(i=>{throw pi.create("idb-open",{originalErrorMessage:i.message})})),Jh}async function FT(i){try{const t=(await xy()).transaction(La),s=await t.objectStore(La).get(Oy(i));return await t.done,s}catch(e){if(e instanceof Dr)Cr.warn(e.message);else{const t=pi.create("idb-get",{originalErrorMessage:e?.message});Cr.warn(t.message)}}}async function Xm(i,e){try{const s=(await xy()).transaction(La,"readwrite");await s.objectStore(La).put(e,Oy(i)),await s.done}catch(t){if(t instanceof Dr)Cr.warn(t.message);else{const s=pi.create("idb-set",{originalErrorMessage:t?.message});Cr.warn(s.message)}}}function Oy(i){return`${i.name}!${i.options.appId}`}const UT=1024,jT=30;class zT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $T(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Zm();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>jT){const a=WT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Cr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Zm(),{heartbeatsToSend:t,unsentEntries:s}=BT(this._heartbeatsCache.heartbeats),a=Ou(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Cr.warn(e),""}}}function Zm(){return new Date().toISOString().substring(0,10)}function BT(i,e=UT){const t=[];let s=i.slice();for(const a of i){const c=t.find(h=>h.agent===a.agent);if(c){if(c.dates.push(a.date),eg(t)>e){c.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),eg(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class $T{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kw()?Nw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await FT(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Xm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Xm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function eg(i){return Ou(JSON.stringify({version:2,heartbeats:i})).length}function WT(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}function HT(i){ho(new is("platform-logger",e=>new rT(e),"PRIVATE")),ho(new is("heartbeat",e=>new zT(e),"PRIVATE")),mi(cd,Ym,i),mi(cd,Ym,"esm2020"),mi("fire-js","")}HT("");function Ly(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qT=Ly,My=new Wa("auth","Firebase",Ly());const Mu=new Ld("@firebase/auth");function GT(i,...e){Mu.logLevel<=Pe.WARN&&Mu.warn(`Auth (${wo}): ${i}`,...e)}function Su(i,...e){Mu.logLevel<=Pe.ERROR&&Mu.error(`Auth (${wo}): ${i}`,...e)}function rr(i,...e){throw Ud(i,...e)}function Nn(i,...e){return Ud(i,...e)}function Fd(i,e,t){const s={...qT(),[e]:t};return new Wa("auth","Firebase",s).create(e,{appName:i.name})}function ts(i){return Fd(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KT(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&rr(i,"argument-error"),Fd(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ud(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return My.create(i,...e)}function ge(i,e,...t){if(!i)throw Ud(e,...t)}function Sr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Su(e),new Error(e)}function Pr(i,e){i||Sr(e)}function fd(){return typeof self<"u"&&self.location?.href||""}function QT(){return tg()==="http:"||tg()==="https:"}function tg(){return typeof self<"u"&&self.location?.protocol||null}function YT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QT()||Aw()||"connection"in navigator)?navigator.onLine:!0}function JT(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class qa{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pr(t>e,"Short delay should be less than long delay!"),this.isMobile=Tw()||Rw()}get(){return YT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jd(i,e){Pr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class by{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ZT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eI=new qa(3e4,6e4);function zd(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function To(i,e,t,s,a={}){return Fy(i,a,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const m=Ha({key:i.config.apiKey,...h}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const v={method:e,headers:y,...c};return Sw()||(v.referrerPolicy="no-referrer"),i.emulatorConfig&&Eo(i.emulatorConfig.host)&&(v.credentials="include"),by.fetch()(await Uy(i,i.config.apiHost,t,m),v)})}async function Fy(i,e,t){i._canInitEmulator=!1;const s={...XT,...e};try{const a=new nI(i),c=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw yu(i,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[y,v]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw yu(i,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw yu(i,"email-already-in-use",h);if(y==="USER_DISABLED")throw yu(i,"user-disabled",h);const w=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Fd(i,w,v);rr(i,w)}}catch(a){if(a instanceof Dr)throw a;rr(i,"network-request-failed",{message:String(a)})}}async function tI(i,e,t,s,a={}){const c=await To(i,e,t,s,a);return"mfaPendingCredential"in c&&rr(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function Uy(i,e,t,s){const a=`${e}${t}?${s}`,c=i,h=c.config.emulator?jd(i.config,a):`${i.config.apiScheme}://${a}`;return ZT.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}class nI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Nn(this.auth,"network-request-failed")),eI.get())})}}function yu(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Nn(i,e,s);return a.customData._tokenResponse=t,a}async function rI(i,e){return To(i,"POST","/v1/accounts:delete",e)}async function bu(i,e){return To(i,"POST","/v1/accounts:lookup",e)}function Na(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iI(i,e=!1){const t=$t(i),s=await t.getIdToken(e),a=Bd(s);ge(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const c=typeof a.firebase=="object"?a.firebase:void 0,h=c?.sign_in_provider;return{claims:a,token:s,authTime:Na(Xh(a.auth_time)),issuedAtTime:Na(Xh(a.iat)),expirationTime:Na(Xh(a.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Xh(i){return Number(i)*1e3}function Bd(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Su("JWT malformed, contained fewer than 3 sections"),null;try{const a=Iy(t);return a?JSON.parse(a):(Su("Failed to decode base64 JWT payload"),null)}catch(a){return Su("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ng(i){const e=Bd(i);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ma(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Dr&&sI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function sI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class oI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class pd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Na(this.lastLoginAt),this.creationTime=Na(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fu(i){const e=i.auth,t=await i.getIdToken(),s=await Ma(i,bu(e,{idToken:t}));ge(s?.users.length,e,"internal-error");const a=s.users[0];i._notifyReloadListener(a);const c=a.providerUserInfo?.length?jy(a.providerUserInfo):[],h=lI(i.providerData,c),m=i.isAnonymous,y=!(i.email&&a.passwordHash)&&!h?.length,v=m?y:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new pd(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(i,w)}async function aI(i){const e=$t(i);await Fu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lI(i,e){return[...i.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function jy(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function uI(i,e){const t=await Fy(i,{},async()=>{const s=Ha({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=i.config,h=await Uy(i,a,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return i.emulatorConfig&&Eo(i.emulatorConfig.host)&&(y.credentials="include"),by.fetch()(h,y)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cI(i,e){return To(i,"POST","/v2/accounts:revokeToken",zd(i,e))}class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ng(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const t=ng(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:c}=await uI(e,t);this.updateTokensAndExpiration(s,a,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:c}=t,h=new so;return s&&(ge(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),a&&(ge(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),c&&(ge(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return Sr("not implemented")}}function li(i,e){ge(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Pn{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new oI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new pd(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ma(this,this.stsTokenManager.getToken(this.auth,e));return ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return iI(this,e)}reload(){return aI(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Pn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Fu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(ts(this.auth));const e=await this.getIdToken();return await Ma(this,rI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,c=t.phoneNumber??void 0,h=t.photoURL??void 0,m=t.tenantId??void 0,y=t._redirectEventId??void 0,v=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:C,emailVerified:x,isAnonymous:j,providerData:J,stsTokenManager:Q}=t;ge(C&&Q,e,"internal-error");const G=so.fromJSON(this.name,Q);ge(typeof C=="string",e,"internal-error"),li(s,e.name),li(a,e.name),ge(typeof x=="boolean",e,"internal-error"),ge(typeof j=="boolean",e,"internal-error"),li(c,e.name),li(h,e.name),li(m,e.name),li(y,e.name),li(v,e.name),li(w,e.name);const pe=new Pn({uid:C,auth:e,email:a,emailVerified:x,displayName:s,isAnonymous:j,photoURL:h,phoneNumber:c,tenantId:m,stsTokenManager:G,createdAt:v,lastLoginAt:w});return J&&Array.isArray(J)&&(pe.providerData=J.map(de=>({...de}))),y&&(pe._redirectEventId=y),pe}static async _fromIdTokenResponse(e,t,s=!1){const a=new so;a.updateFromServerResponse(t);const c=new Pn({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Fu(c),c}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];ge(a.localId!==void 0,"internal-error");const c=a.providerUserInfo!==void 0?jy(a.providerUserInfo):[],h=!(a.email&&a.passwordHash)&&!c?.length,m=new so;m.updateFromIdToken(s);const y=new Pn({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:h}),v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new pd(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!c?.length};return Object.assign(y,v),y}}const rg=new Map;function Ar(i){Pr(i instanceof Function,"Expected a class definition");let e=rg.get(i);return e?(Pr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,rg.set(i,e),e)}class zy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}zy.type="NONE";const ig=zy;function Au(i,e,t){return`firebase:${i}:${e}:${t}`}class oo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:c}=this.auth;this.fullUserKey=Au(this.userKey,a.apiKey,c),this.fullPersistenceKey=Au("persistence",a.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await bu(this.auth,{idToken:e}).catch(()=>{});return t?Pn._fromGetAccountInfoResponse(this.auth,t,e):null}return Pn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new oo(Ar(ig),e,s);const a=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=a[0]||Ar(ig);const h=Au(s,e.config.apiKey,e.name);let m=null;for(const v of t)try{const w=await v._get(h);if(w){let C;if(typeof w=="string"){const x=await bu(e,{idToken:w}).catch(()=>{});if(!x)break;C=await Pn._fromGetAccountInfoResponse(e,x,w)}else C=Pn._fromJSON(e,w);v!==c&&(m=C),c=v;break}}catch{}const y=a.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new oo(c,e,s):(c=y[0],m&&await c._set(h,m.toJSON()),await Promise.all(t.map(async v=>{if(v!==c)try{await v._remove(h)}catch{}})),new oo(c,e,s))}}function sg(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(By(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gy(e))return"Blackberry";if(Ky(e))return"Webos";if($y(e))return"Safari";if((e.includes("chrome/")||Wy(e))&&!e.includes("edge/"))return"Chrome";if(qy(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function By(i=Ft()){return/firefox\//i.test(i)}function $y(i=Ft()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wy(i=Ft()){return/crios\//i.test(i)}function Hy(i=Ft()){return/iemobile/i.test(i)}function qy(i=Ft()){return/android/i.test(i)}function Gy(i=Ft()){return/blackberry/i.test(i)}function Ky(i=Ft()){return/webos/i.test(i)}function $d(i=Ft()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function hI(i=Ft()){return $d(i)&&!!window.navigator?.standalone}function dI(){return Cw()&&document.documentMode===10}function Qy(i=Ft()){return $d(i)||qy(i)||Ky(i)||Gy(i)||/windows phone/i.test(i)||Hy(i)}function Yy(i,e=[]){let t;switch(i){case"Browser":t=sg(Ft());break;case"Worker":t=`${sg(Ft())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wo}/${s}`}class fI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((h,m)=>{try{const y=e(c);h(y)}catch(y){m(y)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function pI(i,e={}){return To(i,"GET","/v2/passwordPolicy",zd(i,e))}const mI=6;class gI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??mI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class yI{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new og(this),this.idTokenSubscription=new og(this),this.beforeStateQueue=new fI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=My,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ar(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await bu(this,{idToken:e}),s=await Pn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Cn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===h)&&m?.user&&(s=m.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(ts(this));const t=e?$t(e):null;return t&&ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pI(this),t=new gI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wa("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await cI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ar(e)||this._popupRedirectResolver;ge(t,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[Ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,s,a);return()=>{h=!0,y()}}else{const y=e.addObserver(t);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GT(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ec(i){return $t(i)}class og{constructor(e){this.auth=e,this.observer=null,this.addObserver=Lw(t=>this.observer=t)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _I(i){Wd=i}function vI(i){return Wd.loadJS(i)}function EI(){return Wd.gapiScript}function wI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function TI(i,e){const t=bd(i,"auth");if(t.isInitialized()){const a=t.getImmediate(),c=t.getOptions();if(rs(c,e??{}))return a;rr(a,"already-initialized")}return t.initialize({options:e})}function II(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Ar);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function SI(i,e,t){const s=ec(i);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,c=Jy(e),{host:h,port:m}=AI(e),y=m===null?"":`:${m}`,v={url:`${c}//${h}${y}/`},w=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(rs(v,s.config.emulator)&&rs(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Eo(h)?(Cy(`${c}//${h}${y}`),Py("Auth",!0)):RI()}function Jy(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function AI(i){const e=Jy(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const c=a[1];return{host:c,port:ag(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:ag(h)}}}function ag(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function RI(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Xy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,t){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function ao(i,e){return tI(i,"POST","/v1/accounts:signInWithIdp",zd(i,e))}const CI="http://localhost";class ss extends Xy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...c}=t;if(!s||!a)return null;const h=new ss(s,a);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return ao(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,ao(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ao(e,t)}buildRequest(){const e={requestUri:CI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ha(t)}return e}}class Hd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ga extends Hd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ui extends Ga{constructor(){super("facebook.com")}static credential(e){return ss._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";ui.PROVIDER_ID="facebook.com";class Ir extends Ga{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ss._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ir.credential(t,s)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";class ci extends Ga{constructor(){super("github.com")}static credential(e){return ss._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com";ci.PROVIDER_ID="github.com";class hi extends Ga{constructor(){super("twitter.com")}static credential(e,t){return ss._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return hi.credential(t,s)}catch{return null}}}hi.TWITTER_SIGN_IN_METHOD="twitter.com";hi.PROVIDER_ID="twitter.com";class fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const c=await Pn._fromIdTokenResponse(e,s,a),h=lg(s);return new fo({user:c,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=lg(s);return new fo({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function lg(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Uu extends Dr{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Uu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new Uu(e,t,s,a)}}function Zy(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Uu._fromErrorAndOperation(i,c,e,s):c})}async function PI(i,e,t=!1){const s=await Ma(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return fo._forOperation(i,"link",s)}async function kI(i,e,t=!1){const{auth:s}=i;if(Cn(s.app))return Promise.reject(ts(s));const a="reauthenticate";try{const c=await Ma(i,Zy(s,a,e,i),t);ge(c.idToken,s,"internal-error");const h=Bd(c.idToken);ge(h,s,"internal-error");const{sub:m}=h;return ge(i.uid===m,s,"user-mismatch"),fo._forOperation(i,a,c)}catch(c){throw c?.code==="auth/user-not-found"&&rr(s,"user-mismatch"),c}}async function NI(i,e,t=!1){if(Cn(i.app))return Promise.reject(ts(i));const s="signIn",a=await Zy(i,s,e),c=await fo._fromIdTokenResponse(i,s,a);return t||await i._updateCurrentUser(c.user),c}function DI(i,e,t,s){return $t(i).onIdTokenChanged(e,t,s)}function VI(i,e,t){return $t(i).beforeAuthStateChanged(e,t)}function xI(i,e,t,s){return $t(i).onAuthStateChanged(e,t,s)}function OI(i){return $t(i).signOut()}const ju="__sak";class e_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ju,"1"),this.storage.removeItem(ju),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const LI=1e3,MI=10;class t_ extends e_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,y)=>{this.notifyListeners(h,y)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);dI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,MI):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},LI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}t_.type="LOCAL";const bI=t_;class n_ extends e_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}n_.type="SESSION";const r_=n_;function FI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class tc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new tc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:c}=t.data,h=this.handlersMap[a];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const m=Array.from(h).map(async v=>v(t.origin,c)),y=await FI(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tc.receivers=[];function qd(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}class UI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,h;return new Promise((m,y)=>{const v=qd("",20);a.port1.start();const w=setTimeout(()=>{y(new Error("unsupported_event"))},s);h={messageChannel:a,onMessage(C){const x=C;if(x.data.eventId===v)switch(x.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(x.data.response);break;default:clearTimeout(w),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Xn(){return window}function jI(i){Xn().location.href=i}function i_(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}async function zI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BI(){return navigator?.serviceWorker?.controller||null}function $I(){return i_()?self:null}const s_="firebaseLocalStorageDb",WI=1,zu="firebaseLocalStorage",o_="fbase_key";class Ka{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function nc(i,e){return i.transaction([zu],e?"readwrite":"readonly").objectStore(zu)}function HI(){const i=indexedDB.deleteDatabase(s_);return new Ka(i).toPromise()}function md(){const i=indexedDB.open(s_,WI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(zu,{keyPath:o_})}catch(a){t(a)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(zu)?e(s):(s.close(),await HI(),e(await md()))})})}async function ug(i,e,t){const s=nc(i,!0).put({[o_]:e,value:t});return new Ka(s).toPromise()}async function qI(i,e){const t=nc(i,!1).get(e),s=await new Ka(t).toPromise();return s===void 0?null:s.value}function cg(i,e){const t=nc(i,!0).delete(e);return new Ka(t).toPromise()}const GI=800,KI=3;class a_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await md(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>KI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tc._getInstance($I()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zI(),!this.activeServiceWorker)return;this.sender=new UI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await md();return await ug(e,ju,"1"),await cg(e,ju),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>ug(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>qI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>cg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const c=nc(a,!1).getAll();return new Ka(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:c}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(c)&&(this.notifyListeners(a,c),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a_.type="LOCAL";const QI=a_;new qa(3e4,6e4);function l_(i,e){return e?Ar(e):(ge(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Gd extends Xy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ao(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function YI(i){return NI(i.auth,new Gd(i),i.bypassAuthState)}function JI(i){const{auth:e,user:t}=i;return ge(t,e,"internal-error"),kI(t,new Gd(i),i.bypassAuthState)}async function XI(i){const{auth:e,user:t}=i;return ge(t,e,"internal-error"),PI(t,new Gd(i),i.bypassAuthState)}class u_{constructor(e,t,s,a,c=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YI;case"linkViaPopup":case"linkViaRedirect":return XI;case"reauthViaPopup":case"reauthViaRedirect":return JI;default:rr(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ZI=new qa(2e3,1e4);async function e0(i,e,t){if(Cn(i.app))return Promise.reject(Nn(i,"operation-not-supported-in-this-environment"));const s=ec(i);KT(i,e,Hd);const a=l_(s,t);return new Zi(s,"signInViaPopup",e,a).executeNotNull()}class Zi extends u_{constructor(e,t,s,a,c){super(e,t,a,c),this.provider=s,this.authWindow=null,this.pollId=null,Zi.currentPopupAction&&Zi.currentPopupAction.cancel(),Zi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=qd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zi.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZI.get())};e()}}Zi.currentPopupAction=null;const t0="pendingRedirect",Ru=new Map;class n0 extends u_{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ru.get(this.auth._key());if(!e){try{const s=await r0(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ru.set(this.auth._key(),e)}return this.bypassAuthState||Ru.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r0(i,e){const t=o0(e),s=s0(i);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function i0(i,e){Ru.set(i._key(),e)}function s0(i){return Ar(i._redirectPersistence)}function o0(i){return Au(t0,i.config.apiKey,i.name)}async function a0(i,e,t=!1){if(Cn(i.app))return Promise.reject(ts(i));const s=ec(i),a=l_(s,e),h=await new n0(s,a,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const l0=600*1e3;class u0{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c0(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!c_(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Nn(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=l0&&this.cachedEventUids.clear(),this.cachedEventUids.has(hg(e))}saveEventToCache(e){this.cachedEventUids.add(hg(e)),this.lastProcessedEventTime=Date.now()}}function hg(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function c_({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function c0(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c_(i);default:return!1}}async function h0(i,e={}){return To(i,"GET","/v1/projects",e)}const d0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f0=/^https?/;async function p0(i){if(i.config.emulator)return;const{authorizedDomains:e}=await h0(i);for(const t of e)try{if(m0(t))return}catch{}rr(i,"unauthorized-domain")}function m0(i){const e=fd(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!f0.test(t))return!1;if(d0.test(i))return s===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const g0=new qa(3e4,6e4);function dg(){const i=Xn().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function y0(i){return new Promise((e,t)=>{function s(){dg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dg(),t(Nn(i,"network-request-failed"))},timeout:g0.get()})}if(Xn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xn().gapi?.load)s();else{const a=wI("iframefcb");return Xn()[a]=()=>{gapi.load?s():t(Nn(i,"network-request-failed"))},vI(`${EI()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Cu=null,e})}let Cu=null;function _0(i){return Cu=Cu||y0(i),Cu}const v0=new qa(5e3,15e3),E0="__/auth/iframe",w0="emulator/auth/iframe",T0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S0(i){const e=i.config;ge(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?jd(e,w0):`https://${i.config.authDomain}/${E0}`,s={apiKey:e.apiKey,appName:i.name,v:wo},a=I0.get(i.config.apiHost);a&&(s.eid=a);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${Ha(s).slice(1)}`}async function A0(i){const e=await _0(i),t=Xn().gapi;return ge(t,i,"internal-error"),e.open({where:document.body,url:S0(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T0,dontclear:!0},s=>new Promise(async(a,c)=>{await s.restyle({setHideOnLeave:!1});const h=Nn(i,"network-request-failed"),m=Xn().setTimeout(()=>{c(h)},v0.get());function y(){Xn().clearTimeout(m),a(s)}s.ping(y).then(y,()=>{c(h)})}))}const R0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C0=500,P0=600,k0="_blank",N0="http://localhost";class fg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D0(i,e,t,s=C0,a=P0){const c=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...R0,width:s.toString(),height:a.toString(),top:c,left:h},v=Ft().toLowerCase();t&&(m=Wy(v)?k0:t),By(v)&&(e=e||N0,y.scrollbars="yes");const w=Object.entries(y).reduce((x,[j,J])=>`${x}${j}=${J},`,"");if(hI(v)&&m!=="_self")return V0(e||"",m),new fg(null);const C=window.open(e||"",m,w);ge(C,i,"popup-blocked");try{C.focus()}catch{}return new fg(C)}function V0(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const x0="__/auth/handler",O0="emulator/auth/handler",L0=encodeURIComponent("fac");async function pg(i,e,t,s,a,c){ge(i.config.authDomain,i,"auth-domain-config-required"),ge(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:wo,eventId:a};if(e instanceof Hd){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",Ow(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,C]of Object.entries({}))h[w]=C}if(e instanceof Ga){const w=e.getScopes().filter(C=>C!=="");w.length>0&&(h.scopes=w.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const w of Object.keys(m))m[w]===void 0&&delete m[w];const y=await i._getAppCheckToken(),v=y?`#${L0}=${encodeURIComponent(y)}`:"";return`${M0(i)}?${Ha(m).slice(1)}${v}`}function M0({config:i}){return i.emulator?jd(i,O0):`https://${i.authDomain}/${x0}`}const Zh="webStorageSupport";class b0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r_,this._completeRedirectFn=a0,this._overrideRedirectResult=i0}async _openPopup(e,t,s,a){Pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await pg(e,t,s,fd(),a);return D0(e,c,qd())}async _openRedirect(e,t,s,a){await this._originValidation(e);const c=await pg(e,t,s,fd(),a);return jI(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:c}=this.eventManagers[t];return a?Promise.resolve(a):(Pr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await A0(e),s=new u0(e);return t.register("authEvent",a=>(ge(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zh,{type:Zh},a=>{const c=a?.[0]?.[Zh];c!==void 0&&t(!!c),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=p0(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Qy()||$y()||$d()}}const F0=b0;var mg="@firebase/auth",gg="1.12.0";class U0{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function j0(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z0(i){ho(new is("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ge(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yy(i)},v=new yI(s,a,c,y);return II(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ho(new is("auth-internal",e=>{const t=ec(e.getProvider("auth").getImmediate());return(s=>new U0(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(mg,gg,j0(i)),mi(mg,gg,"esm2020")}const B0=300,$0=Ry("authIdTokenMaxAge")||B0;let yg=null;const W0=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>$0)return;const a=t?.token;yg!==a&&(yg=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function H0(i=Vy()){const e=bd(i,"auth");if(e.isInitialized())return e.getImmediate();const t=TI(i,{popupRedirectResolver:F0,persistence:[QI,bI,r_]}),s=Ry("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=W0(c.toString());VI(t,h,()=>h(t.currentUser)),DI(t,m=>h(m))}}const a=Sy("auth");return a&&SI(t,`http://${a}`),t}function q0(){return document.getElementsByTagName("head")?.[0]??document}_I({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=a=>{const c=Nn("internal-error");c.customData=a,t(c)},s.type="text/javascript",s.charset="UTF-8",q0().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z0("Browser");var _g=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gi,h_;(function(){var i;function e(k,S){function R(){}R.prototype=S.prototype,k.F=S.prototype,k.prototype=new R,k.prototype.constructor=k,k.D=function(V,A,N){for(var T=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)T[xe-2]=arguments[xe];return S.prototype[A].apply(V,T)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,S,R){R||(R=0);const V=Array(16);if(typeof S=="string")for(var A=0;A<16;++A)V[A]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(A=0;A<16;++A)V[A]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=k.g[0],R=k.g[1],A=k.g[2];let N=k.g[3],T;T=S+(N^R&(A^N))+V[0]+3614090360&4294967295,S=R+(T<<7&4294967295|T>>>25),T=N+(A^S&(R^A))+V[1]+3905402710&4294967295,N=S+(T<<12&4294967295|T>>>20),T=A+(R^N&(S^R))+V[2]+606105819&4294967295,A=N+(T<<17&4294967295|T>>>15),T=R+(S^A&(N^S))+V[3]+3250441966&4294967295,R=A+(T<<22&4294967295|T>>>10),T=S+(N^R&(A^N))+V[4]+4118548399&4294967295,S=R+(T<<7&4294967295|T>>>25),T=N+(A^S&(R^A))+V[5]+1200080426&4294967295,N=S+(T<<12&4294967295|T>>>20),T=A+(R^N&(S^R))+V[6]+2821735955&4294967295,A=N+(T<<17&4294967295|T>>>15),T=R+(S^A&(N^S))+V[7]+4249261313&4294967295,R=A+(T<<22&4294967295|T>>>10),T=S+(N^R&(A^N))+V[8]+1770035416&4294967295,S=R+(T<<7&4294967295|T>>>25),T=N+(A^S&(R^A))+V[9]+2336552879&4294967295,N=S+(T<<12&4294967295|T>>>20),T=A+(R^N&(S^R))+V[10]+4294925233&4294967295,A=N+(T<<17&4294967295|T>>>15),T=R+(S^A&(N^S))+V[11]+2304563134&4294967295,R=A+(T<<22&4294967295|T>>>10),T=S+(N^R&(A^N))+V[12]+1804603682&4294967295,S=R+(T<<7&4294967295|T>>>25),T=N+(A^S&(R^A))+V[13]+4254626195&4294967295,N=S+(T<<12&4294967295|T>>>20),T=A+(R^N&(S^R))+V[14]+2792965006&4294967295,A=N+(T<<17&4294967295|T>>>15),T=R+(S^A&(N^S))+V[15]+1236535329&4294967295,R=A+(T<<22&4294967295|T>>>10),T=S+(A^N&(R^A))+V[1]+4129170786&4294967295,S=R+(T<<5&4294967295|T>>>27),T=N+(R^A&(S^R))+V[6]+3225465664&4294967295,N=S+(T<<9&4294967295|T>>>23),T=A+(S^R&(N^S))+V[11]+643717713&4294967295,A=N+(T<<14&4294967295|T>>>18),T=R+(N^S&(A^N))+V[0]+3921069994&4294967295,R=A+(T<<20&4294967295|T>>>12),T=S+(A^N&(R^A))+V[5]+3593408605&4294967295,S=R+(T<<5&4294967295|T>>>27),T=N+(R^A&(S^R))+V[10]+38016083&4294967295,N=S+(T<<9&4294967295|T>>>23),T=A+(S^R&(N^S))+V[15]+3634488961&4294967295,A=N+(T<<14&4294967295|T>>>18),T=R+(N^S&(A^N))+V[4]+3889429448&4294967295,R=A+(T<<20&4294967295|T>>>12),T=S+(A^N&(R^A))+V[9]+568446438&4294967295,S=R+(T<<5&4294967295|T>>>27),T=N+(R^A&(S^R))+V[14]+3275163606&4294967295,N=S+(T<<9&4294967295|T>>>23),T=A+(S^R&(N^S))+V[3]+4107603335&4294967295,A=N+(T<<14&4294967295|T>>>18),T=R+(N^S&(A^N))+V[8]+1163531501&4294967295,R=A+(T<<20&4294967295|T>>>12),T=S+(A^N&(R^A))+V[13]+2850285829&4294967295,S=R+(T<<5&4294967295|T>>>27),T=N+(R^A&(S^R))+V[2]+4243563512&4294967295,N=S+(T<<9&4294967295|T>>>23),T=A+(S^R&(N^S))+V[7]+1735328473&4294967295,A=N+(T<<14&4294967295|T>>>18),T=R+(N^S&(A^N))+V[12]+2368359562&4294967295,R=A+(T<<20&4294967295|T>>>12),T=S+(R^A^N)+V[5]+4294588738&4294967295,S=R+(T<<4&4294967295|T>>>28),T=N+(S^R^A)+V[8]+2272392833&4294967295,N=S+(T<<11&4294967295|T>>>21),T=A+(N^S^R)+V[11]+1839030562&4294967295,A=N+(T<<16&4294967295|T>>>16),T=R+(A^N^S)+V[14]+4259657740&4294967295,R=A+(T<<23&4294967295|T>>>9),T=S+(R^A^N)+V[1]+2763975236&4294967295,S=R+(T<<4&4294967295|T>>>28),T=N+(S^R^A)+V[4]+1272893353&4294967295,N=S+(T<<11&4294967295|T>>>21),T=A+(N^S^R)+V[7]+4139469664&4294967295,A=N+(T<<16&4294967295|T>>>16),T=R+(A^N^S)+V[10]+3200236656&4294967295,R=A+(T<<23&4294967295|T>>>9),T=S+(R^A^N)+V[13]+681279174&4294967295,S=R+(T<<4&4294967295|T>>>28),T=N+(S^R^A)+V[0]+3936430074&4294967295,N=S+(T<<11&4294967295|T>>>21),T=A+(N^S^R)+V[3]+3572445317&4294967295,A=N+(T<<16&4294967295|T>>>16),T=R+(A^N^S)+V[6]+76029189&4294967295,R=A+(T<<23&4294967295|T>>>9),T=S+(R^A^N)+V[9]+3654602809&4294967295,S=R+(T<<4&4294967295|T>>>28),T=N+(S^R^A)+V[12]+3873151461&4294967295,N=S+(T<<11&4294967295|T>>>21),T=A+(N^S^R)+V[15]+530742520&4294967295,A=N+(T<<16&4294967295|T>>>16),T=R+(A^N^S)+V[2]+3299628645&4294967295,R=A+(T<<23&4294967295|T>>>9),T=S+(A^(R|~N))+V[0]+4096336452&4294967295,S=R+(T<<6&4294967295|T>>>26),T=N+(R^(S|~A))+V[7]+1126891415&4294967295,N=S+(T<<10&4294967295|T>>>22),T=A+(S^(N|~R))+V[14]+2878612391&4294967295,A=N+(T<<15&4294967295|T>>>17),T=R+(N^(A|~S))+V[5]+4237533241&4294967295,R=A+(T<<21&4294967295|T>>>11),T=S+(A^(R|~N))+V[12]+1700485571&4294967295,S=R+(T<<6&4294967295|T>>>26),T=N+(R^(S|~A))+V[3]+2399980690&4294967295,N=S+(T<<10&4294967295|T>>>22),T=A+(S^(N|~R))+V[10]+4293915773&4294967295,A=N+(T<<15&4294967295|T>>>17),T=R+(N^(A|~S))+V[1]+2240044497&4294967295,R=A+(T<<21&4294967295|T>>>11),T=S+(A^(R|~N))+V[8]+1873313359&4294967295,S=R+(T<<6&4294967295|T>>>26),T=N+(R^(S|~A))+V[15]+4264355552&4294967295,N=S+(T<<10&4294967295|T>>>22),T=A+(S^(N|~R))+V[6]+2734768916&4294967295,A=N+(T<<15&4294967295|T>>>17),T=R+(N^(A|~S))+V[13]+1309151649&4294967295,R=A+(T<<21&4294967295|T>>>11),T=S+(A^(R|~N))+V[4]+4149444226&4294967295,S=R+(T<<6&4294967295|T>>>26),T=N+(R^(S|~A))+V[11]+3174756917&4294967295,N=S+(T<<10&4294967295|T>>>22),T=A+(S^(N|~R))+V[2]+718787259&4294967295,A=N+(T<<15&4294967295|T>>>17),T=R+(N^(A|~S))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(A+(T<<21&4294967295|T>>>11))&4294967295,k.g[2]=k.g[2]+A&4294967295,k.g[3]=k.g[3]+N&4294967295}s.prototype.v=function(k,S){S===void 0&&(S=k.length);const R=S-this.blockSize,V=this.C;let A=this.h,N=0;for(;N<S;){if(A==0)for(;N<=R;)a(this,k,N),N+=this.blockSize;if(typeof k=="string"){for(;N<S;)if(V[A++]=k.charCodeAt(N++),A==this.blockSize){a(this,V),A=0;break}}else for(;N<S;)if(V[A++]=k[N++],A==this.blockSize){a(this,V),A=0;break}}this.h=A,this.o+=S},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;S=this.o*8;for(var R=k.length-8;R<k.length;++R)k[R]=S&255,S/=256;for(this.v(k),k=Array(16),S=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)k[S++]=this.g[R]>>>V&255;return k};function c(k,S){var R=m;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=S(k)}function h(k,S){this.h=S;const R=[];let V=!0;for(let A=k.length-1;A>=0;A--){const N=k[A]|0;V&&N==S||(R[A]=N,V=!1)}this.g=R}var m={};function y(k){return-128<=k&&k<128?c(k,function(S){return new h([S|0],S<0?-1:0)}):new h([k|0],k<0?-1:0)}function v(k){if(isNaN(k)||!isFinite(k))return C;if(k<0)return G(v(-k));const S=[];let R=1;for(let V=0;k>=R;V++)S[V]=k/R|0,R*=4294967296;return new h(S,0)}function w(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return G(w(k.substring(1),S));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(S,8));let V=C;for(let N=0;N<k.length;N+=8){var A=Math.min(8,k.length-N);const T=parseInt(k.substring(N,N+A),S);A<8?(A=v(Math.pow(S,A)),V=V.j(A).add(v(T))):(V=V.j(R),V=V.add(v(T)))}return V}var C=y(0),x=y(1),j=y(16777216);i=h.prototype,i.m=function(){if(Q(this))return-G(this).m();let k=0,S=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);k+=(V>=0?V:4294967296+V)*S,S*=4294967296}return k},i.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(J(this))return"0";if(Q(this))return"-"+G(this).toString(k);const S=v(Math.pow(k,6));var R=this;let V="";for(;;){const A=Se(R,S).g;R=pe(R,A.j(S));let N=((R.g.length>0?R.g[0]:R.h)>>>0).toString(k);if(R=A,J(R))return N+V;for(;N.length<6;)N="0"+N;V=N+V}},i.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function J(k){if(k.h!=0)return!1;for(let S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function Q(k){return k.h==-1}i.l=function(k){return k=pe(this,k),Q(k)?-1:J(k)?0:1};function G(k){const S=k.g.length,R=[];for(let V=0;V<S;V++)R[V]=~k.g[V];return new h(R,~k.h).add(x)}i.abs=function(){return Q(this)?G(this):this},i.add=function(k){const S=Math.max(this.g.length,k.g.length),R=[];let V=0;for(let A=0;A<=S;A++){let N=V+(this.i(A)&65535)+(k.i(A)&65535),T=(N>>>16)+(this.i(A)>>>16)+(k.i(A)>>>16);V=T>>>16,N&=65535,T&=65535,R[A]=T<<16|N}return new h(R,R[R.length-1]&-2147483648?-1:0)};function pe(k,S){return k.add(G(S))}i.j=function(k){if(J(this)||J(k))return C;if(Q(this))return Q(k)?G(this).j(G(k)):G(G(this).j(k));if(Q(k))return G(this.j(G(k)));if(this.l(j)<0&&k.l(j)<0)return v(this.m()*k.m());const S=this.g.length+k.g.length,R=[];for(var V=0;V<2*S;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let A=0;A<k.g.length;A++){const N=this.i(V)>>>16,T=this.i(V)&65535,xe=k.i(A)>>>16,ze=k.i(A)&65535;R[2*V+2*A]+=T*ze,de(R,2*V+2*A),R[2*V+2*A+1]+=N*ze,de(R,2*V+2*A+1),R[2*V+2*A+1]+=T*xe,de(R,2*V+2*A+1),R[2*V+2*A+2]+=N*xe,de(R,2*V+2*A+2)}for(k=0;k<S;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=S;k<2*S;k++)R[k]=0;return new h(R,0)};function de(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function Te(k,S){this.g=k,this.h=S}function Se(k,S){if(J(S))throw Error("division by zero");if(J(k))return new Te(C,C);if(Q(k))return S=Se(G(k),S),new Te(G(S.g),G(S.h));if(Q(S))return S=Se(k,G(S)),new Te(G(S.g),S.h);if(k.g.length>30){if(Q(k)||Q(S))throw Error("slowDivide_ only works with positive integers.");for(var R=x,V=S;V.l(k)<=0;)R=Ye(R),V=Ye(V);var A=Ae(R,1),N=Ae(V,1);for(V=Ae(V,2),R=Ae(R,2);!J(V);){var T=N.add(V);T.l(k)<=0&&(A=A.add(R),N=T),V=Ae(V,1),R=Ae(R,1)}return S=pe(k,A.j(S)),new Te(A,S)}for(A=C;k.l(S)>=0;){for(R=Math.max(1,Math.floor(k.m()/S.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),N=v(R),T=N.j(S);Q(T)||T.l(k)>0;)R-=V,N=v(R),T=N.j(S);J(N)&&(N=x),A=A.add(N),k=pe(k,T)}return new Te(A,k)}i.B=function(k){return Se(this,k).h},i.and=function(k){const S=Math.max(this.g.length,k.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)&k.i(V);return new h(R,this.h&k.h)},i.or=function(k){const S=Math.max(this.g.length,k.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)|k.i(V);return new h(R,this.h|k.h)},i.xor=function(k){const S=Math.max(this.g.length,k.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)^k.i(V);return new h(R,this.h^k.h)};function Ye(k){const S=k.g.length+1,R=[];for(let V=0;V<S;V++)R[V]=k.i(V)<<1|k.i(V-1)>>>31;return new h(R,k.h)}function Ae(k,S){const R=S>>5;S%=32;const V=k.g.length-R,A=[];for(let N=0;N<V;N++)A[N]=S>0?k.i(N+R)>>>S|k.i(N+R+1)<<32-S:k.i(N+R);return new h(A,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,h_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,gi=h}).apply(typeof _g<"u"?_g:typeof self<"u"?self:typeof window<"u"?window:{});var _u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var d_,Aa,f_,Pu,gd,p_,m_,g_;(function(){var i,e=Object.defineProperty;function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof _u=="object"&&_u];for(var p=0;p<l.length;++p){var g=l[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=t(this);function a(l,p){if(p)e:{var g=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in g))break e;g=g[M]}l=l[l.length-1],E=g[l],p=p(E),p!=E&&p!=null&&e(g,l,{configurable:!0,writable:!0,value:p})}}a("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(l){return l||function(p){var g=[],E;for(E in p)Object.prototype.hasOwnProperty.call(p,E)&&g.push([E,p[E]]);return g}});var c=c||{},h=this||self;function m(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function y(l,p,g){return l.call.apply(l.bind,arguments)}function v(l,p,g){return v=y,v.apply(null,arguments)}function w(l,p){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function C(l,p){function g(){}g.prototype=p.prototype,l.Z=p.prototype,l.prototype=new g,l.prototype.constructor=l,l.Ob=function(E,M,U){for(var Y=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)Y[_e-2]=arguments[_e];return p.prototype[M].apply(E,Y)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function j(l){const p=l.length;if(p>0){const g=Array(p);for(let E=0;E<p;E++)g[E]=l[E];return g}return[]}function J(l,p){for(let E=1;E<arguments.length;E++){const M=arguments[E];var g=typeof M;if(g=g!="object"?g:M?Array.isArray(M)?"array":g:"null",g=="array"||g=="object"&&typeof M.length=="number"){g=l.length||0;const U=M.length||0;l.length=g+U;for(let Y=0;Y<U;Y++)l[g+Y]=M[Y]}else l.push(M)}}class Q{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function G(l){h.setTimeout(()=>{throw l},0)}function pe(){var l=k;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class de{constructor(){this.h=this.g=null}add(p,g){const E=Te.get();E.set(p,g),this.h?this.h.next=E:this.g=E,this.h=E}}var Te=new Q(()=>new Se,l=>l.reset());class Se{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Ye,Ae=!1,k=new de,S=()=>{const l=Promise.resolve(void 0);Ye=()=>{l.then(R)}};function R(){for(var l;l=pe();){try{l.h.call(l.g)}catch(g){G(g)}var p=Te;p.j(l),p.h<100&&(p.h++,l.next=p.g,p.g=l)}Ae=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};h.addEventListener("test",g,p),h.removeEventListener("test",g,p)}catch{}return l})();function T(l){return/^[\s\xa0]*$/.test(l)}function xe(l,p){A.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,p)}C(xe,A),xe.prototype.init=function(l,p){const g=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget,p||(g=="mouseover"?p=l.fromElement:g=="mouseout"&&(p=l.toElement)),this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ze="closure_listenable_"+(Math.random()*1e6|0),nt=0;function Je(l,p,g,E,M){this.listener=l,this.proxy=null,this.src=p,this.type=g,this.capture=!!E,this.ha=M,this.key=++nt,this.da=this.fa=!1}function X(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ue(l,p,g){for(const E in l)p.call(g,l[E],E,l)}function re(l,p){for(const g in l)p.call(void 0,l[g],g,l)}function O(l){const p={};for(const g in l)p[g]=l[g];return p}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ee(l,p){let g,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(g in E)l[g]=E[g];for(let U=0;U<$.length;U++)g=$[U],Object.prototype.hasOwnProperty.call(E,g)&&(l[g]=E[g])}}function we(l){this.src=l,this.g={},this.h=0}we.prototype.add=function(l,p,g,E,M){const U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);const Y=Ce(l,p,E,M);return Y>-1?(p=l[Y],g||(p.fa=!1)):(p=new Je(p,this.src,U,!!E,M),p.fa=g,l.push(p)),p};function Re(l,p){const g=p.type;if(g in l.g){var E=l.g[g],M=Array.prototype.indexOf.call(E,p,void 0),U;(U=M>=0)&&Array.prototype.splice.call(E,M,1),U&&(X(p),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Ce(l,p,g,E){for(let M=0;M<l.length;++M){const U=l[M];if(!U.da&&U.listener==p&&U.capture==!!g&&U.ha==E)return M}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Oe={};function Be(l,p,g,E,M){if(Array.isArray(p)){for(let U=0;U<p.length;U++)Be(l,p[U],g,E,M);return null}return g=ko(g),l&&l[ze]?l.J(p,g,m(E)?!!E.capture:!1,M):Ut(l,p,g,!1,E,M)}function Ut(l,p,g,E,M,U){if(!p)throw Error("Invalid event type");const Y=m(M)?!!M.capture:!!M;let _e=ms(l);if(_e||(l[Fe]=_e=new we(l)),g=_e.add(p,g,E,Y,U),g.proxy)return g;if(E=fs(),g.proxy=E,E.src=l,E.listener=g,l.addEventListener)N||(M=Y),M===void 0&&(M=!1),l.addEventListener(p.toString(),E,M);else if(l.attachEvent)l.attachEvent(ps(p.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function fs(){function l(g){return p.call(l.src,l.listener,g)}const p=tl;return l}function Po(l,p,g,E,M){if(Array.isArray(p))for(var U=0;U<p.length;U++)Po(l,p[U],g,E,M);else E=m(E)?!!E.capture:!!E,g=ko(g),l&&l[ze]?(l=l.i,U=String(p).toString(),U in l.g&&(p=l.g[U],g=Ce(p,g,E,M),g>-1&&(X(p[g]),Array.prototype.splice.call(p,g,1),p.length==0&&(delete l.g[U],l.h--)))):l&&(l=ms(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Ce(p,g,E,M)),(g=l>-1?p[l]:null)&&Vr(g))}function Vr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[ze])Re(p.i,l);else{var g=l.type,E=l.proxy;p.removeEventListener?p.removeEventListener(g,E,l.capture):p.detachEvent?p.detachEvent(ps(g),E):p.addListener&&p.removeListener&&p.removeListener(E),(g=ms(p))?(Re(g,l),g.h==0&&(g.src=null,p[Fe]=null)):X(l)}}}function ps(l){return l in Oe?Oe[l]:Oe[l]="on"+l}function tl(l,p){if(l.da)l=!0;else{p=new xe(p,this);const g=l.listener,E=l.ha||l.src;l.fa&&Vr(l),l=g.call(E,p)}return l}function ms(l){return l=l[Fe],l instanceof we?l:null}var Ai="__closure_events_fn_"+(Math.random()*1e9>>>0);function ko(l){return typeof l=="function"?l:(l[Ai]||(l[Ai]=function(p){return l.handleEvent(p)}),l[Ai])}function ct(){V.call(this),this.i=new we(this),this.M=this,this.G=null}C(ct,V),ct.prototype[ze]=!0,ct.prototype.removeEventListener=function(l,p,g,E){Po(this,l,p,g,E)};function st(l,p){var g,E=l.G;if(E)for(g=[];E;E=E.G)g.push(E);if(l=l.M,E=p.type||p,typeof p=="string")p=new A(p,l);else if(p instanceof A)p.target=p.target||l;else{var M=p;p=new A(E,l),Ee(p,M)}M=!0;let U,Y;if(g)for(Y=g.length-1;Y>=0;Y--)U=p.g=g[Y],M=yn(U,E,!0,p)&&M;if(U=p.g=l,M=yn(U,E,!0,p)&&M,M=yn(U,E,!1,p)&&M,g)for(Y=0;Y<g.length;Y++)U=p.g=g[Y],M=yn(U,E,!1,p)&&M}ct.prototype.N=function(){if(ct.Z.N.call(this),this.i){var l=this.i;for(const p in l.g){const g=l.g[p];for(let E=0;E<g.length;E++)X(g[E]);delete l.g[p],l.h--}}this.G=null},ct.prototype.J=function(l,p,g,E){return this.i.add(String(l),p,!1,g,E)},ct.prototype.K=function(l,p,g,E){return this.i.add(String(l),p,!0,g,E)};function yn(l,p,g,E){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();let M=!0;for(let U=0;U<p.length;++U){const Y=p[U];if(Y&&!Y.da&&Y.capture==g){const _e=Y.listener,ot=Y.ha||Y.src;Y.fa&&Re(l.i,Y),M=_e.call(ot,E)!==!1&&M}}return M&&!E.defaultPrevented}function No(l,p){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=v(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:h.setTimeout(l,p||0)}function Do(l){l.g=No(()=>{l.g=null,l.i&&(l.i=!1,Do(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class nl extends V{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Do(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(l){V.call(this),this.h=l,this.g={}}C(xr,V);var Vo=[];function gs(l){ue(l.g,function(p,g){this.g.hasOwnProperty(g)&&Vr(p)},l),l.g={}}xr.prototype.N=function(){xr.Z.N.call(this),gs(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Or=h.JSON.stringify,rl=h.JSON.parse,Ri=class{stringify(l){return h.JSON.stringify(l,void 0)}parse(l){return h.JSON.parse(l,void 0)}};function Lr(){}function il(){}var Mr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ys(){A.call(this,"d")}C(ys,A);function xo(){A.call(this,"c")}C(xo,A);var _n={},_s=null;function br(){return _s=_s||new ct}_n.Ia="serverreachability";function vs(l){A.call(this,_n.Ia,l)}C(vs,A);function sr(l){const p=br();st(p,new vs(p))}_n.STAT_EVENT="statevent";function or(l,p){A.call(this,_n.STAT_EVENT,l),this.stat=p}C(or,A);function rt(l){const p=br();st(p,new or(p,l))}_n.Ja="timingevent";function Oo(l,p){A.call(this,_n.Ja,l),this.size=p}C(Oo,A);function Fr(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){l()},p)}function Ur(){this.g=!0}Ur.prototype.ua=function(){this.g=!1};function sl(l,p,g,E,M,U){l.info(function(){if(l.g)if(U){var Y="",_e=U.split("&");for(let je=0;je<_e.length;je++){var ot=_e[je].split("=");if(ot.length>1){const ht=ot[0];ot=ot[1];const nn=ht.split("_");Y=nn.length>=2&&nn[1]=="type"?Y+(ht+"="+ot+"&"):Y+(ht+"=redacted&")}}}else Y=null;else Y=U;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+p+`
`+g+`
`+Y})}function ol(l,p,g,E,M,U,Y){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+p+`
`+g+`
`+U+" "+Y})}function xn(l,p,g,E){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ci(l,g)+(E?" "+E:"")})}function al(l,p){l.info(function(){return"TIMEOUT: "+p})}Ur.prototype.info=function(){};function Ci(l,p){if(!l.g)return p;if(!p)return null;try{const U=JSON.parse(p);if(U){for(l=0;l<U.length;l++)if(Array.isArray(U[l])){var g=U[l];if(!(g.length<2)){var E=g[1];if(Array.isArray(E)&&!(E.length<1)){var M=E[0];if(M!="noop"&&M!="stop"&&M!="close")for(let Y=1;Y<E.length;Y++)E[Y]=""}}}}return Or(U)}catch{return p}}var jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ll;function ar(){}C(ar,Lr),ar.prototype.g=function(){return new XMLHttpRequest},ll=new ar;function On(l){return encodeURIComponent(String(l))}function Es(l){var p=1;l=l.split(":");const g=[];for(;p>0&&l.length;)g.push(l.shift()),p--;return l.length&&g.push(l.join(":")),g}function an(l,p,g,E){this.j=l,this.i=p,this.l=g,this.S=E||1,this.V=new xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ul}function ul(){this.i=null,this.g="",this.h=!1}var cl={},Lo={};function vn(l,p,g){l.M=1,l.A=ur(ln(p)),l.u=g,l.R=!0,Mo(l,null)}function Mo(l,p){l.F=Date.now(),Pi(l),l.B=ln(l.A);var g=l.B,E=l.S;Array.isArray(E)||(E=[String(E)]),qo(g.i,"t",E),l.C=0,g=l.j.L,l.h=new ul,l.g=El(l.j,g?p:null,!l.u),l.P>0&&(l.O=new nl(v(l.Y,l,l.g),l.P)),p=l.V,g=l.g,E=l.ba;var M="readystatechange";Array.isArray(M)||(M&&(Vo[0]=M.toString()),M=Vo);for(let U=0;U<M.length;U++){const Y=Be(g,M[U],E||p.handleEvent,!1,p.h||p);if(!Y)break;p.g[Y.key]=Y}p=l.J?O(l.J):{},l.u?(l.v||(l.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,p)):(l.v="GET",l.g.ea(l.B,l.v,null,p)),sr(),sl(l.i,l.v,l.B,l.l,l.S,l.u)}an.prototype.ba=function(l){l=l.target;const p=this.O;p&&zn(l)==3?p.j():this.Y(l)},an.prototype.Y=function(l){try{if(l==this.g)e:{const _e=zn(this.g),ot=this.g.ya(),je=this.g.ca();if(!(_e<3)&&(_e!=3||this.g&&(this.h.h||this.g.la()||_l(this.g)))){this.K||_e!=4||ot==7||(ot==8||je<=0?sr(3):sr(2)),ws(this);var p=this.g.ca();this.X=p;var g=hl(this);if(this.o=p==200,ol(this.i,this.v,this.B,this.l,this.S,_e,p),this.o){if(this.U&&!this.L){t:{if(this.g){var E,M=this.g;if((E=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(E)){var U=E;break t}}U=null}if(l=U)xn(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,l);else{this.o=!1,this.m=3,rt(12),lr(this),ki(this);break e}}if(this.R){l=!0;let ht;for(;!this.K&&this.C<g.length;)if(ht=fl(this,g),ht==Lo){_e==4&&(this.m=4,rt(14),l=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==cl){this.m=4,rt(15),xn(this.i,this.l,g,"[Invalid Chunk]"),l=!1;break}else xn(this.i,this.l,ht,null),qe(this,ht);if(dl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||g.length!=0||this.h.h||(this.m=1,rt(16),l=!1),this.o=this.o&&l,!l)xn(this.i,this.l,g,"[Invalid Chunked Response]"),lr(this),ki(this);else if(g.length>0&&!this.W){this.W=!0;var Y=this.j;Y.g==this&&Y.aa&&!Y.P&&(Y.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Fi(Y),Y.P=!0,rt(11))}}else xn(this.i,this.l,g,null),qe(this,g);_e==4&&lr(this),this.o&&!this.K&&(_e==4?Ds(this.j,this):(this.o=!1,Pi(this)))}else Ko(this.g),p==400&&g.indexOf("Unknown SID")>0?(this.m=3,rt(12)):(this.m=0,rt(13)),lr(this),ki(this)}}}catch{}};function hl(l){if(!dl(l))return l.g.la();const p=_l(l.g);if(p==="")return"";let g="";const E=p.length,M=zn(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return lr(l),ki(l),"";l.h.i=new h.TextDecoder}for(let U=0;U<E;U++)l.h.h=!0,g+=l.h.i.decode(p[U],{stream:!(M&&U==E-1)});return p.length=0,l.h.g+=g,l.C=0,l.h.g}function dl(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function fl(l,p){var g=l.C,E=p.indexOf(`
`,g);return E==-1?Lo:(g=Number(p.substring(g,E)),isNaN(g)?cl:(E+=1,E+g>p.length?Lo:(p=p.slice(E,E+g),l.C=E+g,p)))}an.prototype.cancel=function(){this.K=!0,lr(this)};function Pi(l){l.T=Date.now()+l.H,bo(l,l.H)}function bo(l,p){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Fr(v(l.aa,l),p)}function ws(l){l.D&&(h.clearTimeout(l.D),l.D=null)}an.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(al(this.i,this.B),this.M!=2&&(sr(),rt(17)),lr(this),this.m=2,ki(this)):bo(this,this.T-l)};function ki(l){l.j.I==0||l.K||Ds(l.j,l)}function lr(l){ws(l);var p=l.O;p&&typeof p.dispose=="function"&&p.dispose(),l.O=null,gs(l.V),l.g&&(p=l.g,l.g=null,p.abort(),p.dispose())}function qe(l,p){try{var g=l.j;if(g.I!=0&&(g.g==l||Uo(g.h,l))){if(!l.L&&Uo(g.h,l)&&g.I==3){try{var E=g.Ba.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<l.F)Ns(g),en(g);else break e;Wn(g),rt(18)}}else g.xa=M[1],0<g.xa-g.K&&M[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Fr(v(g.Va,g),6e3));Ni(g.h)<=1&&g.ta&&(g.ta=void 0)}else tn(g,11)}else if((l.L||g.g==l)&&Ns(g),!T(p))for(M=g.Ba.g.parse(p),p=0;p<M.length;p++){let je=M[p];const ht=je[0];if(!(ht<=g.K))if(g.K=ht,je=je[1],g.I==2)if(je[0]=="c"){g.M=je[1],g.ba=je[2];const nn=je[3];nn!=null&&(g.ka=nn,g.j.info("VER="+g.ka));const pr=je[4];pr!=null&&(g.za=pr,g.j.info("SVER="+g.za));const Hn=je[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(E=1.5*Hn,g.O=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const qn=l.g;if(qn){const Os=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var U=E.h;U.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Is(U,U.h),U.h=null))}if(E.G){const Jo=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jo&&(E.wa=Jo,be(E.J,E.G,Jo))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-l.F,g.j.info("Handshake RTT: "+g.T+"ms")),E=g;var Y=l;if(E.na=Yo(E,E.L?E.ba:null,E.W),Y.L){Di(E.h,Y);var _e=Y,ot=E.O;ot&&(_e.H=ot),_e.D&&(ws(_e),Pi(_e)),E.g=Y}else Nt(E);g.i.length>0&&fr(g)}else je[0]!="stop"&&je[0]!="close"||tn(g,7);else g.I==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?tn(g,7):Ps(g):je[0]!="noop"&&g.l&&g.l.qa(je),g.A=0)}}sr(4)}catch{}}var vc=class{constructor(l,p){this.g=l,this.map=p}};function Ts(l){this.l=l||10,h.PerformanceNavigationTiming?(l=h.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fo(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ni(l){return l.h?1:l.g?l.g.size:0}function Uo(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Is(l,p){l.g?l.g.add(p):l.h=p}function Di(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Ts.prototype.cancel=function(){if(this.i=Jt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Jt(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const g of l.g.values())p=p.concat(g.G);return p}return j(l.i)}var pl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xt(l,p){if(l){l=l.split("&");for(let g=0;g<l.length;g++){const E=l[g].indexOf("=");let M,U=null;E>=0?(M=l[g].substring(0,E),U=l[g].substring(E+1)):M=l[g],p(M,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ln(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;l instanceof Ln?(this.l=l.l,Vi(this,l.j),this.o=l.o,this.g=l.g,Mn(this,l.u),this.h=l.h,Br(this,Go(l.i)),this.m=l.m):l&&(p=String(l).match(pl))?(this.l=!1,Vi(this,p[1]||"",!0),this.o=xi(p[2]||""),this.g=xi(p[3]||"",!0),Mn(this,p[4]),this.h=xi(p[5]||"",!0),Br(this,p[6]||"",!0),this.m=xi(p[7]||"")):(this.l=!1,this.i=new De(null,this.l))}Ln.prototype.toString=function(){const l=[];var p=this.j;p&&l.push(Oi(p,zo,!0),":");var g=this.g;return(g||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Oi(p,zo,!0),"@"),l.push(On(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&l.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Oi(g,g.charAt(0)=="/"?Li:Bo,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Oi(g,$o)),l.join("")},Ln.prototype.resolve=function(l){const p=ln(this);let g=!!l.j;g?Vi(p,l.j):g=!!l.o,g?p.o=l.o:g=!!l.g,g?p.g=l.g:g=l.u!=null;var E=l.h;if(g)Mn(p,l.u);else if(g=!!l.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var M=p.h.lastIndexOf("/");M!=-1&&(E=p.h.slice(0,M+1)+E)}if(M=E,M==".."||M==".")E="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){E=M.lastIndexOf("/",0)==0,M=M.split("/");const U=[];for(let Y=0;Y<M.length;){const _e=M[Y++];_e=="."?E&&Y==M.length&&U.push(""):_e==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),E&&Y==M.length&&U.push("")):(U.push(_e),E=!0)}E=U.join("/")}else E=M}return g?p.h=E:g=l.i.toString()!=="",g?Br(p,Go(l.i)):g=!!l.m,g&&(p.m=l.m),p};function ln(l){return new Ln(l)}function Vi(l,p,g){l.j=g?xi(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Mn(l,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);l.u=p}else l.u=null}function Br(l,p,g){p instanceof De?(l.i=p,As(l.i,l.l)):(g||(p=Oi(p,Ec)),l.i=new De(p,l.l))}function be(l,p,g){l.i.set(p,g)}function ur(l){return be(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function xi(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Oi(l,p,g){return typeof l=="string"?(l=encodeURI(l).replace(p,jo),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function jo(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var zo=/[#\/\?@]/g,Bo=/[#\?:]/g,Li=/[#\?]/g,Ec=/[#\?@]/g,$o=/#/g;function De(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function bn(l){l.g||(l.g=new Map,l.h=0,l.i&&Xt(l.i,function(p,g){l.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}i=De.prototype,i.add=function(l,p){bn(this),this.i=null,l=Fn(this,l);let g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(p),this.h+=1,this};function Wo(l,p){bn(l),p=Fn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Ss(l,p){return bn(l),p=Fn(l,p),l.g.has(p)}i.forEach=function(l,p){bn(this),this.g.forEach(function(g,E){g.forEach(function(M){l.call(p,M,E,this)},this)},this)};function Ho(l,p){bn(l);let g=[];if(typeof p=="string")Ss(l,p)&&(g=g.concat(l.g.get(Fn(l,p))));else for(l=Array.from(l.g.values()),p=0;p<l.length;p++)g=g.concat(l[p]);return g}i.set=function(l,p){return bn(this),this.i=null,l=Fn(this,l),Ss(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},i.get=function(l,p){return l?(l=Ho(this,l),l.length>0?String(l[0]):p):p};function qo(l,p,g){Wo(l,p),g.length>0&&(l.i=null,l.g.set(Fn(l,p),j(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(let E=0;E<p.length;E++){var g=p[E];const M=On(g);g=Ho(this,g);for(let U=0;U<g.length;U++){let Y=M;g[U]!==""&&(Y+="="+On(g[U])),l.push(Y)}}return this.i=l.join("&")};function Go(l){const p=new De;return p.i=l.i,l.g&&(p.g=new Map(l.g),p.h=l.h),p}function Fn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function As(l,p){p&&!l.j&&(bn(l),l.i=null,l.g.forEach(function(g,E){const M=E.toLowerCase();E!=M&&(Wo(this,E),qo(this,M,g))},l)),l.j=p}function Un(l,p){const g=new Ur;if(h.Image){const E=new Image;E.onload=w(It,g,"TestLoadImage: loaded",!0,p,E),E.onerror=w(It,g,"TestLoadImage: error",!1,p,E),E.onabort=w(It,g,"TestLoadImage: abort",!1,p,E),E.ontimeout=w(It,g,"TestLoadImage: timeout",!1,p,E),h.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else p(!1)}function jn(l,p){const g=new Ur,E=new AbortController,M=setTimeout(()=>{E.abort(),It(g,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:E.signal}).then(U=>{clearTimeout(M),U.ok?It(g,"TestPingServer: ok",!0,p):It(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),It(g,"TestPingServer: error",!1,p)})}function It(l,p,g,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(g)}catch{}}function Mi(){this.g=new Ri}function cr(l){this.i=l.Sb||null,this.h=l.ab||!1}C(cr,Lr),cr.prototype.g=function(){return new Zt(this.i,this.h)};function Zt(l,p){ct.call(this),this.H=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(Zt,ct),i=Zt.prototype,i.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=p,this.readyState=1,En(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(p.body=l),(this.H||h).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},i.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,En(this)),this.g&&(this.readyState=3,En(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ml(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function ml(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}i.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?$r(this):En(this),this.readyState==3&&ml(this)}},i.Oa=function(l){this.g&&(this.response=this.responseText=l,$r(this))},i.Na=function(l){this.g&&(this.response=l,$r(this))},i.ga=function(){this.g&&$r(this)};function $r(l){l.readyState=4,l.l=null,l.j=null,l.B=null,En(l)}i.setRequestHeader=function(l,p){this.A.append(l,p)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=p.next();return l.join(`\r
`)};function En(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Zt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function gl(l){let p="";return ue(l,function(g,E){p+=E,p+=":",p+=g,p+=`\r
`}),p}function Rs(l,p,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=gl(g),typeof l=="string"?g!=null&&On(g):be(l,p,g))}function $e(l){ct.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C($e,ct);var yl=/^https?$/i,wc=["POST","PUT"];i=$e.prototype,i.Fa=function(l){this.H=l},i.ea=function(l,p,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ll.g(),this.g.onreadystatechange=x(v(this.Ca,this));try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(U){Wr(this,U);return}if(l=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)g.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const U of E.keys())g.set(U,E.get(U));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),M=h.FormData&&l instanceof h.FormData,!(Array.prototype.indexOf.call(wc,p,void 0)>=0)||E||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Y]of g)this.g.setRequestHeader(U,Y);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(U){Wr(this,U)}};function Wr(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.o=5,Hr(l),dr(l)}function Hr(l){l.A||(l.A=!0,st(l,"complete"),st(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,st(this,"complete"),st(this,"abort"),dr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),$e.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?hr(this):this.Xa())},i.Xa=function(){hr(this)};function hr(l){if(l.h&&typeof c<"u"){if(l.v&&zn(l)==4)setTimeout(l.Ca.bind(l),0);else if(st(l,"readystatechange"),zn(l)==4){l.h=!1;try{const U=l.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var E;if(E=U===0){let Y=String(l.D).match(pl)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),E=!yl.test(Y?Y.toLowerCase():"")}g=E}if(g)st(l,"complete"),st(l,"success");else{l.o=6;try{var M=zn(l)>2?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.ca()+"]",Hr(l)}}finally{dr(l)}}}}function dr(l,p){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const g=l.g;l.g=null,p||st(l,"ready");try{g.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function zn(l){return l.g?l.g.readyState:0}i.ca=function(){try{return zn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),rl(p)}};function _l(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Ko(l){const p={};l=(l.g&&zn(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(T(l[E]))continue;var g=Es(l[E]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=p[M]||[];p[M]=U,U.push(g)}re(p,function(E){return E.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bn(l,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||p}function Cs(l){this.za=0,this.i=[],this.j=new Ur,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bn("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bn("baseRetryDelayMs",5e3,l),this.Za=Bn("retryDelaySeedMs",1e4,l),this.Ta=Bn("forwardChannelMaxRetries",2,l),this.va=Bn("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Ts(l&&l.concurrentRequestLimit),this.Ba=new Mi,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Cs.prototype,i.ka=8,i.I=1,i.connect=function(l,p,g,E){rt(0),this.W=l,this.H=p||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.J=Yo(this,null,this.W),fr(this)};function Ps(l){if(ks(l),l.I==3){var p=l.V++,g=ln(l.J);if(be(g,"SID",l.M),be(g,"RID",p),be(g,"TYPE","terminate"),$n(l,g),p=new an(l,l.j,p),p.M=2,p.A=ur(ln(g)),g=!1,h.navigator&&h.navigator.sendBeacon)try{g=h.navigator.sendBeacon(p.A.toString(),"")}catch{}!g&&h.Image&&(new Image().src=p.A,g=!0),g||(p.g=El(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Pi(p)}Ui(l)}function en(l){l.g&&(Fi(l),l.g.cancel(),l.g=null)}function ks(l){en(l),l.v&&(h.clearTimeout(l.v),l.v=null),Ns(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&h.clearTimeout(l.m),l.m=null)}function fr(l){if(!Fo(l.h)&&!l.m){l.m=!0;var p=l.Ea;Ye||S(),Ae||(Ye(),Ae=!0),k.add(p,l),l.D=0}}function vl(l,p){return Ni(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=p.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Fr(v(l.Ea,l,p),Vs(l,l.D)),l.D++,!0)}i.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const M=new an(this,this.j,l);let U=this.o;if(this.U&&(U?(U=O(U),Ee(U,this.U)):U=this.U),this.u!==null||this.R||(M.J=U,U=null),this.S)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,p>4096){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=Qo(this,M,p),g=ln(this.J),be(g,"RID",l),be(g,"CVER",22),this.G&&be(g,"X-HTTP-Session-Id",this.G),$n(this,g),U&&(this.R?p="headers="+On(gl(U))+"&"+p:this.u&&Rs(g,this.u,U)),Is(this.h,M),this.Ra&&be(g,"TYPE","init"),this.S?(be(g,"$req",p),be(g,"SID","null"),M.U=!0,vn(M,g,null)):vn(M,g,p),this.I=2}}else this.I==3&&(l?bi(this,l):this.i.length==0||Fo(this.h)||bi(this))};function bi(l,p){var g;p?g=p.l:g=l.V++;const E=ln(l.J);be(E,"SID",l.M),be(E,"RID",g),be(E,"AID",l.K),$n(l,E),l.u&&l.o&&Rs(E,l.u,l.o),g=new an(l,l.j,g,l.D+1),l.u===null&&(g.J=l.o),p&&(l.i=p.G.concat(l.i)),p=Qo(l,g,1e3),g.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Is(l.h,g),vn(g,E,p)}function $n(l,p){l.H&&ue(l.H,function(g,E){be(p,E,g)}),l.l&&ue({},function(g,E){be(p,E,g)})}function Qo(l,p,g){g=Math.min(l.i.length,g);const E=l.l?v(l.l.Ka,l.l,l):null;e:{var M=l.i;let _e=-1;for(;;){const ot=["count="+g];_e==-1?g>0?(_e=M[0].g,ot.push("ofs="+_e)):_e=0:ot.push("ofs="+_e);let je=!0;for(let ht=0;ht<g;ht++){var U=M[ht].g;const nn=M[ht].map;if(U-=_e,U<0)_e=Math.max(0,M[ht].g-100),je=!1;else try{U="req"+U+"_"||"";try{var Y=nn instanceof Map?nn:Object.entries(nn);for(const[pr,Hn]of Y){let qn=Hn;m(Hn)&&(qn=Or(Hn)),ot.push(U+pr+"="+encodeURIComponent(qn))}}catch(pr){throw ot.push(U+"type="+encodeURIComponent("_badmap")),pr}}catch{E&&E(nn)}}if(je){Y=ot.join("&");break e}}Y=void 0}return l=l.i.splice(0,g),p.G=l,Y}function Nt(l){if(!l.g&&!l.v){l.Y=1;var p=l.Da;Ye||S(),Ae||(Ye(),Ae=!0),k.add(p,l),l.A=0}}function Wn(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Fr(v(l.Da,l),Vs(l,l.A)),l.A++,!0)}i.Da=function(){if(this.v=null,qr(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Fr(v(this.Wa,this),l)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rt(10),en(this),qr(this))};function Fi(l){l.B!=null&&(h.clearTimeout(l.B),l.B=null)}function qr(l){l.g=new an(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var p=ln(l.na);be(p,"RID","rpc"),be(p,"SID",l.M),be(p,"AID",l.K),be(p,"CI",l.F?"0":"1"),!l.F&&l.ia&&be(p,"TO",l.ia),be(p,"TYPE","xmlhttp"),$n(l,p),l.u&&l.o&&Rs(p,l.u,l.o),l.O&&(l.g.H=l.O);var g=l.g;l=l.ba,g.M=1,g.A=ur(ln(p)),g.u=null,g.R=!0,Mo(g,l)}i.Va=function(){this.C!=null&&(this.C=null,en(this),Wn(this),rt(19))};function Ns(l){l.C!=null&&(h.clearTimeout(l.C),l.C=null)}function Ds(l,p){var g=null;if(l.g==p){Ns(l),Fi(l),l.g=null;var E=2}else if(Uo(l.h,p))g=p.G,Di(l.h,p),E=1;else return;if(l.I!=0){if(p.o)if(E==1){g=p.u?p.u.length:0,p=Date.now()-p.F;var M=l.D;E=br(),st(E,new Oo(E,g)),fr(l)}else Nt(l);else if(M=p.m,M==3||M==0&&p.X>0||!(E==1&&vl(l,p)||E==2&&Wn(l)))switch(g&&g.length>0&&(p=l.h,p.i=p.i.concat(g)),M){case 1:tn(l,5);break;case 4:tn(l,10);break;case 3:tn(l,6);break;default:tn(l,2)}}}function Vs(l,p){let g=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(g*=2),g*p}function tn(l,p){if(l.j.info("Error code "+p),p==2){var g=v(l.bb,l),E=l.Ua;const M=!E;E=new Ln(E||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Vi(E,"https"),ur(E),M?Un(E.toString(),g):jn(E.toString(),g)}else rt(2);l.I=0,l.l&&l.l.pa(p),Ui(l),ks(l)}i.bb=function(l){l?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Ui(l){if(l.I=0,l.ja=[],l.l){const p=Jt(l.h);(p.length!=0||l.i.length!=0)&&(J(l.ja,p),J(l.ja,l.i),l.h.i.length=0,j(l.i),l.i.length=0),l.l.oa()}}function Yo(l,p,g){var E=g instanceof Ln?ln(g):new Ln(g);if(E.g!="")p&&(E.g=p+"."+E.g),Mn(E,E.u);else{var M=h.location;E=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;const U=new Ln(null);E&&Vi(U,E),p&&(U.g=p),M&&Mn(U,M),g&&(U.h=g),E=U}return g=l.G,p=l.wa,g&&p&&be(E,g,p),be(E,"VER",l.ka),$n(l,E),E}function El(l,p,g){if(p&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Aa&&!l.ma?new $e(new cr({ab:g})):new $e(l.ma),p.Fa(l.L),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function wl(){}i=wl.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function xs(){}xs.prototype.g=function(l,p){return new St(l,p)};function St(l,p){ct.call(this),this.g=new Cs(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(l?l["X-WebChannel-Client-Profile"]=p.sa:l={"X-WebChannel-Client-Profile":p.sa}),this.g.U=l,(l=p&&p.Qb)&&!T(l)&&(this.g.u=l),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!T(p)&&(this.g.G=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Gr(this)}C(St,ct),St.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){Ps(this.g)},St.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.v&&(g={},g.__data__=Or(l),l=g);p.i.push(new vc(p.Ya++,l)),p.I==3&&fr(p)},St.prototype.N=function(){this.g.l=null,delete this.j,Ps(this.g),delete this.g,St.Z.N.call(this)};function Tl(l){ys.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const g in p){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}C(Tl,ys);function Il(){xo.call(this),this.status=1}C(Il,xo);function Gr(l){this.g=l}C(Gr,wl),Gr.prototype.ra=function(){st(this.g,"a")},Gr.prototype.qa=function(l){st(this.g,new Tl(l))},Gr.prototype.pa=function(l){st(this.g,new Il)},Gr.prototype.oa=function(){st(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,g_=function(){return new xs},m_=function(){return br()},p_=_n,gd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,Pu=jr,zr.COMPLETE="complete",f_=zr,il.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",ct.prototype.listen=ct.prototype.J,Aa=il,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,d_=$e}).apply(typeof _u<"u"?_u:typeof self<"u"?self:typeof window<"u"?window:{});class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");let Io="12.9.0";function G0(i){Io=i}const os=new Ld("@firebase/firestore");function to(){return os.logLevel}function ne(i,...e){if(os.logLevel<=Pe.DEBUG){const t=e.map(Kd);os.debug(`Firestore (${Io}): ${i}`,...t)}}function kr(i,...e){if(os.logLevel<=Pe.ERROR){const t=e.map(Kd);os.error(`Firestore (${Io}): ${i}`,...t)}}function as(i,...e){if(os.logLevel<=Pe.WARN){const t=e.map(Kd);os.warn(`Firestore (${Io}): ${i}`,...t)}}function Kd(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function fe(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,y_(i,s,t)}function y_(i,e,t){let s=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw kr(s),new Error(s)}function Ue(i,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,i||y_(e,a,s)}function ve(i,e){return i}const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class __{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Mt.UNAUTHENTICATED)))}shutdown(){}}class Q0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Y0{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ue(this.o===void 0,42304);let s=this.i;const a=y=>this.i!==s?(s=this.i,t(y)):Promise.resolve();let c=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new yi,e.enqueueRetryable((()=>a(this.currentUser)))};const h=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await a(this.currentUser)}))},m=y=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new yi)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ue(typeof s.accessToken=="string",31837,{l:s}),new __(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new Mt(e)}}class J0{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class X0{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new J0(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Mt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z0{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ue(this.o===void 0,3512);const s=c=>{c.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,ne("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const a=c=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ue(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new vg(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eS(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class Qd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=eS(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function yd(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const a=i.charAt(s),c=e.charAt(s);if(a!==c)return ed(a)===ed(c)?ke(a,c):ed(a)?1:-1}return ke(i.length,e.length)}const tS=55296,nS=57343;function ed(i){const e=i.charCodeAt(0);return e>=tS&&e<=nS}function po(i,e,t){return i.length===e.length&&i.every(((s,a)=>t(s,e[a])))}const Eg="__name__";class Jn{constructor(e,t,s){t===void 0?t=0:t>e.length&&fe(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&fe(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=Jn.compareSegments(e.get(a),t.get(a));if(c!==0)return c}return ke(e.length,t.length)}static compareSegments(e,t){const s=Jn.isNumericId(e),a=Jn.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Jn.extractNumericId(e).compare(Jn.extractNumericId(t)):yd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gi.fromString(e.substring(4,e.length-2))}}class He extends Jn{construct(e,t,s){return new He(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ee(z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new He(t)}static emptyPath(){return new He([])}}const rS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Jn{construct(e,t,s){return new Pt(e,t,s)}static isValidIdentifier(e){return rS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Eg}static keyField(){return new Pt([Eg])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ee(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ee(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ee(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(c(),a++)}if(c(),h)throw new ee(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(t)}static emptyPath(){return new Pt([])}}class le{constructor(e){this.path=e}static fromPath(e){return new le(He.fromString(e))}static fromName(e){return new le(He.fromString(e).popFirst(5))}static empty(){return new le(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return He.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new He(e.slice()))}}function v_(i,e,t){if(!t)throw new ee(z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function iS(i,e,t,s){if(e===!0&&s===!0)throw new ee(z.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function wg(i){if(!le.isDocumentKey(i))throw new ee(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Tg(i){if(le.isDocumentKey(i))throw new ee(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function E_(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function rc(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":fe(12329,{type:typeof i})}function Rr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ee(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rc(i);throw new ee(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function mt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Qa(i,e){if(!E_(i))throw new ee(z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const h=i[s];if(a&&typeof h!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(c!==void 0&&h!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new ee(z.INVALID_ARGUMENT,t);return!0}const Ig=-62135596800,Sg=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Sg);return new Qe(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ig)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sg}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qa(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ig;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:mt("string",Qe._jsonSchemaVersion),seconds:mt("number"),nanoseconds:mt("number")};class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Qe(0,0))}static max(){return new ye(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ba=-1;function sS(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=ye.fromTimestamp(s===1e9?new Qe(t+1,0):new Qe(t,s));return new vi(a,le.empty(),e)}function oS(i){return new vi(i.readTime,i.key,ba)}class vi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new vi(ye.min(),le.empty(),ba)}static max(){return new vi(ye.max(),le.empty(),ba)}}function aS(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=le.comparator(i.documentKey,e.documentKey),t!==0?t:ke(i.largestBatchId,e.largestBatchId))}const lS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function So(i){if(i.code!==z.FAILED_PRECONDITION||i.message!==lS)throw i;ne("LocalStore","Unexpectedly lost primary lease")}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new B(((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof B?t:B.resolve(t)}catch(t){return B.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):B.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):B.reject(t)}static resolve(e){return new B(((t,s)=>{t(e)}))}static reject(e){return new B(((t,s)=>{s(e)}))}static waitFor(e){return new B(((t,s)=>{let a=0,c=0,h=!1;e.forEach((m=>{++a,m.next((()=>{++c,h&&c===a&&t()}),(y=>s(y)))})),h=!0,c===a&&t()}))}static or(e){let t=B.resolve(!1);for(const s of e)t=t.next((a=>a?B.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,c)=>{s.push(t.call(this,a,c))})),this.waitFor(s)}static mapArray(e,t){return new B(((s,a)=>{const c=e.length,h=new Array(c);let m=0;for(let y=0;y<c;y++){const v=y;t(e[v]).next((w=>{h[v]=w,++m,m===c&&s(h)}),(w=>a(w)))}}))}static doWhile(e,t){return new B(((s,a)=>{const c=()=>{e()===!0?t().next((()=>{c()}),a):s()};c()}))}}function cS(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ao(i){return i.name==="IndexedDbTransactionError"}class ic{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ic.ce=-1;const Yd=-1;function sc(i){return i==null}function Bu(i){return i===0&&1/i==-1/0}function hS(i){return typeof i=="number"&&Number.isInteger(i)&&!Bu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const w_="";function dS(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Ag(e)),e=fS(i.get(t),e);return Ag(e)}function fS(i,e){let t=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":t+="";break;case w_:t+="";break;default:t+=c}}return t}function Ag(i){return i+w_+""}function Rg(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function us(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function T_(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class tt{constructor(e,t){this.comparator=e,this.root=t||Ct.EMPTY}insert(e,t){return new tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vu(this.root,e,this.comparator,!1)}getReverseIterator(){return new vu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vu(this.root,e,this.comparator,!0)}}class vu{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??Ct.RED,this.left=a??Ct.EMPTY,this.right=c??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new Ct(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):c===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Ct.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,t,s,a,c){return this}insert(e,t,s){return new Ct(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _t{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cg(this.data.getIterator())}getIteratorFrom(e){return new Cg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new _t(this.comparator);return t.data=e,t}}class Cg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new kn([])}unionWith(e){let t=new _t(Pt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class I_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new I_("Invalid base64 string: "+c):c}})(e);return new kt(t)}static fromUint8Array(e){const t=(function(a){let c="";for(let h=0;h<a.length;++h)c+=String.fromCharCode(a[h]);return c})(e);return new kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const pS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(i){if(Ue(!!i,39018),typeof i=="string"){let e=0;const t=pS.exec(i);if(Ue(!!t,46558,{timestamp:i}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:lt(i.seconds),nanos:lt(i.nanos)}}function lt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function wi(i){return typeof i=="string"?kt.fromBase64String(i):kt.fromUint8Array(i)}const S_="server_timestamp",A_="__type__",R_="__previous_value__",C_="__local_write_time__";function Jd(i){return(i?.mapValue?.fields||{})[A_]?.stringValue===S_}function oc(i){const e=i.mapValue.fields[R_];return Jd(e)?oc(e):e}function Fa(i){const e=Ei(i.mapValue.fields[C_].timestampValue);return new Qe(e.seconds,e.nanos)}class mS{constructor(e,t,s,a,c,h,m,y,v,w,C){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=w,this.apiKey=C}}const $u="(default)";class Ua{constructor(e,t){this.projectId=e,this.database=t||$u}static empty(){return new Ua("","")}get isDefaultDatabase(){return this.database===$u}isEqual(e){return e instanceof Ua&&e.projectId===this.projectId&&e.database===this.database}}function gS(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new ee(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ua(i.options.projectId,e)}const P_="__type__",yS="__max__",Eu={mapValue:{}},k_="__vector__",Wu="value";function Ti(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Jd(i)?4:vS(i)?9007199254740991:_S(i)?10:11:fe(28295,{value:i})}function ir(i,e){if(i===e)return!0;const t=Ti(i);if(t!==Ti(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Fa(i).isEqual(Fa(e));case 3:return(function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const h=Ei(a.timestampValue),m=Ei(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,c){return wi(a.bytesValue).isEqual(wi(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,c){return lt(a.geoPointValue.latitude)===lt(c.geoPointValue.latitude)&&lt(a.geoPointValue.longitude)===lt(c.geoPointValue.longitude)})(i,e);case 2:return(function(a,c){if("integerValue"in a&&"integerValue"in c)return lt(a.integerValue)===lt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const h=lt(a.doubleValue),m=lt(c.doubleValue);return h===m?Bu(h)===Bu(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return po(i.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return(function(a,c){const h=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Rg(h)!==Rg(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!ir(h[y],m[y])))return!1;return!0})(i,e);default:return fe(52216,{left:i})}}function ja(i,e){return(i.values||[]).find((t=>ir(t,e)))!==void 0}function mo(i,e){if(i===e)return 0;const t=Ti(i),s=Ti(e);if(t!==s)return ke(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return(function(c,h){const m=lt(c.integerValue||c.doubleValue),y=lt(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(i,e);case 3:return Pg(i.timestampValue,e.timestampValue);case 4:return Pg(Fa(i),Fa(e));case 5:return yd(i.stringValue,e.stringValue);case 6:return(function(c,h){const m=wi(c),y=wi(h);return m.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(c,h){const m=c.split("/"),y=h.split("/");for(let v=0;v<m.length&&v<y.length;v++){const w=ke(m[v],y[v]);if(w!==0)return w}return ke(m.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,h){const m=ke(lt(c.latitude),lt(h.latitude));return m!==0?m:ke(lt(c.longitude),lt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return kg(i.arrayValue,e.arrayValue);case 10:return(function(c,h){const m=c.fields||{},y=h.fields||{},v=m[Wu]?.arrayValue,w=y[Wu]?.arrayValue,C=ke(v?.values?.length||0,w?.values?.length||0);return C!==0?C:kg(v,w)})(i.mapValue,e.mapValue);case 11:return(function(c,h){if(c===Eu.mapValue&&h===Eu.mapValue)return 0;if(c===Eu.mapValue)return 1;if(h===Eu.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),v=h.fields||{},w=Object.keys(v);y.sort(),w.sort();for(let C=0;C<y.length&&C<w.length;++C){const x=yd(y[C],w[C]);if(x!==0)return x;const j=mo(m[y[C]],v[w[C]]);if(j!==0)return j}return ke(y.length,w.length)})(i.mapValue,e.mapValue);default:throw fe(23264,{he:t})}}function Pg(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const t=Ei(i),s=Ei(e),a=ke(t.seconds,s.seconds);return a!==0?a:ke(t.nanos,s.nanos)}function kg(i,e){const t=i.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const c=mo(t[a],s[a]);if(c)return c}return ke(t.length,s.length)}function go(i){return _d(i)}function _d(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=Ei(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return wi(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return le.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",a=!0;for(const c of t.values||[])a?a=!1:s+=",",s+=_d(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",c=!0;for(const h of s)c?c=!1:a+=",",a+=`${h}:${_d(t.fields[h])}`;return a+"}"})(i.mapValue):fe(61005,{value:i})}function ku(i){switch(Ti(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oc(i);return e?16+ku(e):16;case 5:return 2*i.stringValue.length;case 6:return wi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,c)=>a+ku(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let a=0;return us(s.fields,((c,h)=>{a+=c.length+ku(h)})),a})(i.mapValue);default:throw fe(13486,{value:i})}}function Ng(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function vd(i){return!!i&&"integerValue"in i}function Xd(i){return!!i&&"arrayValue"in i}function Dg(i){return!!i&&"nullValue"in i}function Vg(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Nu(i){return!!i&&"mapValue"in i}function _S(i){return(i?.mapValue?.fields||{})[P_]?.stringValue===k_}function Da(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return us(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Da(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Da(i.arrayValue.values[t]);return e}return{...i}}function vS(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===yS}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Nu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Da(t)}setAll(e){let t=Pt.emptyPath(),s={},a=[];e.forEach(((h,m)=>{if(!t.isImmediateParentOf(m)){const y=this.getFieldsMap(t);this.applyChanges(y,s,a),s={},a=[],t=m.popLast()}h?s[m.lastSegment()]=Da(h):a.push(m.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());Nu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Nu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){us(t,((a,c)=>e[a]=c));for(const a of s)delete e[a]}clone(){return new mn(Da(this.value))}}function N_(i){const e=[];return us(i.fields,((t,s)=>{const a=new Pt([t]);if(Nu(s)){const c=N_(s.mapValue).fields;if(c.length===0)e.push(a);else for(const h of c)e.push(a.child(h))}else e.push(a)})),new kn(e)}class bt{constructor(e,t,s,a,c,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new bt(e,0,ye.min(),ye.min(),ye.min(),mn.empty(),0)}static newFoundDocument(e,t,s,a){return new bt(e,1,t,ye.min(),s,a,0)}static newNoDocument(e,t){return new bt(e,2,t,ye.min(),ye.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new bt(e,3,t,ye.min(),ye.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hu{constructor(e,t){this.position=e,this.inclusive=t}}function xg(i,e,t){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],h=i.position[a];if(c.field.isKeyField()?s=le.comparator(le.fromName(h.referenceValue),t.key):s=mo(h,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Og(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ir(i.position[t],e.position[t]))return!1;return!0}class qu{constructor(e,t="asc"){this.field=e,this.dir=t}}function ES(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class D_{}class pt extends D_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new TS(e,t,s):t==="array-contains"?new AS(e,s):t==="in"?new RS(e,s):t==="not-in"?new CS(e,s):t==="array-contains-any"?new PS(e,s):new pt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new IS(e,s):new SS(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(mo(t,this.value)):t!==null&&Ti(this.value)===Ti(t)&&this.matchesComparison(mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vn extends D_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Vn(e,t)}matches(e){return V_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function V_(i){return i.op==="and"}function x_(i){return wS(i)&&V_(i)}function wS(i){for(const e of i.filters)if(e instanceof Vn)return!1;return!0}function Ed(i){if(i instanceof pt)return i.field.canonicalString()+i.op.toString()+go(i.value);if(x_(i))return i.filters.map((e=>Ed(e))).join(",");{const e=i.filters.map((t=>Ed(t))).join(",");return`${i.op}(${e})`}}function O_(i,e){return i instanceof pt?(function(s,a){return a instanceof pt&&s.op===a.op&&s.field.isEqual(a.field)&&ir(s.value,a.value)})(i,e):i instanceof Vn?(function(s,a){return a instanceof Vn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((c,h,m)=>c&&O_(h,a.filters[m])),!0):!1})(i,e):void fe(19439)}function L_(i){return i instanceof pt?(function(t){return`${t.field.canonicalString()} ${t.op} ${go(t.value)}`})(i):i instanceof Vn?(function(t){return t.op.toString()+" {"+t.getFilters().map(L_).join(" ,")+"}"})(i):"Filter"}class TS extends pt{constructor(e,t,s){super(e,t,s),this.key=le.fromName(s.referenceValue)}matches(e){const t=le.comparator(e.key,this.key);return this.matchesComparison(t)}}class IS extends pt{constructor(e,t){super(e,"in",t),this.keys=M_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class SS extends pt{constructor(e,t){super(e,"not-in",t),this.keys=M_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function M_(i,e){return(e.arrayValue?.values||[]).map((t=>le.fromName(t.referenceValue)))}class AS extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xd(t)&&ja(t.arrayValue,this.value)}}class RS extends pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ja(this.value.arrayValue,t)}}class CS extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ja(this.value.arrayValue,t)}}class PS extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>ja(this.value.arrayValue,s)))}}class kS{constructor(e,t=null,s=[],a=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function Lg(i,e=null,t=[],s=[],a=null,c=null,h=null){return new kS(i,e,t,s,a,c,h)}function Zd(i){const e=ve(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Ed(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),sc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>go(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>go(s))).join(",")),e.Te=t}return e.Te}function ef(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!ES(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!O_(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Og(i.startAt,e.startAt)&&Og(i.endAt,e.endAt)}function wd(i){return le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Ya{constructor(e,t=null,s=[],a=[],c=null,h="F",m=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function NS(i,e,t,s,a,c,h,m){return new Ya(i,e,t,s,a,c,h,m)}function ac(i){return new Ya(i)}function Mg(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function DS(i){return le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function b_(i){return i.collectionGroup!==null}function Va(i){const e=ve(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new _t(Pt.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new qu(c,s))})),t.has(Pt.keyField().canonicalString())||e.Ie.push(new qu(Pt.keyField(),s))}return e.Ie}function Zn(i){const e=ve(i);return e.Ee||(e.Ee=VS(e,Va(i))),e.Ee}function VS(i,e){if(i.limitType==="F")return Lg(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const c=a.dir==="desc"?"asc":"desc";return new qu(a.field,c)}));const t=i.endAt?new Hu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Hu(i.startAt.position,i.startAt.inclusive):null;return Lg(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Td(i,e){const t=i.filters.concat([e]);return new Ya(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Id(i,e,t){return new Ya(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function lc(i,e){return ef(Zn(i),Zn(e))&&i.limitType===e.limitType}function F_(i){return`${Zd(Zn(i))}|lt:${i.limitType}`}function no(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>L_(a))).join(", ")}]`),sc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>go(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>go(a))).join(",")),`Target(${s})`})(Zn(i))}; limitType=${i.limitType})`}function uc(i,e){return e.isFoundDocument()&&(function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):le.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,a){for(const c of Va(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0})(i,e)&&(function(s,a){return!(s.startAt&&!(function(h,m,y){const v=xg(h,m,y);return h.inclusive?v<=0:v<0})(s.startAt,Va(s),a)||s.endAt&&!(function(h,m,y){const v=xg(h,m,y);return h.inclusive?v>=0:v>0})(s.endAt,Va(s),a))})(i,e)}function xS(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function U_(i){return(e,t)=>{let s=!1;for(const a of Va(i)){const c=OS(a,e,t);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function OS(i,e,t){const s=i.field.isKeyField()?le.comparator(e.key,t.key):(function(c,h,m){const y=h.data.field(c),v=m.data.field(c);return y!==null&&v!==null?mo(y,v):fe(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return fe(19790,{direction:i.dir})}}class cs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,((t,s)=>{for(const[a,c]of s)e(a,c)}))}isEmpty(){return T_(this.inner)}size(){return this.innerSize}}const LS=new tt(le.comparator);function Nr(){return LS}const j_=new tt(le.comparator);function Ra(...i){let e=j_;for(const t of i)e=e.insert(t.key,t);return e}function z_(i){let e=j_;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function es(){return xa()}function B_(){return xa()}function xa(){return new cs((i=>i.toString()),((i,e)=>i.isEqual(e)))}const MS=new tt(le.comparator),bS=new _t(le.comparator);function Ne(...i){let e=bS;for(const t of i)e=e.add(t);return e}const FS=new _t(ke);function US(){return FS}function tf(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bu(e)?"-0":e}}function $_(i){return{integerValue:""+i}}function jS(i,e){return hS(e)?$_(e):tf(i,e)}class cc{constructor(){this._=void 0}}function zS(i,e,t){return i instanceof za?(function(a,c){const h={fields:{[A_]:{stringValue:S_},[C_]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Jd(c)&&(c=oc(c)),c&&(h.fields[R_]=c),{mapValue:h}})(t,e):i instanceof Ba?H_(i,e):i instanceof $a?q_(i,e):(function(a,c){const h=W_(a,c),m=bg(h)+bg(a.Ae);return vd(h)&&vd(a.Ae)?$_(m):tf(a.serializer,m)})(i,e)}function BS(i,e,t){return i instanceof Ba?H_(i,e):i instanceof $a?q_(i,e):t}function W_(i,e){return i instanceof Gu?(function(s){return vd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class za extends cc{}class Ba extends cc{constructor(e){super(),this.elements=e}}function H_(i,e){const t=G_(e);for(const s of i.elements)t.some((a=>ir(a,s)))||t.push(s);return{arrayValue:{values:t}}}class $a extends cc{constructor(e){super(),this.elements=e}}function q_(i,e){let t=G_(e);for(const s of i.elements)t=t.filter((a=>!ir(a,s)));return{arrayValue:{values:t}}}class Gu extends cc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function bg(i){return lt(i.integerValue||i.doubleValue)}function G_(i){return Xd(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class $S{constructor(e,t){this.field=e,this.transform=t}}function WS(i,e){return i.field.isEqual(e.field)&&(function(s,a){return s instanceof Ba&&a instanceof Ba||s instanceof $a&&a instanceof $a?po(s.elements,a.elements,ir):s instanceof Gu&&a instanceof Gu?ir(s.Ae,a.Ae):s instanceof za&&a instanceof za})(i.transform,e.transform)}class HS{constructor(e,t){this.version=e,this.transformResults=t}}class er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Du(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class hc{}function K_(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new nf(i.key,er.none()):new Ja(i.key,i.data,er.none());{const t=i.data,s=mn.empty();let a=new _t(Pt.comparator);for(let c of e.fields)if(!a.has(c)){let h=t.field(c);h===null&&c.length>1&&(c=c.popLast(),h=t.field(c)),h===null?s.delete(c):s.set(c,h),a=a.add(c)}return new hs(i.key,s,new kn(a.toArray()),er.none())}}function qS(i,e,t){i instanceof Ja?(function(a,c,h){const m=a.value.clone(),y=Ug(a.fieldTransforms,c,h.transformResults);m.setAll(y),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,t):i instanceof hs?(function(a,c,h){if(!Du(a.precondition,c))return void c.convertToUnknownDocument(h.version);const m=Ug(a.fieldTransforms,c,h.transformResults),y=c.data;y.setAll(Q_(a)),y.setAll(m),c.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(i,e,t):(function(a,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Oa(i,e,t,s){return i instanceof Ja?(function(c,h,m,y){if(!Du(c.precondition,h))return m;const v=c.value.clone(),w=jg(c.fieldTransforms,y,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(i,e,t,s):i instanceof hs?(function(c,h,m,y){if(!Du(c.precondition,h))return m;const v=jg(c.fieldTransforms,y,h),w=h.data;return w.setAll(Q_(c)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((C=>C.field)))})(i,e,t,s):(function(c,h,m){return Du(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,t)}function GS(i,e){let t=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=W_(s.transform,a||null);c!=null&&(t===null&&(t=mn.empty()),t.set(s.field,c))}return t||null}function Fg(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&po(s,a,((c,h)=>WS(c,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ja extends hc{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class hs extends hc{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Q_(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function Ug(i,e,t){const s=new Map;Ue(i.length===t.length,32656,{Ve:t.length,de:i.length});for(let a=0;a<t.length;a++){const c=i[a],h=c.transform,m=e.data.field(c.field);s.set(c.field,BS(h,m,t[a]))}return s}function jg(i,e,t){const s=new Map;for(const a of i){const c=a.transform,h=t.data.field(a.field);s.set(a.field,zS(c,h,e))}return s}class nf extends hc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KS extends hc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QS{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&qS(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Oa(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Oa(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=B_();return this.mutations.forEach((a=>{const c=e.get(a.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=t.has(a.key)?null:m;const y=K_(h,m);y!==null&&s.set(a.key,y),h.isValidDocument()||h.convertToNoDocument(ye.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ne())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((t,s)=>Fg(t,s)))&&po(this.baseMutations,e.baseMutations,((t,s)=>Fg(t,s)))}}class rf{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Ue(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return MS})();const c=e.mutations;for(let h=0;h<c.length;h++)a=a.insert(c[h].key,s[h].version);return new rf(e,t,s,a)}}class YS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class JS{constructor(e,t){this.count=e,this.unchangedNames=t}}var ft,Ve;function XS(i){switch(i){case z.OK:return fe(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return fe(15467,{code:i})}}function Y_(i){if(i===void 0)return kr("GRPC error has no .code"),z.UNKNOWN;switch(i){case ft.OK:return z.OK;case ft.CANCELLED:return z.CANCELLED;case ft.UNKNOWN:return z.UNKNOWN;case ft.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case ft.INTERNAL:return z.INTERNAL;case ft.UNAVAILABLE:return z.UNAVAILABLE;case ft.UNAUTHENTICATED:return z.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case ft.NOT_FOUND:return z.NOT_FOUND;case ft.ALREADY_EXISTS:return z.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return z.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case ft.ABORTED:return z.ABORTED;case ft.OUT_OF_RANGE:return z.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return z.UNIMPLEMENTED;case ft.DATA_LOSS:return z.DATA_LOSS;default:return fe(39323,{code:i})}}(Ve=ft||(ft={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";function ZS(){return new TextEncoder}const e1=new gi([4294967295,4294967295],0);function zg(i){const e=ZS().encode(i),t=new h_;return t.update(e),new Uint8Array(t.digest())}function Bg(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new gi([t,s],0),new gi([a,c],0)]}class sf{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ca(`Invalid padding: ${t}`);if(s<0)throw new Ca(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ca(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ca(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=gi.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(gi.fromNumber(s)));return a.compare(e1)===1&&(a=new gi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=zg(e),[s,a]=Bg(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,a,c);if(!this.we(h))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new sf(c,a,t);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const t=zg(e),[s,a]=Bg(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,a,c);this.be(h)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ca extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dc{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Xa.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new dc(ye.min(),a,new tt(ke),Nr(),Ne())}}class Xa{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Xa(s,t,Ne(),Ne(),Ne())}}class Vu{constructor(e,t,s,a){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=a}}class J_{constructor(e,t){this.targetId=e,this.Ce=t}}class X_{constructor(e,t,s=kt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class $g{constructor(){this.ve=0,this.Fe=Wg(),this.Me=kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),t=Ne(),s=Ne();return this.Fe.forEach(((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:fe(38017,{changeType:c})}})),new Xa(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=Wg()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class t1{constructor(e){this.Ge=e,this.ze=new Map,this.je=Nr(),this.He=wu(),this.Je=wu(),this.Ze=new tt(ke)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:fe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const c=a.target;if(wd(c))if(s===0){const h=new le(c.path);this.et(t,h,bt.newNoDocument(h,ye.min()))}else Ue(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const m=this.ut(e),y=m?this.ct(m,e,h):1;if(y!==0){this.it(t);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=t;let h,m;try{h=wi(s).toUint8Array()}catch(y){if(y instanceof I_)return as("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new sf(h,a,c)}catch(y){return as(y instanceof Ca?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(t,c,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((c,h)=>{const m=this.ot(h);if(m){if(c.current&&wd(m.target)){const y=new le(m.target.path);this.It(y).has(h)||this.Et(h,y)||this.et(h,y,bt.newNoDocument(y,e))}c.Be&&(t.set(h,c.ke()),c.Ke())}}));let s=Ne();this.Je.forEach(((c,h)=>{let m=!0;h.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const a=new dc(e,t,this.Ze,this.je,s);return this.je=Nr(),this.He=wu(),this.Je=wu(),this.Ze=new tt(ke),a}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new $g,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new _t(ke),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new _t(ke),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ne("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $g),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function wu(){return new tt(le.comparator)}function Wg(){return new tt(le.comparator)}const n1={asc:"ASCENDING",desc:"DESCENDING"},r1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i1={and:"AND",or:"OR"};class s1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sd(i,e){return i.useProto3Json||sc(e)?e:{value:e}}function Ku(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z_(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function o1(i,e){return Ku(i,e.toTimestamp())}function tr(i){return Ue(!!i,49232),ye.fromTimestamp((function(t){const s=Ei(t);return new Qe(s.seconds,s.nanos)})(i))}function of(i,e){return Ad(i,e).canonicalString()}function Ad(i,e){const t=(function(a){return new He(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?t:t.child(e)}function ev(i){const e=He.fromString(i);return Ue(sv(e),10190,{key:e.toString()}),e}function Rd(i,e){return of(i.databaseId,e.path)}function td(i,e){const t=ev(e);if(t.get(1)!==i.databaseId.projectId)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new le(nv(t))}function tv(i,e){return of(i.databaseId,e)}function a1(i){const e=ev(i);return e.length===4?He.emptyPath():nv(e)}function Cd(i){return new He(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function nv(i){return Ue(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Hg(i,e,t){return{name:Rd(i,e),fields:t.value.mapValue.fields}}function l1(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:fe(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=(function(v,w){return v.useProto3Json?(Ue(w===void 0||typeof w=="string",58123),kt.fromBase64String(w||"")):(Ue(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),kt.fromUint8Array(w||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(v){const w=v.code===void 0?z.UNKNOWN:Y_(v.code);return new ee(w,v.message||"")})(h);t=new X_(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=td(i,s.document.name),c=tr(s.document.updateTime),h=s.document.createTime?tr(s.document.createTime):ye.min(),m=new mn({mapValue:{fields:s.document.fields}}),y=bt.newFoundDocument(a,c,h,m),v=s.targetIds||[],w=s.removedTargetIds||[];t=new Vu(v,w,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=td(i,s.document),c=s.readTime?tr(s.readTime):ye.min(),h=bt.newNoDocument(a,c),m=s.removedTargetIds||[];t=new Vu([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=td(i,s.document),c=s.removedTargetIds||[];t=new Vu([],c,a,null)}else{if(!("filter"in e))return fe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,h=new JS(a,c),m=s.targetId;t=new J_(m,h)}}return t}function u1(i,e){let t;if(e instanceof Ja)t={update:Hg(i,e.key,e.value)};else if(e instanceof nf)t={delete:Rd(i,e.key)};else if(e instanceof hs)t={update:Hg(i,e.key,e.data),updateMask:_1(e.fieldMask)};else{if(!(e instanceof KS))return fe(16599,{dt:e.type});t={verify:Rd(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const m=h.transform;if(m instanceof za)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ba)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof $a)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Gu)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw fe(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,c){return c.updateTime!==void 0?{updateTime:o1(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:fe(27497)})(i,e.precondition)),t}function c1(i,e){return i&&i.length>0?(Ue(e!==void 0,14353),i.map((t=>(function(a,c){let h=a.updateTime?tr(a.updateTime):tr(c);return h.isEqual(ye.min())&&(h=tr(c)),new HS(h,a.transformResults||[])})(t,e)))):[]}function h1(i,e){return{documents:[tv(i,e.path)]}}function d1(i,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=tv(i,a);const c=(function(v){if(v.length!==0)return iv(Vn.create(v,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const h=(function(v){if(v.length!==0)return v.map((w=>(function(x){return{field:ro(x.field),direction:m1(x.dir)}})(w)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=Sd(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:a}}function f1(i){let e=a1(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Ue(s===1,65062);const w=t.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];t.where&&(c=(function(C){const x=rv(C);return x instanceof Vn&&x_(x)?x.getFilters():[x]})(t.where));let h=[];t.orderBy&&(h=(function(C){return C.map((x=>(function(J){return new qu(io(J.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(x)))})(t.orderBy));let m=null;t.limit&&(m=(function(C){let x;return x=typeof C=="object"?C.value:C,sc(x)?null:x})(t.limit));let y=null;t.startAt&&(y=(function(C){const x=!!C.before,j=C.values||[];return new Hu(j,x)})(t.startAt));let v=null;return t.endAt&&(v=(function(C){const x=!C.before,j=C.values||[];return new Hu(j,x)})(t.endAt)),NS(e,a,h,c,m,"F",y,v)}function p1(i,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rv(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=io(t.unaryFilter.field);return pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=io(t.unaryFilter.field);return pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=io(t.unaryFilter.field);return pt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=io(t.unaryFilter.field);return pt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}})(i):i.fieldFilter!==void 0?(function(t){return pt.create(io(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return Vn.create(t.compositeFilter.filters.map((s=>rv(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return fe(1026)}})(t.compositeFilter.op))})(i):fe(30097,{filter:i})}function m1(i){return n1[i]}function g1(i){return r1[i]}function y1(i){return i1[i]}function ro(i){return{fieldPath:i.canonicalString()}}function io(i){return Pt.fromServerFormat(i.fieldPath)}function iv(i){return i instanceof pt?(function(t){if(t.op==="=="){if(Vg(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NAN"}};if(Dg(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Vg(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NAN"}};if(Dg(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(t.field),op:g1(t.op),value:t.value}}})(i):i instanceof Vn?(function(t){const s=t.getFilters().map((a=>iv(a)));return s.length===1?s[0]:{compositeFilter:{op:y1(t.op),filters:s}}})(i):fe(54877,{filter:i})}function _1(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function sv(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function ov(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class di{constructor(e,t,s,a,c=ye.min(),h=ye.min(),m=kt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class v1{constructor(e){this.yt=e}}function E1(i){const e=f1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Id(e,e.limit,"L"):e}class w1{constructor(){this.Sn=new T1}addToCollectionParentIndex(e,t){return this.Sn.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(vi.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(vi.min())}updateCollectionGroup(e,t,s){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}}class T1{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new _t(He.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new _t(He.comparator)).toArray()}}const qg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},av=41943040;class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(av,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);class yo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new yo(0)}static ar(){return new yo(-1)}}const Gg="LruGarbageCollector",I1=1048576;function Kg([i,e],[t,s]){const a=ke(i,t);return a===0?ke(e,s):a}class S1{constructor(e){this.Pr=e,this.buffer=new _t(Kg),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Kg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class A1{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ne(Gg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ao(t)?ne(Gg,"Ignoring IndexedDB error during garbage collection: ",t):await So(t)}await this.Ar(3e5)}))}}class R1{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return B.resolve(ic.ce);const s=new S1(t);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(qg)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qg):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,a,c,h,m,y,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),a=this.params.maximumSequenceNumbersToCollect):a=C,h=Date.now(),this.nthSequenceNumber(e,a)))).next((C=>(s=C,m=Date.now(),this.removeTargets(e,s,t)))).next((C=>(c=C,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((C=>(v=Date.now(),to()<=Pe.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${C} documents in `+(v-y)+`ms
Total Duration: ${v-w}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:C}))))}}function C1(i,e){return new R1(i,e)}class P1{constructor(){this.changes=new cs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?B.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class k1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class N1{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&Oa(s.mutation,a,kn.empty(),Qe.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Ne()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Ne()){const a=es();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((c=>{let h=Ra();return c.forEach(((m,y)=>{h=h.insert(m,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=es();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Ne())))}populateOverlays(e,t,s){const a=[];return s.forEach((c=>{t.has(c)||a.push(c)})),this.documentOverlayCache.getOverlays(e,a).next((c=>{c.forEach(((h,m)=>{t.set(h,m)}))}))}computeViews(e,t,s,a){let c=Nr();const h=xa(),m=(function(){return xa()})();return t.forEach(((y,v)=>{const w=s.get(v.key);a.has(v.key)&&(w===void 0||w.mutation instanceof hs)?c=c.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),Oa(w.mutation,v,w.mutation.getFieldMask(),Qe.now())):h.set(v.key,kn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((v,w)=>h.set(v,w))),t.forEach(((v,w)=>m.set(v,new k1(w,h.get(v)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=xa();let a=new tt(((h,m)=>h-m)),c=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const m of h)m.keys().forEach((y=>{const v=t.get(y);if(v===null)return;let w=s.get(y)||kn.empty();w=m.applyToLocalView(v,w),s.set(y,w);const C=(a.get(m.batchId)||Ne()).add(y);a=a.insert(m.batchId,C)}))})).next((()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,w=y.value,C=B_();w.forEach((x=>{if(!c.has(x)){const j=K_(t.get(x),s.get(x));j!==null&&C.set(x,j),c=c.add(x)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,C))}return B.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return DS(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):b_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((c=>{const h=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):B.resolve(es());let m=ba,y=c;return h.next((v=>B.forEach(v,((w,C)=>(m<C.largestBatchId&&(m=C.largestBatchId),c.get(w)?B.resolve():this.remoteDocumentCache.getEntry(e,w).next((x=>{y=y.insert(w,x)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,y,v,Ne()))).next((w=>({batchId:m,changes:z_(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new le(t)).next((s=>{let a=Ra();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const c=t.collectionGroup;let h=Ra();return this.indexManager.getCollectionParents(e,c).next((m=>B.forEach(m,(y=>{const v=(function(C,x){return new Ya(x,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(t,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next((w=>{w.forEach(((C,x)=>{h=h.insert(C,x)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,a)))).next((h=>{c.forEach(((y,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,bt.newInvalidDocument(w)))}));let m=Ra();return h.forEach(((y,v)=>{const w=c.get(y);w!==void 0&&Oa(w.mutation,v,kn.empty(),Qe.now()),uc(t,v)&&(m=m.insert(y,v))})),m}))}}class D1{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return B.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:tr(a.createTime)}})(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:E1(a.bundledQuery),readTime:tr(a.readTime)}})(t)),B.resolve()}}class V1{constructor(){this.overlays=new tt(le.comparator),this.Lr=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){const s=es();return B.forEach(t,(a=>this.getOverlay(e,a).next((c=>{c!==null&&s.set(a,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,c)=>{this.bt(e,t,c)})),B.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),B.resolve()}getOverlaysForCollection(e,t,s){const a=es(),c=t.length+1,h=new le(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return B.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new tt(((v,w)=>v-w));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=es(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const m=es(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,w)=>m.set(v,w))),!(m.size()>=a)););return B.resolve(m)}bt(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new YS(t,s));let c=this.Lr.get(t);c===void 0&&(c=Ne(),this.Lr.set(t,c)),this.Lr.set(t,c.add(s.key))}}class x1{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}}class af{constructor(){this.kr=new _t(Tt.Kr),this.qr=new _t(Tt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new Tt(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new Tt(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new le(new He([])),s=new Tt(t,e),a=new Tt(t,e+1),c=[];return this.qr.forEachInRange([s,a],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new le(new He([])),s=new Tt(t,e),a=new Tt(t,e+1);let c=Ne();return this.qr.forEachInRange([s,a],(h=>{c=c.add(h.key)})),c}containsKey(e){const t=new Tt(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Tt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return le.comparator(e.key,t.key)||ke(e.Hr,t.Hr)}static Ur(e,t){return ke(e.Hr,t.Hr)||le.comparator(e.key,t.key)}}class O1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new _t(Tt.Kr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new QS(c,t,s,a);this.mutationQueue.push(h);for(const m of a)this.Jr=this.Jr.add(new Tt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return B.resolve(h)}lookupMutationBatch(e,t){return B.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Xr(s),c=a<0?0:a;return B.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Yd:this.Yn-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Tt(t,0),a=new Tt(t,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,a],(h=>{const m=this.Zr(h.Hr);c.push(m)})),B.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new _t(ke);return t.forEach((a=>{const c=new Tt(a,0),h=new Tt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(m=>{s=s.add(m.Hr)}))})),B.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;le.isDocumentKey(c)||(c=c.child(""));const h=new Tt(new le(c),0);let m=new _t(ke);return this.Jr.forEachWhile((y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(y.Hr)),!0)}),h),B.resolve(this.Yr(m))}Yr(e){const t=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Ue(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return B.forEach(t.mutations,(a=>{const c=new Tt(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new Tt(t,0),a=this.Jr.firstAfterOrEqual(s);return B.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class L1{constructor(e){this.ti=e,this.docs=(function(){return new tt(le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,h=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return B.resolve(s?s.document.mutableCopy():bt.newInvalidDocument(t))}getEntries(e,t){let s=Nr();return t.forEach((a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():bt.newInvalidDocument(a))})),B.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=Nr();const h=t.path,m=new le(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:w}}=y.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||aS(oS(w),s)<=0||(a.has(w.key)||uc(t,w))&&(c=c.insert(w.key,w.mutableCopy()))}return B.resolve(c)}getAllFromCollectionGroup(e,t,s,a){fe(9500)}ni(e,t){return B.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new M1(this)}getSize(e){return B.resolve(this.size)}}class M1 extends P1{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),B.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class b1{constructor(e){this.persistence=e,this.ri=new cs((t=>Zd(t)),ef),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.ii=0,this.si=new af,this.targetCount=0,this.oi=yo._r()}forEachTarget(e,t){return this.ri.forEach(((s,a)=>t(a))),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),B.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new yo(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.lr(t),B.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)})),B.waitFor(c).next((()=>a))}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return B.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),B.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach((h=>{c.push(a.markPotentiallyOrphaned(e,h))})),B.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),B.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return B.resolve(s)}containsKey(e,t){return B.resolve(this.si.containsKey(t))}}class lv{constructor(e,t){this._i={},this.overlays={},this.ai=new ic(0),this.ui=!1,this.ui=!0,this.ci=new x1,this.referenceDelegate=e(this),this.li=new b1(this),this.indexManager=new w1,this.remoteDocumentCache=(function(a){return new L1(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new v1(t),this.Pi=new D1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new V1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new O1(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){ne("MemoryPersistence","Starting transaction:",e);const a=new F1(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((c=>this.referenceDelegate.Ii(a).next((()=>c)))).toPromise().then((c=>(a.raiseOnCommittedEvent(),c)))}Ei(e,t){return B.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class F1 extends uS{constructor(e){super(),this.currentSequenceNumber=e}}class lf{constructor(e){this.persistence=e,this.Ri=new af,this.Ai=null}static Vi(e){return new lf(e)}get di(){if(this.Ai)return this.Ai;throw fe(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),B.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),B.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.di,(s=>{const a=le.fromPath(s);return this.mi(e,a).next((c=>{c||t.removeEntry(a,ye.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return B.or([()=>B.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Qu{constructor(e,t){this.persistence=e,this.fi=new cs((s=>dS(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=C1(this,t)}static Vi(e,t){return new Qu(e,t)}Ti(){}Ii(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return B.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((c=>c?B.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ni(e,(h=>this.wr(e,h,t).next((m=>{m||(s++,c.removeEntry(h,ye.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),B.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),B.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ku(e.data.value)),t}wr(e,t,s){return B.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return B.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class uf{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=a}static Es(e,t){let s=Ne(),a=Ne();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new uf(e,t.fromCache,s,a)}}class U1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class j1{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Pw()?8:cS(Ft())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const c={result:null};return this.gs(e,t).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,t,a,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new U1;return this.ys(e,t,h).next((m=>{if(c.result=m,this.As)return this.ws(e,t,h,m.size)}))})).next((()=>c.result))}ws(e,t,s,a){return s.documentReadCount<this.Vs?(to()<=Pe.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",no(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),B.resolve()):(to()<=Pe.DEBUG&&ne("QueryEngine","Query:",no(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(to()<=Pe.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",no(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(t))):B.resolve())}gs(e,t){if(Mg(t))return B.resolve(null);let s=Zn(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Id(t,null,"F"),s=Zn(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=Ne(...c);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((y=>{const v=this.bs(t,m);return this.Ss(t,v,h,y.readTime)?this.gs(e,Id(t,null,"F")):this.Ds(e,v,t,y)}))))})))))}ps(e,t,s,a){return Mg(t)||a.isEqual(ye.min())?B.resolve(null):this.fs.getDocuments(e,s).next((c=>{const h=this.bs(t,c);return this.Ss(t,h,s,a)?B.resolve(null):(to()<=Pe.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),no(t)),this.Ds(e,h,t,sS(a,ba)).next((m=>m)))}))}bs(e,t){let s=new _t(U_(e));return t.forEach(((a,c)=>{uc(e,c)&&(s=s.add(c))})),s}Ss(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ys(e,t,s){return to()<=Pe.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",no(t)),this.fs.getDocumentsMatchingQuery(e,t,vi.min(),s)}Ds(e,t,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((c=>(t.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const cf="LocalStore",z1=3e8;class B1{constructor(e,t,s,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new tt(ke),this.Fs=new cs((c=>Zd(c)),ef),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N1(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function $1(i,e,t,s){return new B1(i,e,t,s)}async function uv(i,e){const t=ve(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((c=>(a=c,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],m=[];let y=Ne();for(const v of a){h.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}for(const v of c){m.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}return t.localDocuments.getDocuments(s,y).next((v=>({Ns:v,removedBatchIds:h,addedBatchIds:m})))}))}))}function W1(i,e){const t=ve(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),c=t.xs.newChangeBuffer({trackRemovals:!0});return(function(m,y,v,w){const C=v.batch,x=C.keys();let j=B.resolve();return x.forEach((J=>{j=j.next((()=>w.getEntry(y,J))).next((Q=>{const G=v.docVersions.get(J);Ue(G!==null,48541),Q.version.compareTo(G)<0&&(C.applyToRemoteDocument(Q,v),Q.isValidDocument()&&(Q.setReadTime(v.commitVersion),w.addEntry(Q)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(y,C)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let y=Ne();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function cv(i){const e=ve(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function H1(i,e){const t=ve(i),s=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const m=[];e.targetChanges.forEach(((w,C)=>{const x=a.get(C);if(!x)return;m.push(t.li.removeMatchingKeys(c,w.removedDocuments,C).next((()=>t.li.addMatchingKeys(c,w.addedDocuments,C))));let j=x.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(C)!==null?j=j.withResumeToken(kt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):w.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(w.resumeToken,s)),a=a.insert(C,j),(function(Q,G,pe){return Q.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=z1?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(x,j,w)&&m.push(t.li.updateTargetData(c,j))}));let y=Nr(),v=Ne();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,w))})),m.push(q1(c,h,e.documentUpdates).next((w=>{y=w.Bs,v=w.Ls}))),!s.isEqual(ye.min())){const w=t.li.getLastRemoteSnapshotVersion(c).next((C=>t.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(w)}return B.waitFor(m).next((()=>h.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(t.vs=a,c)))}function q1(i,e,t){let s=Ne(),a=Ne();return t.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let h=Nr();return t.forEach(((m,y)=>{const v=c.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(ye.min())?(e.removeEntry(m,y.readTime),h=h.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),h=h.insert(m,y)):ne(cf,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)})),{Bs:h,Ls:a}}))}function G1(i,e){const t=ve(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Yd),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function K1(i,e){const t=ve(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.li.getTargetData(s,e).next((c=>c?(a=c,B.resolve(a)):t.li.allocateTargetId(s).next((h=>(a=new di(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function Pd(i,e,t){const s=ve(i),a=s.vs.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!Ao(h))throw h;ne(cf,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function Qg(i,e,t){const s=ve(i);let a=ye.min(),c=Ne();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,v,w){const C=ve(y),x=C.Fs.get(w);return x!==void 0?B.resolve(C.vs.get(x)):C.li.getTargetData(v,w)})(s,h,Zn(e)).next((m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((y=>{c=y}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,t?a:ye.min(),t?c:Ne()))).next((m=>(Q1(s,xS(e),m),{documents:m,ks:c})))))}function Q1(i,e,t){let s=i.Ms.get(e)||ye.min();t.forEach(((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Ms.set(e,s)}class Yg{constructor(){this.activeTargetIds=US()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y1{constructor(){this.vo=new Yg,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Yg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class J1{Mo(e){}shutdown(){}}const Jg="ConnectivityMonitor";class Xg{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ne(Jg,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ne(Jg,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Tu=null;function kd(){return Tu===null?Tu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tu++,"0x"+Tu.toString(16)}const nd="RestConnection",X1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Z1{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===$u?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,t,s,a,c){const h=kd(),m=this.Qo(e,t.toUriEncodedString());ne(nd,`Sending RPC '${e}' ${h}:`,m,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,a,c);const{host:v}=new URL(m),w=Eo(v);return this.zo(e,m,y,s,w).then((C=>(ne(nd,`Received RPC '${e}' ${h}: `,C),C)),(C=>{throw as(nd,`RPC '${e}' ${h} failed with error: `,C,"url: ",m,"request:",s),C}))}jo(e,t,s,a,c,h){return this.Wo(e,t,s,a,c)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,c)=>e[c]=a)),s&&s.headers.forEach(((a,c)=>e[c]=a))}Qo(e,t){const s=X1[e];let a=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class eA{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Lt="WebChannelConnection",Ia=(i,e,t)=>{i.listen(e,(s=>{try{t(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class lo extends Z1{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!lo.c_){const e=m_();Ia(e,p_.STAT_EVENT,(t=>{t.stat===gd.PROXY?ne(Lt,"STAT_EVENT: detected buffering proxy"):t.stat===gd.NOPROXY&&ne(Lt,"STAT_EVENT: detected no buffering proxy")})),lo.c_=!0}}zo(e,t,s,a,c){const h=kd();return new Promise(((m,y)=>{const v=new d_;v.setWithCredentials(!0),v.listenOnce(f_.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Pu.NO_ERROR:const C=v.getResponseJson();ne(Lt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(C)),m(C);break;case Pu.TIMEOUT:ne(Lt,`RPC '${e}' ${h} timed out`),y(new ee(z.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:const x=v.getStatus();if(ne(Lt,`RPC '${e}' ${h} failed with status:`,x,"response text:",v.getResponseText()),x>0){let j=v.getResponseJson();Array.isArray(j)&&(j=j[0]);const J=j?.error;if(J&&J.status&&J.message){const Q=(function(pe){const de=pe.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(de)>=0?de:z.UNKNOWN})(J.status);y(new ee(Q,J.message))}else y(new ee(z.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new ee(z.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ne(Lt,`RPC '${e}' ${h} completed.`)}}));const w=JSON.stringify(a);ne(Lt,`RPC '${e}' ${h} sending request:`,a),v.send(t,"POST",w,s,15)}))}T_(e,t,s){const a=kd(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const v=c.join("");ne(Lt,`Creating RPC '${e}' stream ${a}: ${v}`,m);const w=h.createWebChannel(v,m);this.I_(w);let C=!1,x=!1;const j=new eA({Ho:J=>{x?ne(Lt,`Not sending because RPC '${e}' stream ${a} is closed:`,J):(C||(ne(Lt,`Opening RPC '${e}' stream ${a} transport.`),w.open(),C=!0),ne(Lt,`RPC '${e}' stream ${a} sending:`,J),w.send(J))},Jo:()=>w.close()});return Ia(w,Aa.EventType.OPEN,(()=>{x||(ne(Lt,`RPC '${e}' stream ${a} transport opened.`),j.i_())})),Ia(w,Aa.EventType.CLOSE,(()=>{x||(x=!0,ne(Lt,`RPC '${e}' stream ${a} transport closed`),j.o_(),this.E_(w))})),Ia(w,Aa.EventType.ERROR,(J=>{x||(x=!0,as(Lt,`RPC '${e}' stream ${a} transport errored. Name:`,J.name,"Message:",J.message),j.o_(new ee(z.UNAVAILABLE,"The operation could not be completed")))})),Ia(w,Aa.EventType.MESSAGE,(J=>{if(!x){const Q=J.data[0];Ue(!!Q,16349);const G=Q,pe=G?.error||G[0]?.error;if(pe){ne(Lt,`RPC '${e}' stream ${a} received error:`,pe);const de=pe.status;let Te=(function(Ae){const k=ft[Ae];if(k!==void 0)return Y_(k)})(de),Se=pe.message;de==="NOT_FOUND"&&Se.includes("database")&&Se.includes("does not exist")&&Se.includes(this.databaseId.database)&&as(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Te===void 0&&(Te=z.INTERNAL,Se="Unknown error status: "+de+" with message "+pe.message),x=!0,j.o_(new ee(Te,Se)),w.close()}else ne(Lt,`RPC '${e}' stream ${a} received:`,Q),j.__(Q)}})),lo.u_(),setTimeout((()=>{j.s_()}),0),j}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return g_()}}function tA(i){return new lo(i)}function rd(){return typeof document<"u"?document:null}function fc(i){return new s1(i,!0)}lo.c_=!1;class hv{constructor(e,t,s=1e3,a=1.5,c=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=a,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&ne("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Zg="PersistentStream";class dv{constructor(e,t,s,a,c,h,m,y){this.Ci=e,this.b_=s,this.S_=a,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hv(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===z.RESOURCE_EXHAUSTED?(kr(t.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new ee(z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ne(Zg,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ne(Zg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nA extends dv{constructor(e,t,s,a,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,h),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=l1(this.serializer,e),s=(function(c){if(!("targetChange"in c))return ye.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?ye.min():h.readTime?tr(h.readTime):ye.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=Cd(this.serializer),t.addTarget=(function(c,h){let m;const y=h.target;if(m=wd(y)?{documents:h1(c,y)}:{query:d1(c,y).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Z_(c,h.resumeToken);const v=Sd(c,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(ye.min())>0){m.readTime=Ku(c,h.snapshotVersion.toTimestamp());const v=Sd(c,h.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,e);const s=p1(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=Cd(this.serializer),t.removeTarget=e,this.K_(t)}}class rA extends dv{constructor(e,t,s,a,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=c1(e.writeResults,e.commitTime),s=tr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Cd(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>u1(this.serializer,s)))};this.K_(t)}}class iA{}class sA extends iA{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,Ad(t,s),a,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ee(z.UNKNOWN,c.toString())}))}jo(e,t,s,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Ad(t,s),a,h,m,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ee(z.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function oA(i,e,t,s){return new sA(i,e,t,s)}class aA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(kr(t),this.aa=!1):ne("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ls="RemoteStore";class lA{constructor(e,t,s,a,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{ds(this)&&(ne(ls,"Restarting streams for network reachability change."),await(async function(y){const v=ve(y);v.Ea.add(4),await Za(v),v.Va.set("Unknown"),v.Ea.delete(4),await pc(v)})(this))}))})),this.Va=new aA(s,a)}}async function pc(i){if(ds(i))for(const e of i.Ra)await e(!0)}async function Za(i){for(const e of i.Ra)await e(!1)}function fv(i,e){const t=ve(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),pf(t)?ff(t):Ro(t).O_()&&df(t,e))}function hf(i,e){const t=ve(i),s=Ro(t);t.Ia.delete(e),s.O_()&&pv(t,e),t.Ia.size===0&&(s.O_()?s.L_():ds(t)&&t.Va.set("Unknown"))}function df(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ro(i).Z_(e)}function pv(i,e){i.da.$e(e),Ro(i).X_(e)}function ff(i){i.da=new t1({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ro(i).start(),i.Va.ua()}function pf(i){return ds(i)&&!Ro(i).x_()&&i.Ia.size>0}function ds(i){return ve(i).Ea.size===0}function mv(i){i.da=void 0}async function uA(i){i.Va.set("Online")}async function cA(i){i.Ia.forEach(((e,t)=>{df(i,e)}))}async function hA(i,e){mv(i),pf(i)?(i.Va.ha(e),ff(i)):i.Va.set("Unknown")}async function dA(i,e,t){if(i.Va.set("Online"),e instanceof X_&&e.state===2&&e.cause)try{await(async function(a,c){const h=c.cause;for(const m of c.targetIds)a.Ia.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.Ia.delete(m),a.da.removeTarget(m))})(i,e)}catch(s){ne(ls,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Yu(i,s)}else if(e instanceof Vu?i.da.Xe(e):e instanceof J_?i.da.st(e):i.da.tt(e),!t.isEqual(ye.min()))try{const s=await cv(i.localStore);t.compareTo(s)>=0&&await(function(c,h){const m=c.da.Tt(h);return m.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const w=c.Ia.get(v);w&&c.Ia.set(v,w.withResumeToken(y.resumeToken,h))}})),m.targetMismatches.forEach(((y,v)=>{const w=c.Ia.get(y);if(!w)return;c.Ia.set(y,w.withResumeToken(kt.EMPTY_BYTE_STRING,w.snapshotVersion)),pv(c,y);const C=new di(w.target,y,v,w.sequenceNumber);df(c,C)})),c.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){ne(ls,"Failed to raise snapshot:",s),await Yu(i,s)}}async function Yu(i,e,t){if(!Ao(e))throw e;i.Ea.add(1),await Za(i),i.Va.set("Offline"),t||(t=()=>cv(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ne(ls,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await pc(i)}))}function gv(i,e){return e().catch((t=>Yu(i,t,e)))}async function mc(i){const e=ve(i),t=Ii(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yd;for(;fA(e);)try{const a=await G1(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,pA(e,a)}catch(a){await Yu(e,a)}yv(e)&&_v(e)}function fA(i){return ds(i)&&i.Ta.length<10}function pA(i,e){i.Ta.push(e);const t=Ii(i);t.O_()&&t.Y_&&t.ea(e.mutations)}function yv(i){return ds(i)&&!Ii(i).x_()&&i.Ta.length>0}function _v(i){Ii(i).start()}async function mA(i){Ii(i).ra()}async function gA(i){const e=Ii(i);for(const t of i.Ta)e.ea(t.mutations)}async function yA(i,e,t){const s=i.Ta.shift(),a=rf.from(s,e,t);await gv(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await mc(i)}async function _A(i,e){e&&Ii(i).Y_&&await(async function(s,a){if((function(h){return XS(h)&&h!==z.ABORTED})(a.code)){const c=s.Ta.shift();Ii(s).B_(),await gv(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a))),await mc(s)}})(i,e),yv(i)&&_v(i)}async function ey(i,e){const t=ve(i);t.asyncQueue.verifyOperationInProgress(),ne(ls,"RemoteStore received new credentials");const s=ds(t);t.Ea.add(3),await Za(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await pc(t)}async function vA(i,e){const t=ve(i);e?(t.Ea.delete(2),await pc(t)):e||(t.Ea.add(2),await Za(t),t.Va.set("Unknown"))}function Ro(i){return i.ma||(i.ma=(function(t,s,a){const c=ve(t);return c.sa(),new nA(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(i.datastore,i.asyncQueue,{Zo:uA.bind(null,i),Yo:cA.bind(null,i),t_:hA.bind(null,i),J_:dA.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),pf(i)?ff(i):i.Va.set("Unknown")):(await i.ma.stop(),mv(i))}))),i.ma}function Ii(i){return i.fa||(i.fa=(function(t,s,a){const c=ve(t);return c.sa(),new rA(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:mA.bind(null,i),t_:_A.bind(null,i),ta:gA.bind(null,i),na:yA.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await mc(i)):(await i.fa.stop(),i.Ta.length>0&&(ne(ls,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class mf{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,c){const h=Date.now()+s,m=new mf(e,t,h,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gf(i,e){if(kr("AsyncQueue",`${e}: ${i}`),Ao(i))return new ee(z.UNAVAILABLE,`${e}: ${i}`);throw i}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||le.comparator(t.key,s.key):(t,s)=>le.comparator(t.key,s.key),this.keyedMap=Ra(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class ty{constructor(){this.ga=new tt(le.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):fe(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class _o{constructor(e,t,s,a,c,h,m,y,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,a,c){const h=[];return t.forEach((m=>{h.push({type:0,doc:m})})),new _o(e,t,uo.emptySet(t),h,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class EA{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class wA{constructor(){this.queries=ny(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=ve(t),c=a.queries;a.queries=ny(),c.forEach(((h,m)=>{for(const y of m.ba)y.onError(s)}))})(this,new ee(z.ABORTED,"Firestore shutting down"))}}function ny(){return new cs((i=>F_(i)),lc)}async function vv(i,e){const t=ve(i);let s=3;const a=e.query;let c=t.queries.get(a);c?!c.Sa()&&e.Da()&&(s=2):(c=new EA,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(a,!0);break;case 1:c.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(h){const m=gf(h,`Initialization of query '${no(e.query)}' failed`);return void e.onError(m)}t.queries.set(a,c),c.ba.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&yf(t)}async function Ev(i,e){const t=ve(i),s=e.query;let a=3;const c=t.queries.get(s);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?a=e.Da()?0:1:!c.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function TA(i,e){const t=ve(i);let s=!1;for(const a of e){const c=a.query,h=t.queries.get(c);if(h){for(const m of h.ba)m.Fa(a)&&(s=!0);h.wa=a}}s&&yf(t)}function IA(i,e,t){const s=ve(i),a=s.queries.get(e);if(a)for(const c of a.ba)c.onError(t);s.queries.delete(e)}function yf(i){i.Ca.forEach((e=>{e.next()}))}var Nd,ry;(ry=Nd||(Nd={})).Ma="default",ry.Cache="cache";class wv{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Nd.Cache}}class Tv{constructor(e){this.key=e}}class Iv{constructor(e){this.key=e}}class SA{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ne(),this.mutatedKeys=Ne(),this.eu=U_(e),this.tu=new uo(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new ty,a=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,h=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((w,C)=>{const x=a.get(w),j=uc(this.query,C)?C:null,J=!!x&&this.mutatedKeys.has(x.key),Q=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let G=!1;x&&j?x.data.isEqual(j.data)?J!==Q&&(s.track({type:3,doc:j}),G=!0):this.su(x,j)||(s.track({type:2,doc:j}),G=!0,(y&&this.eu(j,y)>0||v&&this.eu(j,v)<0)&&(m=!0)):!x&&j?(s.track({type:0,doc:j}),G=!0):x&&!j&&(s.track({type:1,doc:x}),G=!0,(y||v)&&(m=!0)),G&&(j?(h=h.add(j),c=Q?c.add(w):c.delete(w)):(h=h.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{tu:h,iu:s,Ss:m,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((w,C)=>(function(j,J){const Q=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Vt:G})}};return Q(j)-Q(J)})(w.type,C.type)||this.eu(w.doc,C.doc))),this.ou(s),a=a??!1;const m=t&&!a?this._u():[],y=this.Ya.size===0&&this.current&&!a?1:0,v=y!==this.Xa;return this.Xa=y,h.length!==0||v?{snapshot:new _o(this.query,e.tu,c,h,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ty,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ne(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new Iv(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new Tv(s))})),t}cu(e){this.Za=e.ks,this.Ya=Ne();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _f="SyncEngine";class AA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class RA{constructor(e){this.key=e,this.hu=!1}}class CA{constructor(e,t,s,a,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new cs((m=>F_(m)),lc),this.Iu=new Map,this.Eu=new Set,this.Ru=new tt(le.comparator),this.Au=new Map,this.Vu=new af,this.du={},this.mu=new Map,this.fu=yo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function PA(i,e,t=!0){const s=kv(i);let a;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.lu()):a=await Sv(s,e,t,!0),a}async function kA(i,e){const t=kv(i);await Sv(t,e,!0,!1)}async function Sv(i,e,t,s){const a=await K1(i.localStore,Zn(e)),c=a.targetId,h=i.sharedClientState.addLocalQueryTarget(c,t);let m;return s&&(m=await NA(i,e,c,h==="current",a.resumeToken)),i.isPrimaryClient&&t&&fv(i.remoteStore,a),m}async function NA(i,e,t,s,a){i.pu=(C,x,j)=>(async function(Q,G,pe,de){let Te=G.view.ru(pe);Te.Ss&&(Te=await Qg(Q.localStore,G.query,!1).then((({documents:k})=>G.view.ru(k,Te))));const Se=de&&de.targetChanges.get(G.targetId),Ye=de&&de.targetMismatches.get(G.targetId)!=null,Ae=G.view.applyChanges(Te,Q.isPrimaryClient,Se,Ye);return sy(Q,G.targetId,Ae.au),Ae.snapshot})(i,C,x,j);const c=await Qg(i.localStore,e,!0),h=new SA(e,c.ks),m=h.ru(c.documents),y=Xa.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",a),v=h.applyChanges(m,i.isPrimaryClient,y);sy(i,t,v.au);const w=new AA(e,t,h);return i.Tu.set(e,w),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),v.snapshot}async function DA(i,e,t){const s=ve(i),a=s.Tu.get(e),c=s.Iu.get(a.targetId);if(c.length>1)return s.Iu.set(a.targetId,c.filter((h=>!lc(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Pd(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&hf(s.remoteStore,a.targetId),Dd(s,a.targetId)})).catch(So)):(Dd(s,a.targetId),await Pd(s.localStore,a.targetId,!0))}async function VA(i,e){const t=ve(i),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),hf(t.remoteStore,s.targetId))}async function xA(i,e,t){const s=jA(i);try{const a=await(function(h,m){const y=ve(h),v=Qe.now(),w=m.reduce(((j,J)=>j.add(J.key)),Ne());let C,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let J=Nr(),Q=Ne();return y.xs.getEntries(j,w).next((G=>{J=G,J.forEach(((pe,de)=>{de.isValidDocument()||(Q=Q.add(pe))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,J))).next((G=>{C=G;const pe=[];for(const de of m){const Te=GS(de,C.get(de.key).overlayedDocument);Te!=null&&pe.push(new hs(de.key,Te,N_(Te.value.mapValue),er.exists(!0)))}return y.mutationQueue.addMutationBatch(j,v,pe,m)})).next((G=>{x=G;const pe=G.applyToLocalDocumentSet(C,Q);return y.documentOverlayCache.saveOverlays(j,G.batchId,pe)}))})).then((()=>({batchId:x.batchId,changes:z_(C)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(h,m,y){let v=h.du[h.currentUser.toKey()];v||(v=new tt(ke)),v=v.insert(m,y),h.du[h.currentUser.toKey()]=v})(s,a.batchId,t),await el(s,a.changes),await mc(s.remoteStore)}catch(a){const c=gf(a,"Failed to persist write");t.reject(c)}}async function Av(i,e){const t=ve(i);try{const s=await H1(t.localStore,e);e.targetChanges.forEach(((a,c)=>{const h=t.Au.get(c);h&&(Ue(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.hu=!0:a.modifiedDocuments.size>0?Ue(h.hu,14607):a.removedDocuments.size>0&&(Ue(h.hu,42227),h.hu=!1))})),await el(t,s,e)}catch(s){await So(s)}}function iy(i,e,t){const s=ve(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((c,h)=>{const m=h.view.va(e);m.snapshot&&a.push(m.snapshot)})),(function(h,m){const y=ve(h);y.onlineState=m;let v=!1;y.queries.forEach(((w,C)=>{for(const x of C.ba)x.va(m)&&(v=!0)})),v&&yf(y)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function OA(i,e,t){const s=ve(i);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),c=a&&a.key;if(c){let h=new tt(le.comparator);h=h.insert(c,bt.newNoDocument(c,ye.min()));const m=Ne().add(c),y=new dc(ye.min(),new Map,new tt(ke),h,m);await Av(s,y),s.Ru=s.Ru.remove(c),s.Au.delete(e),vf(s)}else await Pd(s.localStore,e,!1).then((()=>Dd(s,e,t))).catch(So)}async function LA(i,e){const t=ve(i),s=e.batch.batchId;try{const a=await W1(t.localStore,e);Cv(t,s,null),Rv(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await el(t,a)}catch(a){await So(a)}}async function MA(i,e,t){const s=ve(i);try{const a=await(function(h,m){const y=ve(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return y.mutationQueue.lookupMutationBatch(v,m).next((C=>(Ue(C!==null,37113),w=C.keys(),y.mutationQueue.removeMutationBatch(v,C)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,w,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>y.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);Cv(s,e,t),Rv(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await el(s,a)}catch(a){await So(a)}}function Rv(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function Cv(i,e,t){const s=ve(i);let a=s.du[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function Dd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||Pv(i,s)}))}function Pv(i,e){i.Eu.delete(e.path.canonicalString());const t=i.Ru.get(e);t!==null&&(hf(i.remoteStore,t),i.Ru=i.Ru.remove(e),i.Au.delete(t),vf(i))}function sy(i,e,t){for(const s of t)s instanceof Tv?(i.Vu.addReference(s.key,e),bA(i,s)):s instanceof Iv?(ne(_f,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||Pv(i,s.key)):fe(19791,{wu:s})}function bA(i,e){const t=e.key,s=t.path.canonicalString();i.Ru.get(t)||i.Eu.has(s)||(ne(_f,"New document in limbo: "+t),i.Eu.add(s),vf(i))}function vf(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new le(He.fromString(e)),s=i.fu.next();i.Au.set(s,new RA(t)),i.Ru=i.Ru.insert(t,s),fv(i.remoteStore,new di(Zn(ac(t.path)),s,"TargetPurposeLimboResolution",ic.ce))}}async function el(i,e,t){const s=ve(i),a=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,y)=>{h.push(s.pu(y,e,t).then((v=>{if((v||t)&&s.isPrimaryClient){const w=v?!v.fromCache:t?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,w?"current":"not-current")}if(v){a.push(v);const w=uf.Es(y.targetId,v);c.push(w)}})))})),await Promise.all(h),s.Pu.J_(a),await(async function(y,v){const w=ve(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>B.forEach(v,(x=>B.forEach(x.Ts,(j=>w.persistence.referenceDelegate.addReference(C,x.targetId,j))).next((()=>B.forEach(x.Is,(j=>w.persistence.referenceDelegate.removeReference(C,x.targetId,j)))))))))}catch(C){if(!Ao(C))throw C;ne(cf,"Failed to update sequence numbers: "+C)}for(const C of v){const x=C.targetId;if(!C.fromCache){const j=w.vs.get(x),J=j.snapshotVersion,Q=j.withLastLimboFreeSnapshotVersion(J);w.vs=w.vs.insert(x,Q)}}})(s.localStore,c))}async function FA(i,e){const t=ve(i);if(!t.currentUser.isEqual(e)){ne(_f,"User change. New user:",e.toKey());const s=await uv(t.localStore,e);t.currentUser=e,(function(c,h){c.mu.forEach((m=>{m.forEach((y=>{y.reject(new ee(z.CANCELLED,h))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await el(t,s.Ns)}}function UA(i,e){const t=ve(i),s=t.Au.get(e);if(s&&s.hu)return Ne().add(s.key);{let a=Ne();const c=t.Iu.get(e);if(!c)return a;for(const h of c){const m=t.Tu.get(h);a=a.unionWith(m.view.nu)}return a}}function kv(i){const e=ve(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Av.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OA.bind(null,e),e.Pu.J_=TA.bind(null,e.eventManager),e.Pu.yu=IA.bind(null,e.eventManager),e}function jA(i){const e=ve(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MA.bind(null,e),e}class Ju{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return $1(this.persistence,new j1,e.initialUser,this.serializer)}Cu(e){return new lv(lf.Vi,this.serializer)}Du(e){return new Y1}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ju.provider={build:()=>new Ju};class zA extends Ju{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ue(this.persistence.referenceDelegate instanceof Qu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new A1(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new lv((s=>Qu.Vi(s,t)),this.serializer)}}class Vd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>iy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FA.bind(null,this.syncEngine),await vA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wA})()}createDatastore(e){const t=fc(e.databaseInfo.databaseId),s=tA(e.databaseInfo);return oA(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,c,h,m){return new lA(s,a,c,h,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>iy(this.syncEngine,t,0)),(function(){return Xg.v()?new Xg:new J1})())}createSyncEngine(e,t){return(function(a,c,h,m,y,v,w){const C=new CA(a,c,h,m,y,v);return w&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=ve(t);ne(ls,"RemoteStore shutting down."),s.Ea.add(5),await Za(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Vd.provider={build:()=>new Vd};class Nv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Si="FirestoreClient";class BA{constructor(e,t,s,a,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=Qd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{ne(Si,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ne(Si,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=gf(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function id(i,e){i.asyncQueue.verifyOperationInProgress(),ne(Si,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async a=>{s.isEqual(a)||(await uv(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function oy(i,e){i.asyncQueue.verifyOperationInProgress();const t=await $A(i);ne(Si,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>ey(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,a)=>ey(e.remoteStore,a))),i._onlineComponents=e}async function $A(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ne(Si,"Using user provided OfflineComponentProvider");try{await id(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===z.FAILED_PRECONDITION||a.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;as("Error using user provided cache. Falling back to memory cache: "+t),await id(i,new Ju)}}else ne(Si,"Using default OfflineComponentProvider"),await id(i,new zA(void 0));return i._offlineComponents}async function Dv(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ne(Si,"Using user provided OnlineComponentProvider"),await oy(i,i._uninitializedComponentsProvider._online)):(ne(Si,"Using default OnlineComponentProvider"),await oy(i,new Vd))),i._onlineComponents}function WA(i){return Dv(i).then((e=>e.syncEngine))}async function xd(i){const e=await Dv(i),t=e.eventManager;return t.onListen=PA.bind(null,e.syncEngine),t.onUnlisten=DA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=kA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=VA.bind(null,e.syncEngine),t}function HA(i,e,t,s){const a=new Nv(s),c=new wv(e,a,t);return i.asyncQueue.enqueueAndForget((async()=>vv(await xd(i),c))),()=>{a.Nu(),i.asyncQueue.enqueueAndForget((async()=>Ev(await xd(i),c)))}}function qA(i,e,t={}){const s=new yi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,y,v){const w=new Nv({next:x=>{w.Nu(),h.enqueueAndForget((()=>Ev(c,C)));const j=x.docs.has(m);!j&&x.fromCache?v.reject(new ee(z.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&x.fromCache&&y&&y.source==="server"?v.reject(new ee(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),C=new wv(ac(m.path),w,{includeMetadataChanges:!0,Ka:!0});return vv(c,C)})(await xd(i),i.asyncQueue,e,t,s))),s.promise}function GA(i,e){const t=new yi;return i.asyncQueue.enqueueAndForget((async()=>xA(await WA(i),e,t))),t.promise}function Vv(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const KA="ComponentProvider",ay=new Map;function QA(i,e,t,s,a){return new mS(i,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,Vv(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const xv="firestore.googleapis.com",ly=!0;class uy{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ee(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xv,this.ssl=ly}else this.host=e.host,this.ssl=e.ssl??ly;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=av;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I1)throw new ee(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vv(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gc{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new K0;switch(s.type){case"firstParty":return new X0(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ee(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=ay.get(t);s&&(ne(KA,"Removing Datastore"),ay.delete(t),s.terminate())})(this),Promise.resolve()}}function YA(i,e,t,s={}){i=Rr(i,gc);const a=Eo(e),c=i._getSettings(),h={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;a&&(Cy(`https://${m}`),Py("Firestore",!0)),c.host!==xv&&c.host!==m&&as("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:m,ssl:a,emulatorOptions:s};if(!rs(y,h)&&(i._setSettings(y),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=Mt.MOCK_USER;else{v=vw(s.mockUserToken,i._app?.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new ee(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Mt(C)}i._authCredentials=new Q0(new __(v,w))}}class Co{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class ut{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}toJSON(){return{type:ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Qa(t,ut._jsonSchema))return new ut(e,s||null,new le(He.fromString(t.referencePath)))}}ut._jsonSchemaVersion="firestore/documentReference/1.0",ut._jsonSchema={type:mt("string",ut._jsonSchemaVersion),referencePath:mt("string")};class _i extends Co{constructor(e,t,s){super(e,t,ac(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new le(e))}withConverter(e){return new _i(this.firestore,e,this._path)}}function JA(i,e,...t){if(i=$t(i),v_("collection","path",e),i instanceof gc){const s=He.fromString(e,...t);return Tg(s),new _i(i,null,s)}{if(!(i instanceof ut||i instanceof _i))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(He.fromString(e,...t));return Tg(s),new _i(i.firestore,null,s)}}function sd(i,e,...t){if(i=$t(i),arguments.length===1&&(e=Qd.newId()),v_("doc","path",e),i instanceof gc){const s=He.fromString(e,...t);return wg(s),new ut(i,null,new le(s))}{if(!(i instanceof ut||i instanceof _i))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(He.fromString(e,...t));return wg(s),new ut(i.firestore,i instanceof _i?i.converter:null,new le(s))}}const cy="AsyncQueue";class hy{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hv(this,"async_queue_retry"),this._c=()=>{const s=rd();s&&ne(cy,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=rd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=rd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new yi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;ne(cy,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,kr("INTERNAL UNHANDLED ERROR: ",dy(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=mf.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(a),a}uc(){this.nc&&fe(47125,{Pc:dy(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function dy(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class vo extends gc{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new hy,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hy(e),this._firestoreClient=void 0,await e}}}function XA(i,e){const t=typeof i=="object"?i:Vy(),s=typeof i=="string"?i:$u,a=bd(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=yw("firestore");c&&YA(a,...c)}return a}function Ef(i){if(i._terminated)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||ZA(i),i._firestoreClient}function ZA(i){const e=i._freezeSettings(),t=QA(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new BA(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(i._componentsProvider))}class gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gn(kt.fromBase64String(e))}catch(t){throw new ee(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gn(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qa(e,gn._jsonSchema))return gn.fromBase64String(e.bytes)}}gn._jsonSchemaVersion="firestore/bytes/1.0",gn._jsonSchema={type:mt("string",gn._jsonSchemaVersion),bytes:mt("string")};class Ov{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ee(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wf{constructor(e){this._methodName=e}}class nr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ee(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ee(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(e){if(Qa(e,nr._jsonSchema))return new nr(e.latitude,e.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:mt("string",nr._jsonSchemaVersion),latitude:mt("number"),longitude:mt("number")};class Dn{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Dn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qa(e,Dn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Dn(e.vectorValues);throw new ee(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dn._jsonSchemaVersion="firestore/vectorValue/1.0",Dn._jsonSchema={type:mt("string",Dn._jsonSchemaVersion),vectorValues:mt("object")};const eR=/^__.*__$/;class tR{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ja(e,this.data,t,this.fieldTransforms)}}function Lv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{dataSource:i})}}class Tf{constructor(e,t,s,a,c,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Tf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Xu(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Lv(this.dataSource)&&eR.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class nR{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||fc(e)}createContext(e,t,s,a=!1){return new Tf({dataSource:e,methodName:t,targetDoc:s,path:Pt.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mv(i){const e=i._freezeSettings(),t=fc(i._databaseId);return new nR(i._databaseId,!!e.ignoreUndefinedProperties,t)}function rR(i,e,t,s,a,c={}){const h=i.createContext(c.merge||c.mergeFields?2:0,e,t,a);Uv("Data must be an object, but it was:",h,s);const m=bv(s,h);let y,v;if(c.merge)y=new kn(h.fieldMask),v=h.fieldTransforms;else if(c.mergeFields){const w=[];for(const C of c.mergeFields){const x=yc(e,C,t);if(!h.contains(x))throw new ee(z.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);aR(w,x)||w.push(x)}y=new kn(w),v=h.fieldTransforms.filter((C=>y.covers(C.field)))}else y=null,v=h.fieldTransforms;return new tR(new mn(m),y,v)}class If extends wf{_toFieldTransform(e){return new $S(e.path,new za)}isEqual(e){return e instanceof If}}function iR(i,e,t,s=!1){return Sf(t,i.createContext(s?4:3,e))}function Sf(i,e){if(Fv(i=$t(i)))return Uv("Unsupported field value:",e,i),bv(i,e);if(i instanceof wf)return(function(s,a){if(!Lv(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const c=[];let h=0;for(const m of s){let y=Sf(m,a.childContextForArray(h));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),h++}return{arrayValue:{values:c}}})(i,e)}return(function(s,a){if((s=$t(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return jS(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Qe.fromDate(s);return{timestampValue:Ku(a.serializer,c)}}if(s instanceof Qe){const c=new Qe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ku(a.serializer,c)}}if(s instanceof nr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof gn)return{bytesValue:Z_(a.serializer,s._byteString)};if(s instanceof ut){const c=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw a.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:of(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Dn)return(function(h,m){const y=h instanceof Dn?h.toArray():h;return{mapValue:{fields:{[P_]:{stringValue:k_},[Wu]:{arrayValue:{values:y.map((w=>{if(typeof w!="number")throw m.createError("VectorValues must only contain numeric values.");return tf(m.serializer,w)}))}}}}}})(s,a);if(ov(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${rc(s)}`)})(i,e)}function bv(i,e){const t={};return T_(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(i,((s,a)=>{const c=Sf(a,e.childContextForField(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function Fv(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Qe||i instanceof nr||i instanceof gn||i instanceof ut||i instanceof wf||i instanceof Dn||ov(i))}function Uv(i,e,t){if(!Fv(t)||!E_(t)){const s=rc(t);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function yc(i,e,t){if((e=$t(e))instanceof Ov)return e._internalPath;if(typeof e=="string")return oR(i,e);throw Xu("Field path arguments must be of type string or ",i,!1,void 0,t)}const sR=new RegExp("[~\\*/\\[\\]]");function oR(i,e,t){if(e.search(sR)>=0)throw Xu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ov(...e.split("."))._internalPath}catch{throw Xu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Xu(i,e,t,s,a){const c=s&&!s.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||h)&&(y+=" (found",c&&(y+=` in field ${s}`),h&&(y+=` in document ${a}`),y+=")"),new ee(z.INVALID_ARGUMENT,m+i+y)}function aR(i,e){return i.some((t=>t.isEqual(e)))}class lR{convertValue(e,t="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return us(e,((a,c)=>{s[a]=this.convertValue(c,t)})),s}convertVectorValue(e){const t=e.fields?.[Wu].arrayValue?.values?.map((s=>lt(s.doubleValue)));return new Dn(t)}convertGeoPoint(e){return new nr(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=oc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Fa(e));default:return null}}convertTimestamp(e){const t=Ei(e);return new Qe(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=He.fromString(e);Ue(sv(s),9688,{name:e});const a=new Ua(s.get(1),s.get(3)),c=new le(s.popFirst(5));return a.isEqual(t)||kr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class jv extends lR{constructor(e){super(),this.firestore=e}convertBytes(e){return new gn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,t)}}function fy(){return new If("serverTimestamp")}const py="@firebase/firestore",my="4.11.0";function gy(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const c of s)if(c in a&&typeof a[c]=="function")return!0;return!1})(i,["next","error","complete"])}class zv{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(yc("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class uR extends zv{data(){return super.data()}}function cR(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ee(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Af{}class hR extends Af{}function dR(i,e,...t){let s=[];e instanceof Af&&s.push(e),s=s.concat(t),(function(c){const h=c.filter((y=>y instanceof Rf)).length,m=c.filter((y=>y instanceof _c)).length;if(h>1||h>0&&m>0)throw new ee(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)i=a._apply(i);return i}class _c extends hR{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new _c(e,t,s)}_apply(e){const t=this._parse(e);return Bv(e._query,t),new Co(e.firestore,e.converter,Td(e._query,t))}_parse(e){const t=Mv(e.firestore);return(function(c,h,m,y,v,w,C){let x;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ee(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){_y(C,w);const J=[];for(const Q of C)J.push(yy(y,c,Q));x={arrayValue:{values:J}}}else x=yy(y,c,C)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||_y(C,w),x=iR(m,h,C,w==="in"||w==="not-in");return pt.create(v,w,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function fR(i,e,t){const s=e,a=yc("where",i);return _c._create(a,s,t)}class Rf extends Af{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rf(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Vn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,c){let h=a;const m=c.getFlattenedFilters();for(const y of m)Bv(h,y),h=Td(h,y)})(e._query,t),new Co(e.firestore,e.converter,Td(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yy(i,e,t){if(typeof(t=$t(t))=="string"){if(t==="")throw new ee(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b_(e)&&t.indexOf("/")!==-1)throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(He.fromString(t));if(!le.isDocumentKey(s))throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ng(i,new le(s))}if(t instanceof ut)return Ng(i,t._key);throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rc(t)}.`)}function _y(i,e){if(!Array.isArray(i)||i.length===0)throw new ee(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bv(i,e){const t=(function(a,c){for(const h of a)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ee(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function pR(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class Pa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ns extends zv{constructor(e,t,s,a,c,h){super(e,t,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(yc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ns._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",ns._jsonSchema={type:mt("string",ns._jsonSchemaVersion),bundleSource:mt("string","DocumentSnapshot"),bundleName:mt("string"),bundle:mt("string")};class xu extends ns{data(e={}){return super.data(e)}}class co{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Pa(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new xu(this._firestore,this._userDataWriter,s.key,s,new Pa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ee(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map((m=>{const y=new xu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Pa(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const y=new xu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Pa(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),w=h.indexOf(m.doc.key)),{type:mR(m.type),doc:y,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mR(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:i})}}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:mt("string",co._jsonSchemaVersion),bundleSource:mt("string","QuerySnapshot"),bundleName:mt("string"),bundle:mt("string")};function gR(i){i=Rr(i,ut);const e=Rr(i.firestore,vo),t=Ef(e);return qA(t,i._key).then((s=>Wv(e,i,s)))}function vy(i,e,t){i=Rr(i,ut);const s=Rr(i.firestore,vo),a=pR(i.converter,e,t),c=Mv(s);return $v(s,[rR(c,"setDoc",i._key,a,i.converter!==null,t).toMutation(i._key,er.none())])}function yR(i){return $v(Rr(i.firestore,vo),[new nf(i._key,er.none())])}function _R(i,...e){i=$t(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||gy(e[s])||(t=e[s++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(gy(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let c,h,m;if(i instanceof ut)h=Rr(i.firestore,vo),m=ac(i._key.path),c={next:v=>{e[s]&&e[s](Wv(h,i,v))},error:e[s+1],complete:e[s+2]};else{const v=Rr(i,Co);h=Rr(v.firestore,vo),m=v._query;const w=new jv(h);c={next:C=>{e[s]&&e[s](new co(h,w,v,C))},error:e[s+1],complete:e[s+2]},cR(i._query)}const y=Ef(h);return HA(y,m,a,c)}function $v(i,e){const t=Ef(i);return GA(t,e)}function Wv(i,e,t){const s=t.docs.get(e._key),a=new jv(i);return new ns(i,a,e._key,s,new Pa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){G0(wo),ho(new is("firestore",((s,{instanceIdentifier:a,options:c})=>{const h=s.getProvider("app").getImmediate(),m=new vo(new Y0(s.getProvider("auth-internal")),new Z0(h,s.getProvider("app-check-internal")),gS(h,a),h);return c={useFetchStreams:t,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),mi(py,my,e),mi(py,my,"esm2020")})();var vR="firebase",ER="12.9.0";mi(vR,ER,"app");const wR={apiKey:"AIzaSyDQgfDkxQWSiGvP5vLOVYydeKwe6sPh6F4",authDomain:"workout-tracker-46485.firebaseapp.com",projectId:"workout-tracker-46485",storageBucket:"workout-tracker-46485.firebasestorage.app",messagingSenderId:"1059653873279",appId:"1:1059653873279:web:c04515fb07f8340bc3594a",measurementId:"G-ZBE8STEREE"},Hv=Dy(wR),Iu=XA(Hv),od=H0(Hv),TR=new Ir,IR=["Chest","Back","Triceps","Biceps","Shoulder","Forearms","Legs","Core"],Sa=i=>i.toISOString().slice(0,10),SR=i=>{const e=(i.getDay()+6)%7,t=new Date(i);return t.setDate(i.getDate()-e),t.setHours(0,0,0,0),t},ad=(i,e)=>{const t=new Date(i);return t.setDate(i.getDate()+e),t},AR=i=>new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(i),RR=(i,e)=>{const t=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(i),s=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(e);return`${t} - ${s}`};function CR(){const i=Bt.useMemo(()=>{const A=new Date;return A.setHours(0,0,0,0),A},[]),[e,t]=Bt.useState(4),[s,a]=Bt.useState([]),[c,h]=Bt.useState("loading"),[m,y]=Bt.useState(null),[v,w]=Bt.useState(null),C=Bt.useMemo(()=>SR(i),[i]),x=Bt.useMemo(()=>Array.from({length:7},(A,N)=>ad(C,N)),[C]),j=Bt.useMemo(()=>{const A=Sa(C),N=Sa(ad(C,6));return s.filter(T=>T.date>=A&&T.date<=N)},[C,s]),J=Bt.useMemo(()=>{const A=new Set;return j.forEach(N=>A.add(N.date)),A},[j]),Q=J.size,G=Math.max(0,e-Q),pe=Math.min(100,Math.round(Q/e*100)),[de,Te]=Bt.useState(()=>Sa(i)),Se=Bt.useMemo(()=>{const A=new Map;return j.forEach(N=>{N.muscleGroups.forEach(T=>{A.set(T,(A.get(T)??0)+1)})}),A},[j]),Ae=s.find(A=>A.date===de)?.muscleGroups??[];Bt.useEffect(()=>xI(od,async N=>{if(y(N),!N){h("signed-out"),a([]);return}h("loading");const T=sd(Iu,"users",N.uid);if(!(await gR(T)).exists()){w(N),h("pending-profile");return}w(null),h("ready")}),[]),Bt.useEffect(()=>{if(!m||c!=="ready")return;const A=JA(Iu,"workouts"),N=dR(A,fR("userId","==",m.uid));return _R(N,T=>{const xe=T.docs.map(ze=>ze.data()).map(ze=>({date:ze.date,muscleGroups:ze.muscleGroups??[]}));a(xe)})},[c,m]);const k=async()=>{h("loading"),await e0(od,TR)},S=async()=>{v&&(await vy(sd(Iu,"users",v.uid),{userId:v.uid,email:v.email??"",name:v.displayName??"",photoUrl:v.photoURL??"",createdAt:fy()}),w(null),h("ready"))},R=async()=>{await OI(od)},V=A=>{if(!m)return;const N=s.find(nt=>nt.date===de),T=N?.muscleGroups.includes(A)?N.muscleGroups.filter(nt=>nt!==A):[...N?.muscleGroups??[],A],xe=`${m.uid}_${de}`,ze=sd(Iu,"workouts",xe);if(T.length===0){yR(ze);return}vy(ze,{userId:m.uid,date:de,muscleGroups:T,updatedAt:fy()},{merge:!0})};return c==="loading"?te.jsx("div",{className:"app auth-screen",children:te.jsxs("div",{className:"card auth-card",children:[te.jsx("h1",{children:"Workout Tracker"}),te.jsx("p",{className:"muted",children:"Loading your account..."})]})}):c==="signed-out"?te.jsx("div",{className:"app auth-screen",children:te.jsxs("div",{className:"card auth-card",children:[te.jsx("p",{className:"eyebrow",children:"Welcome back"}),te.jsx("h1",{children:"Workout Tracker"}),te.jsx("p",{className:"muted",children:"Sign in to track your workouts across devices."}),te.jsx("button",{className:"cta",onClick:k,children:"Continue with Google"})]})}):c==="pending-profile"&&v?te.jsx("div",{className:"app auth-screen",children:te.jsxs("div",{className:"card auth-card",children:[te.jsx("p",{className:"eyebrow",children:"Almost there"}),te.jsx("h1",{children:"Create your account?"}),te.jsx("p",{className:"muted",children:"We found your Google account but not an app profile yet. Want to create one now?"}),te.jsxs("div",{className:"auth-actions",children:[te.jsx("button",{className:"cta",onClick:S,children:"Create account"}),te.jsx("button",{className:"ghost",onClick:R,children:"Not now"})]})]})}):te.jsxs("div",{className:"app",children:[te.jsxs("header",{className:"hero",children:[te.jsxs("div",{children:[te.jsx("p",{className:"eyebrow",children:m?.displayName?`Hi ${m.displayName}`:"Weekly focus"}),te.jsx("h1",{children:"Workout Tracker"}),te.jsx("p",{className:"subhead",children:RR(C,ad(C,6))})]}),te.jsxs("div",{className:"hero-card",children:[te.jsx("p",{className:"label",children:"Goal"}),te.jsxs("div",{className:"goal-line",children:[te.jsx("span",{className:"goal-value",children:e}),te.jsx("span",{className:"goal-caption",children:"days/week"})]}),te.jsx("input",{className:"goal-slider",type:"range",min:1,max:7,value:e,onChange:A=>t(Number(A.target.value)),"aria-label":"Workout goal days per week"})]})]}),te.jsxs("section",{className:"card week-card",children:[te.jsxs("div",{className:"week-top",children:[te.jsxs("div",{children:[te.jsx("h2",{children:"This week"}),te.jsxs("p",{className:"muted",children:[Q," workouts logged - ",G===0?"Goal met":`${G} to go`]})]}),te.jsxs("div",{className:"progress",children:[te.jsx("div",{className:"progress-track",children:te.jsx("div",{className:"progress-fill",style:{width:`${pe}%`}})}),te.jsxs("span",{children:[pe,"%"]})]})]}),te.jsx("div",{className:"week-grid",children:x.map(A=>{const N=Sa(A),T=J.has(N),xe=N===Sa(i),ze=N===de,nt=A.getTime()>i.getTime();return te.jsxs("button",{type:"button",className:`day-pill ${xe?"today":""} ${ze?"selected":""}`,onClick:()=>Te(N),disabled:nt,children:[te.jsx("span",{className:"day-name",children:AR(A)}),te.jsx("span",{className:"day-date",children:A.getDate()}),te.jsx("span",{className:`dot ${T?"active":""}`})]},N)})})]}),te.jsxs("section",{className:"card",children:[te.jsxs("div",{className:"section-head",children:[te.jsxs("div",{children:[te.jsx("h2",{children:"Day details"}),te.jsxs("p",{className:"muted",children:[de," - Tap to edit the muscle groups you trained."]})]}),te.jsxs("span",{className:"pill",children:[Ae.length," groups"]})]}),te.jsx("div",{className:"chip-grid",children:IR.map(A=>te.jsx("button",{className:`chip ${Ae.includes(A)?"selected":""}`,onClick:()=>V(A),children:A},A))})]}),te.jsxs("section",{className:"card",children:[te.jsxs("div",{className:"section-head",children:[te.jsxs("div",{children:[te.jsx("h2",{children:"Worked this week"}),te.jsx("p",{className:"muted",children:"Already hit these muscle groups."})]}),te.jsxs("span",{className:"pill",children:[Se.size," groups"]})]}),te.jsxs("div",{className:"chip-grid compact",children:[Se.size===0&&te.jsx("p",{className:"muted",children:"No workouts logged for the week yet."}),Array.from(Se.entries()).map(([A,N])=>te.jsxs("span",{className:"chip accent",children:[A," - ",N]},A))]})]}),te.jsxs("section",{className:"card future-card",children:[te.jsx("h2",{children:"Coming soon"}),te.jsx("p",{className:"muted",children:"Interactive muscle map with touch selection and weekly heat overlay."}),te.jsx("div",{className:"muscle-map",children:te.jsx("div",{className:"muscle-placeholder",children:"Muscle map preview"})})]})]})}lw.createRoot(document.getElementById("root")).render(te.jsx(tw.StrictMode,{children:te.jsx(CR,{})}));
